<!DOCTYPE html>
<html lang="pl" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
  <title>Witaj w Money Island</title>
  <style th:attr="nonce=${cspNonce}">
    /*
     * =======================================================
     * === MONEY ISLAND: GOLD BG + GREEN TEXT (LARGE BODY) ===
     * =======================================================
     */

    :root {
    /* --- TŁO (CIEPŁY BEŻ/ZŁOTO) --- */
      --bg-warm-base: #F0E5D3;
      --bg-decor-1: #DDA15E;
      --bg-decor-2: #BC6C25;

      /* --- TEKSTY (ZIELENIE) --- */
      --color-sage: #9caf88;
      --color-moss: #386641;
      --color-hunter: #2b4c3b;
      --color-fern: #6a994e;
      --color-dark-green: #234d20;

      /* --- KOLORY MONETY I DRZEW --- */
      --tree-trunk: #8D5524;
      --coin-face: #FFB703;
      --coin-edge: #FB8500;
      --coin-symbol: #D67000;
      --coin-shine: #FFD972;
    }

    .panel-wrapper {
      width: 100%;
      min-height: 100vh;
      background-color: var(--bg-warm-base);
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
      overflow: hidden;
    }

    /* --- DEKORACJE TŁA (ZAKTUALIZOWANA SEKCJA) --- */
    .panel-bg-leaf {
      position: absolute;
      z-index: 0;
      pointer-events: none; /* Zapobiega interakcji z kształtami */
    }

    /* 1. Duży, miękki kształt w lewym górnym rogu */
    .panel-bg-leaf-1 {
      background-color: var(--bg-decor-1);
      width: 600px;
      height: 600px;
      top: -250px;
      left: -200px;
      border-radius: 45% 55% 60% 40%; /* Organiczny, "płynny" kształt */
      opacity: 0.2;
      transform: rotate(-15deg);
    }

    /* 2. Duży, zaokrąglony kształt w prawym dolnym rogu */
    .panel-bg-leaf-2 {
      background-color: var(--bg-decor-2);
      width: 700px;
      height: 700px;
      bottom: -350px;
      right: -250px;
      border-radius: 50% 60% 40% 50%;
      opacity: 0.18;
      transform: rotate(25deg);
    }

    /* 3. Średniej wielkości koło w prawym górnym rogu */
    .panel-bg-leaf-3 {
      background-color: var(--bg-decor-1);
      width: 350px;
      height: 350px;
      top: -100px;
      right: -120px;
      border-radius: 50%;
      opacity: 0.15;
      transform: rotate(10deg);
    }

    /* 4. Duże, subtelne koło po lewej stronie */
    .panel-bg-leaf-4 {
      background-color: var(--bg-decor-2);
      width: 500px;
      height: 500px;
      bottom: -100px;
      left: -280px;
      border-radius: 50%;
      opacity: 0.1;
    }

    /* 5. Mniejszy, podłużny kształt na środku po prawej */
    .panel-bg-leaf-5 {
      background-color: var(--bg-decor-1);
      width: 250px;
      height: 400px;
      top: 35%;
      right: -150px;
      border-radius: 200px;
      opacity: 0.12;
      transform: rotate(50deg);
    }


    /* --- KARTA --- */
    .panel-card {
      width: 100%;
      max-width: 1000px;
      height: 520px;
      background-color: #ffffff;
      border-radius: 24px;
      box-shadow: 0 25px 50px -12px rgba(92, 64, 51, 0.15);
      z-index: 1;
      position: relative;
      display: flex;
      align-items: center;
      padding: 0 80px;
      box-sizing: border-box;
      margin: 20px;
    }

    /* LEWA STRONA */
    .panel-left-content {
      flex: 1;
      padding-right: 40px;
      display: flex;
      flex-direction: column;
      justify-content: center; /* Wyśrodkowanie w pionie */
    }

    .panel-main-title {
      font-size: 42px;
      font-weight: 900;
      color: var(--color-dark-green);
      margin: 0 0 20px 0;
      letter-spacing: -1px;
      line-height: 1.2;
      text-transform: uppercase;
    }

    .panel-dotted-line {
      height: 60px;
      width: 0;
      border-left: 3px dotted var(--color-sage);
      margin: 0 0 25px 5px;
      opacity: 0.8;
    }

    .panel-welcome-text {
      font-size: 20px;
      line-height: 1.6;
      color: var(--color-hunter);
      font-weight: 400;
      text-align: justify;
      opacity: 0.95;
      max-width: 480px;
    }

    /* PRAWA STRONA */
    .panel-right-content {
      flex: 1;
      display: flex;
      justify-content: flex-end;
      align-items: center;
      height: 100%;
      position: relative;
    }

    .panel-art-island {
      width: 450px;
      height: 450px;
      display: flex;
      justify-content: center;
      align-items: center;
      animation: coin-float 7s ease-in-out infinite;
    }

    .coin-svg {
      width: 100%;
      height: 100%;
      overflow: visible;
      filter: drop-shadow(0px 30px 25px rgba(184, 115, 0, 0.3));
    }

    @keyframes coin-float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-12px); }
    }

    @media (max-width: 1100px) {
      .panel-card {
        width: 90%;
        height: auto;
        flex-direction: column;
        padding: 50px 30px;
      }
      .panel-left-content {
        padding-right: 0;
        text-align: center;
        margin-bottom: 50px;
      }
      .panel-dotted-line {
        border-left: none;
        border-top: 3px dotted var(--color-sage);
        width: 60px;
        height: 0;
        margin: 0 auto 25px auto;
      }
      .panel-right-content {
        justify-content: center;
        width: 100%;
      }
      .panel-art-island {
        width: 320px;
        height: 320px;
      }
    }
  </style>
</head>
<body>

<div layout:fragment="content">
  <div class="panel-wrapper">
    <!-- Tło w odcieniach monety (ciemniejszy beż/złoto) -->
    <div class="panel-bg-leaf panel-bg-leaf-1"></div>
    <div class="panel-bg-leaf panel-bg-leaf-2"></div>
    <div class="panel-bg-leaf panel-bg-leaf-3"></div>
    <div class="panel-bg-leaf panel-bg-leaf-4"></div>
    <div class="panel-bg-leaf panel-bg-leaf-5"></div>

    <div class="panel-card">
      <div class="panel-left-content">
        <h1 class="panel-main-title"
            th:utext="${currentUsername != null} ? 'WITAJ,<br>' + ${currentUsername} : 'WITAJ UŻYTKOWNIKU'">
          WITAJ
        </h1>

        <div class="panel-dotted-line"></div>

        <p class="panel-welcome-text">
          Money Island to miejsce, gdzie Twoje finanse nabierają kształtu,
          a cele stają się rzeczywistością. Przeglądaj wartość swojego majątku,
          planuj budżet, monitoruj, zarządzaj historią wydatków i przychodów, wyznaczaj cele.
        </p>
      </div>

      <div class="panel-right-content">
        <div class="panel-art-island">
          <!-- Grafika monety i drzew (bez zmian) -->
          <svg class="coin-svg" viewBox="0 0 400 350" xmlns="http://www.w3.org/2000/svg">

            <ellipse cx="200" cy="330" rx="140" ry="15" fill="#5D4037" opacity="0.15" />

            <!-- Moneta -->
            <path d="M40,230 Q200,310 360,230 L360,260 Q200,345 40,260 Z" fill="var(--coin-edge)"/>
            <ellipse cx="200" cy="230" rx="160" ry="50" fill="var(--coin-face)"/>
            <ellipse cx="200" cy="230" rx="145" ry="45" fill="none" stroke="#D67000" stroke-width="2" opacity="0.4"/>

            <g transform="translate(200, 240) scale(2.0, 1.2)">
              <text x="0" y="10" text-anchor="middle" font-family="Arial, sans-serif" font-weight="900" font-size="60" fill="var(--coin-symbol)" opacity="0.5">$</text>
            </g>

            <path d="M100,200 Q200,180 300,200 Q280,230 120,230 Z" fill="var(--coin-shine)" opacity="0.4"/>

            <!-- Roślinność -->
            <g transform="translate(130, 205) scale(0.6)">
              <path d="M0,0 L0,-30" stroke="var(--tree-trunk)" stroke-width="8" stroke-linecap="round"/>
              <circle cx="0" cy="-35" r="25" fill="var(--color-sage)" />
            </g>
            <g transform="translate(260, 200) scale(0.7)">
              <path d="M0,0 L0,-30" stroke="var(--tree-trunk)" stroke-width="8" stroke-linecap="round"/>
              <circle cx="0" cy="-35" r="25" fill="var(--color-sage)" />
            </g>

            <g transform="translate(80, 225)">
              <circle cx="-10" cy="0" r="10" fill="var(--color-fern)"/>
              <circle cx="10" cy="2" r="8" fill="var(--color-moss)"/>
              <path d="M0,0 Q-5,-40 0,-80" stroke="var(--tree-trunk)" stroke-width="10" stroke-linecap="round" fill="none"/>
              <g transform="translate(0, -80)">
                <circle cx="-25" cy="5" r="28" fill="var(--color-fern)" />
                <circle cx="25" cy="5" r="28" fill="var(--color-fern)" />
                <circle cx="0" cy="-25" r="32" fill="var(--color-moss)" />
                <circle cx="0" cy="0" r="30" fill="var(--color-dark-green)" />
              </g>
            </g>

            <g transform="translate(320, 220)">
              <circle cx="5" cy="2" r="9" fill="var(--color-fern)"/>
              <path d="M0,0 L0,-50" stroke="var(--tree-trunk)" stroke-width="8" stroke-linecap="round"/>
              <g transform="translate(0, -50)">
                <circle cx="-20" cy="-10" r="22" fill="var(--color-fern)" />
                <circle cx="20" cy="-10" r="22" fill="var(--color-sage)" />
                <circle cx="0" cy="-30" r="25" fill="var(--color-moss)" />
              </g>
            </g>

            <g transform="translate(290, 210) scale(0.8)">
              <path d="M0,0 L0,-40" stroke="var(--tree-trunk)" stroke-width="8" stroke-linecap="round"/>
              <circle cx="0" cy="-45" r="25" fill="var(--color-fern)" />
            </g>

            <circle cx="110" cy="245" r="12" fill="var(--color-fern)" />
            <circle cx="125" cy="250" r="9" fill="var(--color-moss)" />
            <circle cx="280" cy="240" r="10" fill="var(--color-sage)" />
            <circle cx="300" cy="245" r="12" fill="var(--color-fern)" />

            <circle cx="200" cy="260" r="5" fill="#FFFFFF" opacity="0.3"/>
            <circle cx="160" cy="220" r="3" fill="#FFFFFF" opacity="0.3"/>

          </svg>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>