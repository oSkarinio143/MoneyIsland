/*

 Copyright (c) 2016 Federico Zivolo and contributors

 Permission is hereby granted, free of charge, to any person obtaining a copy
 of this software and associated documentation files (the "Software"), to deal
 in the Software without restriction, including without limitation the rights
 to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 copies of the Software, and to permit persons to whom the Software is
 furnished to do so, subject to the following conditions:

 The above copyright notice and this permission notice shall be included in all
 copies or substantial portions of the Software.

 THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 SOFTWARE.
 Chen, Yi-Cyuan 2014-2017
 @license MIT
*/
function sonatypeStartGainsightPx(){!function(l){function a(n){if(b[n])return b[n].exports;var f=b[n]={i:n,l:!1,exports:{}};return l[n].call(f.exports,f,f.exports,a),f.l=!0,f.exports}var b={};a.m=l;a.c=b;a.i=function(a){return a};a.d=function(b,f,r){a.o(b,f)||Object.defineProperty(b,f,{configurable:!1,enumerable:!0,get:r})};a.n=function(b){var f=b&&b.__esModule?function(){return b["default"]}:function(){return b};return a.d(f,"a",f),f};a.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,
b)};a.p="";a(a.s=437)}([function(l,a,b){function n(c){if(Array.isArray(c)){for(var a=0,b=Array(c.length);a<c.length;a++)b[a]=c[a];return b}return Array.from(c)}function f(){return(0,N.getConfig)("scrollToArea")||"center"}function r(){return window.location}function p(c,a,b){var d=c[a];b&&(b=void 0,{}.hasOwnProperty.call(c,"Zone")?b=c:{}.hasOwnProperty.call(window,"Zone")&&(b=window),b)&&(d=c[b.Zone.__symbol__(a)]||c[a]);return d}function u(c,a){return(a||(0,N.getConfig)("stripSafeUrlProtocol"))&&
(0===c.indexOf("http://")?c=c.substring(7):0===c.indexOf("https://")&&(c=c.substring(8))),0===c.indexOf("www.")&&(c=c.substring("www.")),c.endsWith("/")&&(c=c.substring(0,c.length-1)),c}function k(c,a,b){var d=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],e=p(c,"addEventListener",(0,N.getConfig)("angularAddEventListener"));if(e)e.call(c,a,b,d);else{if(!c.attachEvent)return!1;c.attachEvent("on"+a,b)}return!0}function m(c,a,b){var d=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],
e=p(c,"removeEventListener",(0,N.getConfig)("angularAddEventListener"));e?e.call(c,a,b,d):c.detachEvent&&c.detachEvent("on"+a,b)}function e(c){return-1<[null,void 0].indexOf(c)}function g(c){return"number"==typeof c}function d(c){return"boolean"==typeof c}function h(c,a,b){return b||(b=[]),b.push(c+(e(a)||""===a?"":"\x3d"+encodeURIComponent(a))),b}function v(c,a){for(var b in c)c.hasOwnProperty(b)&&(a=h(b,c[b],a));return a}function q(c){return void 0!==c&&null!=c&&"[object Object]"==Object.prototype.toString.call(c)}
function w(c){return c.getBoundingClientRect().top+c.offsetHeight/2}function t(c){if(!c)return!1;var a=c.getBoundingClientRect(),b=a.left+c.offsetWidth/2,a=a.top+c.offsetHeight/2,d;d=(0,N.getBody)();var e=window.getComputedStyle(d);d=e.getPropertyValue("margin-top");d=d.substring(0,d.length-2);d=Number(d);e=e.getPropertyValue("margin-bottom");d=(e=e.substring(0,e.length-2),Number(e)+d);d=(window.innerHeight-d)/2;c=w(c);return!(10>Math.abs(d-c))||0>b||b>Math.min(document.documentElement.clientWidth,
window.innerWidth)||0>a||a>Math.min(document.documentElement.clientHeight,window.innerHeight)}function x(c){return c&&("string"==typeof c||c instanceof String)}function A(c){return-1<["body","#document","frameset","html"].indexOf(c.nodeName.toLowerCase())}function B(c){return c===document||-1<["body","frameset","html"].indexOf(c.tagName.toLowerCase())}function y(c,a){for(var b=c.split("\x26"),d=0;d<b.length;d++){var e=b[d].split("\x3d"),e=H(e,2),h=e[1];if(e[0]===a)return h||null}return null}function c(c,
a,b){try{if(c){var d=c.getBoundingClientRect(),e=(window.innerHeight-d.height)/2,h=Math.max((0,N.getBody)().scrollHeight,(0,N.getBody)().offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight),q=h-(window.scrollY+d.bottom),w=d.top<e&&!(0,N.isIframe)(),t=q<e&&!(0,N.isIframe)();b=b?{behavior:"smooth"}:{};w?(b.top=0,b.left=0,window.scrollTo(b)):t?(b.top=h,b.left=0,window.scrollTo(b)):(b.block=f(),c.scrollIntoView(b))}}catch(g){a&&
a(Error("Error in scrollIntoView "+g))}}function E(c,a,b,d){var e=void 0;return"function"==typeof CustomEvent?e=new CustomEvent(c,{detail:a,cancelable:d||!1,bubbles:b||!1}):(e=document.createEvent("CustomEvent"),e.initCustomEvent(c,b||!1,d||!1,a)),e}function z(c,a){var b=c.substring(0,c.length-2)+"*";return(new RegExp("^"+c.split("*").join(".*")+"$")).test(a+"/")&&(new RegExp("^"+b.split("*").join(".*")+"$")).test(a+"/")}function J(c,a,b,d){var e=(0,ca.getCurrentProductId)(),h=["AP-VFU6ONL15QEY-2",
"AP-98W68BOG3KCQ-2"];e&&-1===h.indexOf(e)?(d=c,d=c.replace(/\/\*/,"*"),(d=(new RegExp("^"+d.split("*").join(".*")+"$")).test(a))&&!1===b&&ea.logger.logInternalError(Error("The rule "+c+" match to url "+a+"/"))):c.endsWith("/*")&&(d=b);return d}function G(c,a,b,d){return c.some(function(c){var e=void 0,h=(new RegExp("^"+c.split("*").join(".*")+"$")).test(a);return d&&c.endsWith("/*")&&(e=z(c,a)),d&&(h=J(c,a,e,h)),b?!h:h})}function C(c,a,b,d){return c.every(function(c){var e=void 0,h=(new RegExp("^"+
c.split("*").join(".*")+"$")).test(a);return d&&c.endsWith("/*")&&(e=z(c,a)),d&&d&&(h=J(c,a,e,h)),b?!h:h})}function O(c){return c.replace(/[.+?^${}()|[\]\\]/g,"\\$\x26")}function D(c){return function(a){13===a.keyCode&&c(a)}}function F(c){if(!c||!c.href)throw Error("getOriginFromAnchorElement - Wrong element was provided, missing href");return c.origin?c.origin:c.protocol+"//"+c.hostname}function Q(c){if(!c||!c.href)throw Error("getPathnameFromAnchorElement - Wrong element was provided, missing href");
return c.origin?c.pathname:c.pathname?"/"+c.pathname:""}function S(c){return e(c)?"":g(c)||d(c)?c:x(c)?c.slice(0,I.MAX_PROPERTY_VALUE_LENGTH):""}function L(c){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return Object.getPrototypeOf(c)?L(Object.getPrototypeOf(c),a.concat(Object.getOwnPropertyNames(c))):[].concat(n(new Set(a.concat(Object.getOwnPropertyNames(c)))))}Object.defineProperty(a,"__esModule",{value:!0});a.isBoolean=a.isNumber=a.isNotEmptyIterable=a.getParams=a.isElementInIframeVisible=
a.isValidPort=a.isRootTag=a.isRootNode=a.isEmail=a.getNumberWithFallback=a.trimString=a.paramToObject=a.isNotNullOrUndefined=a.isNullOrUndefined=a.isFunction=a.addEnterKeyDownListener=a.getEnterHandler=a.getUrlParts=a.addStopClickListeners=a.hasElement=a.getHandler=a.addStyle=a.getEscHandlerCallback=a.safeUrl=a.isDefinedStr=a.isUndefinedStr=a.getPageUrl=a.isWebApp=a.matchUrl=a.escapeRegex=a.matchEither=a.scrollElementToCenter=a.needToScroll=a.createInputConfig=a.retryFunction=a.createMultipleElementsFromString=
a.createElementFromString=a.clearAptrinsicSessionStorage=a.searchElementInParentTree=a.checkDarkColor=a.hasParentField=a.isObjectEmpty=a.isEmptyArr=a.makeDraggable=a.setSelectorStrengthLabel=a.removeFromQueryParam=a.getQueryParamFromString=a.getQueryParam=a.addParametersToUrl=a.addParameterToUrl=a.hasParentClass=a.isString=a.isElementVisible=a.findHighestZIndex=a.hexToRgba=a.setCrossBrowserTransform=a.pushElements=a.createStyle=a.removeChildren=a.isObject=a.addCacheBuster=a.addParameters=a.addParameter=
a.convert2Parameters=a.MILLISEC=a.removeEventListener=a.isNotEmptyArr=a.createInput=a.appendElements=a.createElement=a.addEventListener=a.isBlank=a.isEnterAllowedElement=void 0;var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},H=function(){return function(c,a){if(Array.isArray(c))return c;if(Symbol.iterator in Object(c)){var b=[],d=!0,e=!1,h=
void 0;try{for(var q,w=c[Symbol.iterator]();!(d=(q=w.next()).done)&&(b.push(q.value),!a||b.length!==a);d=!0);}catch(t){e=!0,h=t}finally{try{!d&&w["return"]&&w["return"]()}finally{if(e)throw h;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.getWindowLocation=r;a.getNativeFunction=p;a.isElementVisibleProxy=function(c,a,b){return-1<((0,ca.getCurrentProductKey)()||"").indexOf("GLVNMB5BLV8T")?(0,X.isElementVisibleV2)(c,a,b):(0,X.isElementVisible)(c,a,b)};a.dispatchCustomEvent=
function(c,a,b,d){document.dispatchEvent(E(c,a,b,d))};a.debounce=function(c,a){var b=void 0;return function(){var d=arguments,e=this;clearTimeout(b);b=setTimeout(function(){return c.apply(e,d)},a)}};a.extractStyleString=function(c,a){var b=c.substring(c.indexOf(a),c.length);return b.substring(0,b.indexOf("}")+1)};a.extractStyleProperties=function(c){var a=[];return c.substring(c.indexOf("{")+1,c.indexOf("}")).split(";").map(function(c){return c.trim()}).forEach(function(c){c&&(c=c.split(":"))&&2===
c.length&&a.push({inlineProperty:c[0],value:c[1]})}),a};a.limitJsonKeys=function(c,a){var b={},d=0,e;for(e in c)if({}.hasOwnProperty.call(c,e)){if(d++>=a)break;b[e]=c[e]}return b};a.isNodeList=function(c){return null!==c&&"object"===(void 0===c?"undefined":T(c))&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(c))&&"number"==typeof c.length&&(0===c.length||"object"===T(c[0])&&0<c[0].nodeType)};a.isOnlyHashChanged=function(c,a){var b=c.indexOf("#"),d=a.indexOf("#");
if(-1<b&&-1<d){var e=c.substring(0,b),b=c.substring(b),h=a.substring(0,d),d=a.substring(d);return e===h&&b!==d}return!1};a.parseApiKey=function(c){try{var a=c.split("-");return 3>a.length?null:{groupId:a[1],propertyId:a[2]}}catch(b){ea.logger.logInternalError(b)}};a.cleanPropertyValue=S;a.getAllProperties=L;a.getAttributesAndPropertiesWithValue=function(c){var a={},b=L(c);return Array.from(c.attributes).forEach(function(c){a[c.name]=S(c.value)}),b.forEach(function(b){b.startsWith("on")||b.startsWith("__")||
"function"==typeof c[b]||(a[b]=S(c[b]))}),a};a.getCircularReplacer=function(){var c=[];return function(a,b){if("object"!==(void 0===b?"undefined":T(b))||null===b)return b;for(;0<c.length&&c.at(-1)!==this;)c.pop();return c.includes(b)?"[Circular]":(c.push(b),b)}};a.isDarkTheme=function(c){switch(c){case ga.DARK_THEME:return!0;case ga.BROWSER_SYSTEM_THEME:return!(!window.matchMedia||!window.matchMedia("(prefers-color-scheme: dark)").matches);default:return!1}};var U=b(14),K=b(4),Y=b(10),P=b(9),N=b(1),
I=b(6),R=b(15),X=b(18),ea=b(2),ca=b(21),ba=b(31),Z=document,la=function(c,a){for(var b=0;b<a.length;b++)a[b]&&c.appendChild(a[b]);return c},V=function(c,a,b,d,e,h,q,w,t){var g=Z.createElement("input");if(g.type=c,void 0!==b&&null!==b&&(g.value=b,g.setAttribute("value",b)),void 0!==d&&(g.placeholder=d),void 0!==a&&null!==a&&(g.className=(0,R.isNotEmptyArr)(a)?a.join(" "):a),e&&(g.disabled=e),h&&(g.setAttribute("checked",h),g.checked=h),q)for(var k in q)q.hasOwnProperty(k)&&g.setAttribute("data-"+k,
q[k]);if(w)for(var v in w)w.hasOwnProperty(v)&&g.setAttribute(v,w[v]);return t&&(Array.isArray(t)||(t=[t]),la(g,t)),g},fa=function(c,a){var b=document.createElement("style");a&&(b.id=a);var d=(0,N.getConfig)("cssNonce");return d&&(b.nonce=d),b.type="text/css",b.styleSheet?b.styleSheet.cssText=c:(b.innerHTML="",b.appendChild(document.createTextNode(c))),b};a.isEnterAllowedElement=function(c){if(c){var a="TEXTAREA"===c.nodeName;return"INPUT"===c.nodeName&&"text"===c.type||a}return!1};a.isBlank=R.isBlank;
a.addEventListener=k;a.createElement=function(c,a,b,d){if("text"===c)return Z.createTextNode(b);var e=Z.createElement(c);switch(void 0!==a&&null!=a&&(e.className=(0,R.isNotEmptyArr)(a)?a.join(" "):a),c){case "option":e.value=b.value;e.text=b.name;b.selected&&e.setAttribute("selected",b.selected);break;case "a":e.href=b.href;b.blank&&(e.target="_blank");break;case "textarea":e.rows=b.rows;e.cols=b.cols;break;case "input":e.value=b.value;break;case "p":e.innerHTML=b.value;break;case "label":b&&b["for"]&&
e.setAttribute("for",b["for"]);break;case "img":b&&b.src&&(e.src=b.src)}if(void 0!==b&&null!=b&&(void 0!==b.text&&e.appendChild(Z.createTextNode(b.text)),b.title&&(e.title=b.title),b.dataAtt))for(c=0;c<b.dataAtt.length;c++)e.setAttribute(b.dataAtt[c].name,b.dataAtt[c].value);return d&&(Array.isArray(d)||(d=[d]),la(e,d)),e};a.appendElements=la;a.createInput=V;a.isNotEmptyArr=R.isNotEmptyArr;a.removeEventListener=m;a.MILLISEC=1E3;a.convert2Parameters=function(c){return c.join("\x26")};a.addParameter=
h;a.addParameters=v;a.addCacheBuster=function(c){var a=(new Date).getTime()+"-"+U.UUIDGenerator.generateRandom(4);return Object.assign(c,{cb:a}),c};a.isObject=q;a.removeChildren=function(c){for(;c.firstChild;)c.removeChild(c.firstChild)};a.createStyle=fa;a.pushElements=function(c,a){for(var b=Z.body.getElementsByTagName("*"),d=b.length,e=void 0,h=[],q=(0,N.getConfig)("mapperResizeFullHeightElements"),w=(0,N.getConfig)("mapperResizeFullHeightBody"),t=0;t<d;t++){if(e=window.getComputedStyle(b[t],null),
q&&e&&parseInt(e.getPropertyValue("height"))===Z.body.clientHeight&&(b[t].style.height="calc(100vh - "+c+"px)"),e&&"fixed"===e.getPropertyValue("position")){if(x(b[t].className)&&(-1<b[t].className.indexOf("apt")||-1<b[t].className.indexOf("tippy-popper")))continue;var g=b[t],k=e,v=c,m=a;g.parentNode;g.getAttribute("apt-ignore")!==v&&(k=parseInt(g.getAttribute("apt-original")||k.getPropertyValue("top"),10),k!==v&&!m&&(g.style.top=k+v+"px")&&g.setAttribute("apt-original",k),g.setAttribute("apt-ignore",
v))}if(e&&"absolute"===e.getPropertyValue("position")&&(!x(b[t].className)||!(-1<b[t].className.indexOf("apt")||-1<b[t].className.indexOf("tippy-popper")))){g=b[t].parentNode;v=!1;for(m=void 0;g&&"body"!==g.tagName.toLowerCase();){m=K.windowRef.getComputedStyle(g,null);m=m.getPropertyValue("position");if("relative"===m||"fixed"===m||-1<h.indexOf(g)){v=!0;break}g=g.parentNode;!1}v||b[t].getAttribute("apt-ignore")===c||(h.push(b[t]),b[t].style.marginTop=c+"px",g=e.getPropertyValue("top"),!a&&(b[t].style.top=
g),b[t].setAttribute("apt-ignore",c))}}e=window.getComputedStyle(Z.body,null);w&&e&&parseInt(e.getPropertyValue("height"))===Z.body.clientHeight&&Z.body.style.setProperty("box-sizing","border-box","important");Z.body.style.setProperty("padding-top",c+"px","important")};a.setCrossBrowserTransform=function(c,a){if(!("style"in c))throw Error("object "+c+" has no 'style' property");c.style.webkitTransform=a;c.style.MozTransform=a;c.style.msTransform=a;c.style.OTransform=a;c.style.transform=a};a.hexToRgba=
function(c,a){var b=c.replace("#","");return"rgba("+parseInt(b.substring(0,2),16)+","+parseInt(b.substring(2,4),16)+","+parseInt(b.substring(4,6),16)+","+a+")"};a.findHighestZIndex=function(c){c=document.querySelectorAll(c);for(var a=0,b=0;b<c.length;b++){var d=Number.parseInt(document.defaultView.getComputedStyle(c[b],null).getPropertyValue("z-index"),10);d>a&&(a=d)}return a};a.isElementVisible=X.isElementVisible;a.isString=x;a.hasParentClass=function(c,a){for(var b=c;b&&!A(b);){if(b.classList.contains(a))return!0;
b=(0,X.getParentNode)(b)}return!1};a.addParameterToUrl=function(c,a,b){var d=Z.createElement("a");d.href=c;c=F(d);var e=Q(d),q=(0,R.isBlank)(d.search)?"?":"";return q+=h(a,b,d.search?d.search.split("\x26"):null).join("\x26"),[c,e,q,d.hash].join("")};a.addParametersToUrl=function(c,a){var b=Z.createElement("a");b.href=c;var d=F(b),e=Q(b),h=(0,R.isBlank)(b.search)?"?":"";return h+=v(a,b.search?b.search.split("\x26"):[]).join("\x26"),[d,e,h,b.hash].join("")};a.getQueryParam=function(c){return y(r().search.substring(1),
c)};a.getQueryParamFromString=y;a.removeFromQueryParam=function(c){for(var a=r().search.substring(1).split("\x26"),b=[],d=0;d<a.length;d++)a[d].split("\x3d")[0]!==c&&""!==a[d]&&""!==a[d]&&b.push(a[d]);return location.protocol+"//"+location.host+location.pathname+(0<b.length?"?"+b.join("\x26"):"")+location.hash};a.setSelectorStrengthLabel=function(c,a){c&&(c.innerText=a.toLowerCase(),c.classList.contains("strong")&&c.classList.remove("strong"),c.classList.contains("medium")&&c.classList.remove("medium"),
c.classList.contains("weak")&&c.classList.remove("weak"),c.classList.add(a.toLowerCase()))};a.makeDraggable=function(c,a){function b(c){c=c||window.event;c.target.classList.add("dragging");t=c.clientX;w=c.clientY;k(document,"mouseup",e);k(document,"mousemove",d)}function d(a){a=a||window.event;h=t-a.clientX;q=w-a.clientY;t=a.clientX;w=a.clientY;c.style.top=c.offsetTop-q+"px";c.style.left=c.offsetLeft-h+"px"}function e(c){c.target.classList.remove("dragging");m(document,"mouseup",e);m(document,"mousemove",
d)}var h=0,q=0,t=0,w=0;a?k(a,"mousedown",b):k(c,"mousedown",b)};a.isEmptyArr=R.isEmptyArr;a.isObjectEmpty=R.isObjectEmpty;a.hasParentField=function(c,a,b){for(;c&&!A(c);){if(c[a]===b)return!0;c=(0,X.getParentNode)(c)}return!1};a.checkDarkColor=function(c){c=c.replace("#","");return 128>(parseInt(c.substring(0,2),16)+parseInt(c.substring(2,4),16)+parseInt(c.substring(4,6),16))/3};a.searchElementInParentTree=function(c,a){for(var b=c;b!=Z;){if(b&&b.tagName&&b.tagName.toLowerCase()===a)return b;b=b.parentNode}return null};
a.clearAptrinsicSessionStorage=function(){(0,N.getConfig)("crossProductEngagement")||((0,ba.deleteGuideStateValue)("apt.prevStepMap"),(0,ba.deleteGuideStateValue)("apt.stepId"),(0,ba.deleteGuideStateValue)("aptGuideSelectedLanguage"),(0,ba.deleteGuideStateValue)("aptCurrentGuideUrl"),(0,ba.deleteGuideStateValue)("apt.engagementSessionId"),K.windowRef.sessionStorage.removeItem("aptMapperDockingPosition"))};a.createElementFromString=function(c){var a=document.createElement("div");return a.innerHTML=
c.trim(),a.firstChild};a.createMultipleElementsFromString=function(c){var a=document.createElement("div");return a.innerHTML=c.trim(),a.childNodes};a.retryFunction=R.retryFunction;a.createInputConfig=function(c,a){return V(c,a.classes,a.value,a.placeholder,a.disabled,a.checked,a.dataAtt,a.otherAtt,a.children)};a.needToScroll=t;a.scrollElementToCenter=function(a,b){try{var d=(0,P.detectIE)();!1!==d&&79>d?(a.scrollIntoView(!1),setTimeout(function(){var c=window.innerHeight/2,b=(0,P.detectIE)()<=I.LAST_IE_VERSION?
document.documentElement:(0,N.getBody)(),d=w(a),e=Math.abs(d-c);b.scrollTop+d>c&&(b.scrollTop+=e)},500)):((0,N.getConfig)("viewAlignedScroll")?c(a,b,!0):a.scrollIntoView({behavior:"smooth",block:f()}),setTimeout(function(){t(a)&&((0,N.getConfig)("viewAlignedScroll")?c(a,b,!1):a.scrollIntoView({block:f()}))},800))}catch(e){b&&b(Error("Error in scrollIntoView "+e))}};a.matchEither=G;a.escapeRegex=O;a.matchUrl=function(c,a,b,d){Array.isArray(c)||(c=[c]);var e=!1;c=(0,Y.arrayFrom)(c,function(c){return c=
u(c),a.endsWith("/")&&(e=!0),O(c)});return a=u(a),d?C(c,a,b,e):G(c,a,b,e)};a.isWebApp=function(c){var a=c.split("-");if(3>a.length)throw"invalid key "+c;return"2"===a[2]};a.getPageUrl=function(){var c=r(),a="localhost"===c.hostname||(0,R.isValidPort)(c.port)?c.host:c.hostname;return c.protocol+"//"+a+c.pathname+c.search+c.hash};a.isUndefinedStr=function(c){return void 0===c||null===c||"string"!=typeof c};a.isDefinedStr=function(c){return void 0!==c&&null!==c&&"string"==typeof c};a.safeUrl=u;a.getEscHandlerCallback=
function(c){var a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return function(b){b=b||K.windowRef.event;("key"in b?"Escape"===b.key||"Esc"===b.key:27===b.keyCode)&&(a&&b.preventDefault(),c())}};a.addStyle=function(c,a,b){var d=document.getElementById(a);d?d.styleSheet?d.styleSheet.cssText=c:(d.innerHTML="",d.appendChild(document.createTextNode(c))):d=fa(c,a);b?b.parentNode.insertBefore(d,b):(0,N.getBody)().appendChild(d)};a.getHandler=function(c,a){var b=this,d=U.UUIDGenerator.generateV4Id(),
e=[];return 2<arguments.length&&(e=Array.prototype.slice.call(arguments,2)),c?(e.unshift(d),[d,function(c){var d=(0,Y.arrayFrom)(e);d.unshift(c);a.apply(b,d)}]):[d,function(){var c=(0,Y.arrayFrom)(e);c.unshift(d);a.apply(b,c)}]};a.hasElement=function(c,a){for(var b=a;b&&!B(b);){if(b===c)return!0;b=(0,X.getParentNode)(b)}return!1};a.addStopClickListeners=function(c,a){a||(a=["click","mousedown","mouseup"]);c.forEach(function(c){a.forEach(function(a){return k(c,a,function(c){c.stopImmediatePropagation()})})})};
a.getUrlParts=function(){var c=r();return["localhost"===c.hostname?c.host:c.hostname,c.pathname,c.search,c.hash]};a.getEnterHandler=D;a.addEnterKeyDownListener=function(c,a){var b=D(a);return k(c,"keydown",b),b};a.isFunction=function(c){return c&&("function"==typeof c||c instanceof Function)};a.isNullOrUndefined=e;a.isNotNullOrUndefined=R.isNotNullOrUndefined;a.paramToObject=function(c,a){return a&&q(a)||(a={}),c.forEach(function(c){c=c.split("\x3d");2>c.length||(a[c[0]]=c.slice(1).join(""))}),a};
a.trimString=function(c){return(0,R.isBlank)(c)?c:c.trim()};a.getNumberWithFallback=function(c,a){return isNaN(c)||!c&&0!==c?a:c};a.isEmail=function(c){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(c)};a.isRootNode=A;a.isRootTag=B;a.isValidPort=R.isValidPort;a.isElementInIframeVisible=function(c,a,b){var d=!0;if(a){d=document.elementFromPoint(c.left+c.width/2,c.top+c.height/2);if(null===
d)return!1;c="true"===d.getAttribute("data-apt-ignore-visible");var e=d.getAttribute("class")||"",e=d!==(0,N.getBody)()&&-1<e.indexOf("apt");a=d===a;b=!!b&&(d===b||b.contains(d));d=a||c||e||b}return d};a.getParams=function(){var c={},a=document.currentScript.src.split("?"),b=r().search.substring(1);return 2===a.length&&[b,a[1]].forEach(function(a){a.split("\x26").forEach(function(a){a=a.split("\x3d");a=H(a,2);c[a[0]]=a[1]},{})}),c};a.isNotEmptyIterable=function(c){return c&&c.length&&0<c.length};
a.isNumber=g;a.isBoolean=d;var ga={EMPTY_THEME_STYLE:"EMPTY_THEME_STYLE",LIGHT_THEME:"LIGHT_THEME",DARK_THEME:"DARK_THEME",BROWSER_SYSTEM_THEME:"BROWSER_SYSTEM_THEME"}},function(l,a,b){function n(c){var a=e[c];if(null===a)throw Error("not found any value for config "+c);return a}function f(){return Object.assign({},e)}function r(){return n("actAsTopWindow")||window.aptrinsic&&window.aptrinsic.c&&window.aptrinsic.c.actAsTopWindow}function p(){var c=window.self!==window.top.parent&&n("iframeModeEnabled")&&
!window.runVue,a=c;return(0,m.isNotNullOrUndefined)(r())?a=!r():c&&(a=window.self!==window.top.parent.self),a}function u(){return(n("contentProxyDomain")||"https://web-sdk.aptrinsic.com")+"/bot/main"}function k(c){return-1<A.indexOf(c)&&("identify"!==c||!n("enableIdentifyFromIFrame"))}Object.defineProperty(a,"__esModule",{value:!0});a.disableIframeMode=a.getWidgetArticleByIdEndpoint=a.widgetContentEndpointGetter=a.getCachedConfig=a.setCachedConfig=a.getAssetEndpoint=a.disableTag=a.setKcConfigByName=
a.setKcConfig=a.getKcConfig=a.getDefaultConfiguration=a.updateConfigChangeHandlers=a.getConfigObj=a.isIframe=a.isIframeDisabled=a.featureEnabled=a.getConfig=a.overrideConfig=a.trackSinglePageEndpoint=a.trackSingleStepEndpoint=a.surveySubmitUrl=a.trackSurveyCompleteEndpoint=a.snoozeUrl=a.fetchFeatureRuleEndpoint=a.desktopEngagementTrackEndpoint=a.trackKcEndpoint=a.widgetUrl=a.staticContentHost=a.getAllInAppEndpoint=a.refreshBadgeEndpoint=a.badgeTrackEndpoint=a.trackStepEndpoint=a.trackMultiStepEndpoint=
a.getWidgetSingleDocEndpoint=a.getWidgetDocsEndpoint=a.widgetCommunityEndpointV3=a.getWidgetSingleCommunityDocEndpointV3=a.getWidgetSingleDocEndpointV3=a.getWidgetDocsEndpointV3=a.getWidgetContentEndpointV3=a.getWidgetContentEndpoint=a.getWidgetConfigUrl=a.getKnowledgeCenterConfigEndpointV3=a.getKnowledceCenterConfigEndpoint=a.getConfigEndpoint=a.ongoingEngagementEndpoint=a.ondemandEndpoint=a.internalErrorEndpoint=a.logErrorEndpoint=a.accountEndpoint=a.engagementTrackEndpoint=a.notificationStateEndpoint=
a.notificationEndpoint=a.campaignEndpoint=a.commandEndPointV2=a.commandEndpoint=a.serverEndpointV3=a.serverEndpoint=a.serverEndpointBase=a.trackWidgetCommunityArticleInfix=a.trackWidgetExternalArticleInfix=void 0;a.isTopWindow=r;a.getStaticContentHost=function(){return w};a.getBotV2Endpoint=u;a.getBody=function(){return n("framesetMode")?document.documentElement:document.body};l=b(8);var m=b(15),e={enableTag:!0,maxEngagementCalls:1,engagementCallDelay:750,filterType:"mask",filterUrls:[],nameParamFilterType:"mask",
namedParamFilter:[],autoTrackHash:!1,widgetEnabled:!1,trackLevel:3,autoClickTrack:!0,autoTrack:!0,autoTrackPage:!0,iframeModeEnabled:!0,elementAttributeWhitelist:[],engagementExcludeUrl:[],delayClickEvent:!1,delayClickEventTime:2E3,textMatchEnabled:!1,guideAdvanceOnHover:!1,espProxyDomain:void 0,contentProxyDomain:void 0,storageProxyDomain:void 0,enableBadge:!0,badgeRefreshInterval:5,setSessionExternally:!1,usePOST:!1,allowCrossDomain:!1,enableFullStory:!1,fullDomainCookie:!1,cssFileEndpoint:void 0,
widgetFileEndpoint:void 0,multipleProductsPerDomain:!0,fetchKcType:"automatic",kcDisplayType:"default",kcPositionType:"injection",sfdcTemplate:void 0,overrideBotSearchContextUrl:void 0,htmlSanitization:!1,htmlSanitizationAllowedDomains:void 0,mapperResizeFullHeightElements:!1,sessionCookieTTL:18E5,enableIdentifyFromIFrame:!1,engagementChecksumFileUrl:void 0,cssNonce:void 0,enableKcSecureArticle:!1,useSessionStorageEditorToken:!1,secureCookie:!1,mapperResizeFullHeightBody:!1,stripSafeUrlProtocol:!0,
elementAttributeDenyMap:{},maskUrlFunction:void 0,trustedOrigin:void 0,angularMutationObserver:!1,badgeUseInterval:!1,badgeRepositionInterval:500,enableModalBodyScroll:!0,evaluateEngRuleOnNavigation:!1,usesShadowDom:!1,dockMapper:!1,kcAllowedFuncNames:[],usePointerEvent:!0,badgesUseFixedPosition:!1,crossOriginStyle:!1,viewAlignedScroll:!1,newProductMapper:!0,framesetMode:!1,angularAddEventListener:!1,crossProductEngagement:!1,queryParamsInHash:!1,clientSideEngagementTracking:!1,engagementEditorV2AutoSave:!1,
trackPageTitles:!1,excludeUrls:[],keyboardTriggerClick:!1,localStorageCookie:!1,htmlSanitizationAllowedSchemes:void 0,tooltipDynamicReposition:!1,requestTimeoutDefault:0,requestTimeoutCritical:0,supportFixedPosition:!1,strictProductVerification:!1,supportAutoHashChangeDetection:!1,widgetNonce:void 0,keepRuleUrlHash:!1,elementClickToPointer:!1,allowBlankSrc:!1,useSessionStorageForRedirect:!1,strictCSP:!1,crossSubDomainGuide:!1,scrollToArea:void 0,disableEngagementReposition:!1,sameSiteCookie:void 0,
disableLogs:!1,skipChecksumForEngagementIds:[],decryptionSelectorKey:void 0,actAsTopWindow:void 0,discoverTopWindowPath:!1,cleanIframeCache:!1},g=[],d=(a.trackWidgetExternalArticleInfix="track/article/external",a.trackWidgetCommunityArticleInfix="track/community",a.serverEndpointBase="https://esp.aptrinsic.com/rte"),h=a.serverEndpoint=d+"/v1",v=a.serverEndpointV3=d+"/v3";a.commandEndpoint=h+"/command";a.commandEndPointV2=d+"/v2/command";a.campaignEndpoint=h+"/engagements/single";a.notificationEndpoint=
h+"/notification/list";a.notificationStateEndpoint=h+"/notification/state";a.engagementTrackEndpoint=h+"/engagement/track";a.accountEndpoint=h+"/account";a.logErrorEndpoint=h+"/error/log";a.internalErrorEndpoint=h+"/activity/error";a.ondemandEndpoint=h+"/engagement/ondemand";a.ongoingEngagementEndpoint=h+"/engagement/ongoing";a.getConfigEndpoint=v+"/configuration";a.getKnowledceCenterConfigEndpoint=d+"/v2/kc";a.getKnowledgeCenterConfigEndpointV3=d+"/v3/kc";a.getWidgetConfigUrl=h+"/kc/config";var q=
a.getWidgetContentEndpoint=d+"/v2/kc/content";a.getWidgetContentEndpointV3=d+"/v3/kc/content";a.getWidgetDocsEndpointV3=d+"/v3/kc/docs";a.getWidgetSingleDocEndpointV3=d+"/v3/kc/doc";a.getWidgetSingleCommunityDocEndpointV3=d+"/v3/kc/community/doc";a.widgetCommunityEndpointV3=d+"/v3/kc/community";a.getWidgetDocsEndpoint=d+"/v2/kc/docs";a.getWidgetSingleDocEndpoint=d+"/v2/kc/doc";a.trackMultiStepEndpoint=h+"/engagement/multistep/track";a.trackStepEndpoint=h+"/engagement/multistep/step/track";a.badgeTrackEndpoint=
h+"/badge/track";a.refreshBadgeEndpoint=h+"/badges/full/sync";a.getAllInAppEndpoint=h+"/inapp";var w=a.staticContentHost="https://web-sdk.aptrinsic.com",t=a.widgetUrl="https://web-sdk.aptrinsic.com/widget/aptrinsic-widget.js";a.trackKcEndpoint=h+"/kc";a.desktopEngagementTrackEndpoint=""+d+"/v1/desktop/engagement";a.fetchFeatureRuleEndpoint=""+d+"/api/v1/feature/client";a.snoozeUrl=h+"/engagement/track/snooze";a.trackSurveyCompleteEndpoint=""+d+"/v1/engagement/survey/completed";a.surveySubmitUrl=h+
"/engagement/survey";a.trackSingleStepEndpoint=h+"/engagement/survey/step";a.trackSinglePageEndpoint=h+"/engagement/survey/page";var x={click:2,pageView:1,form:1,identify:0,engagementPull:0},A=["pageView","identify","sessionInitialized","engagementPull"],B={},y=void 0,c=["labels"],E=void 0,z=new l.LocalCache;a.overrideConfig=function(c,b,t,k){var x=f();if((0,m.isObject)(c))for(var z in c){var A;if(A=c.hasOwnProperty(z)&&e.hasOwnProperty(z))A=c[z],A=("string"!=typeof A||!(0,m.isBlank)(A))&&(!Array.isArray(A)||
!(0,m.isEmptyArr)(A));A&&(-1===g.indexOf(z)||k)&&(e[z]=c[z],t&&g.push(z))}e.autoTrack?e.autoClickTrack||(e.trackLevel=1):e.trackLevel=0;if(b){c=e;for(var p in B)B.hasOwnProperty(p)&&x[p]!==c[p]&&B[p](x[p],c[p])}x=e.espProxyDomain;p=e.contentProxyDomain;x&&!x.startsWith("http")&&(x="https://"+x);p&&!p.startsWith("http")&&(p="https://"+p);x&&(a.serverEndpointBase=d=x+"/rte",a.serverEndpoint=h=d+"/v1",a.serverEndpointV3=v=d+"/v3",a.commandEndpoint=h+"/command",a.commandEndPointV2=d+"/v2/command",a.campaignEndpoint=
h+"/engagements/single",a.notificationEndpoint=h+"/notification/list",a.notificationStateEndpoint=h+"/notification/state",a.engagementTrackEndpoint=h+"/engagement/track",a.accountEndpoint=h+"/account",a.logErrorEndpoint=h+"/error/log",a.internalErrorEndpoint=h+"/activity/error",a.ondemandEndpoint=h+"/engagement/ondemand",a.ongoingEngagementEndpoint=h+"/engagement/ongoing",a.getConfigEndpoint=v+"/configuration",a.getKnowledceCenterConfigEndpoint=d+"/v2/kc",a.getKnowledgeCenterConfigEndpointV3=d+"/v3/kc",
a.getWidgetConfigUrl=h+"/kc/config",a.trackMultiStepEndpoint=h+"/engagement/multistep/track",a.trackStepEndpoint=h+"/engagement/multistep/step/track",a.getWidgetContentEndpoint=q=d+"/v2/kc/content",a.getWidgetContentEndpointV3=d+"/v3/kc/content",a.getWidgetDocsEndpointV3=d+"/v3/kc/docs",a.getWidgetSingleDocEndpointV3=d+"/v3/kc/doc",a.getWidgetSingleCommunityDocEndpointV3=d+"/v3/kc/community/doc",a.widgetCommunityEndpointV3=d+"/v3/kc/community",a.getWidgetDocsEndpoint=d+"/v2/kc/docs",a.getAllInAppEndpoint=
h+"/inapp",a.getWidgetSingleDocEndpoint=d+"/v2/kc/doc",a.desktopEngagementTrackEndpoint=d+"/v1/desktop/engagement",a.trackSurveyCompleteEndpoint=d+"/v1/engagement/survey/completed",a.fetchFeatureRuleEndpoint=""+d+"/api/v1/feature/client",a.snoozeUrl=h+"/engagement/track/snooze",a.surveySubmitUrl=h+"/engagement/survey",a.trackSingleStepEndpoint=h+"/engagement/survey/step",a.trackSinglePageEndpoint=h+"/engagement/survey/page",a.trackKcEndpoint=h+"/kc",a.refreshBadgeEndpoint=h+"/badges/full/sync",a.badgeTrackEndpoint=
h+"/badge/track");p&&(a.staticContentHost=w=p)};a.getConfig=n;a.featureEnabled=function(c){return(!p()||!k(c))&&("pageView"===c?0<e.trackLevel&&n("autoTrackPage"):x[c]<=e.trackLevel)};a.isIframeDisabled=k;a.isIframe=p;a.getConfigObj=f;a.updateConfigChangeHandlers=function(c,a){B[c]=a};a.getDefaultConfiguration=function(){return{enableTag:!0,maxEngagementCalls:2,engagementCallDelay:500,filterType:"mask",filterUrls:[],nameParamFilterType:"mask",namedParamFilter:[],autoTrackHash:!1,widgetEnabled:!1,
trackLevel:3,autoClickTrack:1,autoTrack:1,autoTrackPage:!0,iframeModeEnabled:!0}};a.getKcConfig=function(){return y};a.setKcConfig=function(c){if(y=c,E)for(var a in E)c.hasOwnProperty(a)||(y[a]=E[a])};a.setKcConfigByName=function(a,b){(0,m.isObject)(y)&&(y[a]=b);-1!==c.indexOf(a)&&(E=E||{},E[a]=b)};a.disableTag=function(){e.enableTag=!1};a.getAssetEndpoint=function(c,a){switch(c){case "style":return a?u()+".css":n("cssFileEndpoint")||w+"/style.css";case "widget":return a?u()+".js":n("widgetFileEndpoint")||
t;default:return null}};a.setCachedConfig=function(c,a){z.setdata(c,a)};a.getCachedConfig=function(c){return z.getKey(c)};a.widgetContentEndpointGetter=function(){return q};a.getWidgetArticleByIdEndpoint=function(){return q+"/article"};a.disableIframeMode=function(){e.iframeModeEnabled=!1}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.logger=void 0;var n=function(){function a(b,d){for(var e=0;e<d.length;e++){var h=d[e];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in
h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(b,d,e){return d&&a(b.prototype,d),e&&a(b,e),b}}(),f=b(4),r=b(13),p=b(1),u=b(5),k=b(15),m=b(19),e=b(72),g=b(71),d=b(22),h=b(10),v=f.eventTrackData;l=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.debugMode="true"===(g.LocalStorageCookie.getCookie("apt.debug")||e.NativeCookie.getCookie("apt.debug"))}return n(a,[{key:"log",value:function(b){a.allowLogs()&&this.debugMode&&
console&&console.log&&console.log(b)}},{key:"trace",value:function(b){a.allowLogs()&&this.debugMode&&console&&console.trace&&console.trace(b)}},{key:"logInternalMessage",value:function(a){if((0,p.getConfig)("enableTag")&&!(0,p.isIframe)()){var b="aptrinsic web sdk error:\n"+JSON.stringify(a)+"\n";this.log(b);r.AjaxUtil.postData(p.internalErrorEndpoint+"?p\x3d"+v.data[f.productIdParameter],a,void 0,void 0,void 0,void 0,!0)}}},{key:"logInternalError",value:function(a,b,e){if((0,p.getConfig)("enableTag")){if((0,
p.isIframe)()){b||(b="");b+="Error from Iframe: "+window.location.toString();var q=u.IframeRequest.getIframeRequest((0,k.getIframeId)(),"apt-log",{message:a.message,stackTrace:a.stack,extraMessage:b});return void(0,d.getTopWindowAsync)().then(function(a){a.postMessage((0,h.jsonStringify)(q),"*")})}var g="aptrinsic web sdk error: ";b&&(g+=b+"\n");g+=a.message;a.stack?(g+=", stack trace: "+a.stack,this.log(g)):(g+=a.message,a.stack?(g+=", stack trace: "+a.stack,this.log(g)):this.trace(g));this.reportToServer(g,
e)}}},{key:"reportToServer",value:function(a,b){b&&r.AjaxUtil.postData(p.logErrorEndpoint,{url:(0,m.getFullUrlMasked)(),apiKey:v.data[f.productIdParameter],message:a,applicationVersion:f.applicationVersion},void 0,void 0,void 0,void 0,!0)}}],[{key:"allowLogs",value:function(){return!(0,p.getConfig)("disableLogs")}}]),a}();a.logger=new l},,function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE=a.path=a.host=a.externalEventListeners=a.globalContextCache=
a.eventTrackData=a.aptrinsicGlobalObjName=a.decode=a.documentRef=a.windowRef=a.applicationVersion=a.aptrinsicIdParam=a.sessionIdParam=a.userIdParameter=a.productIdParameter=a.apiMethods=a.trackApiMethod=void 0;l=b(8);b=a.trackApiMethod="track";b=(a.apiMethods=[b,"get","users","set","identify","initWithExternalState","carousel","login","lead","account","checklog","event","setOnce","remove","pageView","send","bot","kcb","reset","addListener","config","render","getRegisteredIframesList"],a.productIdParameter=
"p",a.userIdParameter="v",a.sessionIdParam="s",a.aptrinsicIdParam="ai",a.applicationVersion="0.56.3",a.windowRef=window);a.documentRef=document;a.decode=decodeURIComponent;a.aptrinsicGlobalObjName="aptrinsic";a.eventTrackData=new l.LocalCache;a.globalContextCache=new l.LocalCache;a.externalEventListeners={};a.host=b.location.hostname;a.path=b.location.pathname+b.location.search+b.location.hash;a.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE={button:["name","value","type"],img:["src","alt"],select:["name"],textarea:["name"],
input:["name","type"],a:["href"]}},function(l,a,b){function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function f(a,b){var e=d[a];e&&(null===e.data&&(e.data=[]),e.data.push(b),0>=--e.counter&&(e.timeout&&clearTimeout(e.timeout),e.callback(e.data,e.additionalData),(0,u.getConfig)("cleanIframeCache")&&delete d[a]))}Object.defineProperty(a,"__esModule",{value:!0});a.checkHandledRequest=a.addHandledRequestId=a.execute=a.unregisterIframe=a.associateIframe=a.getIframeData=
a.IframeData=a.decrementState=a.incrementState=a.subscribe=a.IframeRequest=a.getRegisteredIframes=a.registerIframe=void 0;var r=function(){function a(b,d){for(var e=0;e<d.length;e++){var h=d[e];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(b,d,e){return d&&a(b.prototype,d),e&&a(b,e),b}}(),p=b(11),u=b(1),k=b(2),m=b(15),e=function q(a,b,d,e){n(this,q);this.iframe=a;this.origin=b;this.iframeId=d;this.frameOffset=e};l=function(){function a(b){if(n(this,
a),b&&(this.aptrinsicEventType=b.aptrinsicEventType,this.aptrinsicIframeId=b.aptrinsicIframeId,this.content=b.content,this.aptrinsicRequestId=b.aptrinsicRequestId,!this.aptrinsicEventType))throw Error("cannot initiate iframe request without event type");}return r(a,null,[{key:"getMasterRequst",value:function(b,d,e,h){b=new a({aptrinsicIframeId:h,aptrinsicEventType:b,content:d,aptrinsicRequestId:e});if(!b.aptrinsicEventType)throw Error("cannot initiate iframe request without event type");return b}},
{key:"getIframeRequest",value:function(b,d,e,h){b=new a({aptrinsicIframeId:b,aptrinsicEventType:d,content:e,aptrinsicRequestId:h});if(!b.aptrinsicEventType)throw Error("cannot initiate iframe request without event type");if(!b.aptrinsicIframeId)throw Error("cannot initiate iframe request without iframe id");return b}}]),a}();var g={},d={},h={};setInterval(function(){var a=Date.now()-6E4;Object.keys(h).forEach(function(b){h[b]<a&&delete h[b]})},2E3);a.registerIframe=function(a,b,d,h){if(h){h=document.querySelectorAll("frame");
for(var k=void 0,m=0;m<h.length;m++)if(h[m].name===a.name){k=h[m];break}g[d]=g[d]||new e(a,b,d,k.getBoundingClientRect())}else g[d]=g[d]||new e(a,b,d);p.internalEventListener.dispatchEvent("IFRAME_REGISTERED",g[d])};a.getRegisteredIframes=function(){return Object.keys(g).map(function(a){return g[a]})};a.IframeRequest=l;a.subscribe=function(a,b,e){d[a]={callback:b,counter:0,data:null,additionalData:e}};a.incrementState=function(a){d[a].counter++};a.decrementState=f;a.IframeData=e;a.getIframeData=function(a){return g[a]};
a.associateIframe=function(a,b){var d=g[a];d&&(d.domElement=b,d.isChild=!0)};a.unregisterIframe=function(a){k.logger.log("unregister iframe: "+a);(0,m.isObjectEmpty)(g[a])||(g[a].iframe=null,g[a].origin=null,g[a].iframeId=null,g[a].frameOffset=null);delete g[a]};a.execute=function(a,b){var e=d[a];e&&b&&(e.timeout=setTimeout(function(){for(;0<e.counter;)f(a,{error:"PX_INCREMENT_STATE_TIMEOUT_"+e.counter})},b))};a.addHandledRequestId=function(a){h[a]=Date.now()};a.checkHandledRequest=function(a){return h[a]}},
function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});l=a.MAX_TAB_INDEX=32767;l=(a.TAB_INDEX_START=l-1E3,a.NO_TAB_INDEX=-1,a.LAST_IE_VERSION=11,a.DESKTOP_CHANNEL=4,a.PROD_ENVIRONMENT=1,a.GLOBAL_CONTEXT_CHANGED="GLOBAL_CONTEXT_CHANGED",a.TEXT_OPERATOR_IS="is",a.IN_APP_GUIDE="IN_APP_GUIDE",a.IN_APP_MULTIPLE_QUESTION_SURVEY="IN_APP_MULTIPLE_QUESTION_SURVEY",a.IN_APP_RATING_SURVEY="IN_APP_RATING_SURVEY");b=a.IN_APP_SURVEY_NPS="IN_APP_SURVEY_NPS";var n=a.IN_APP_BOOLEAN_SURVEY="IN_APP_BOOLEAN_SURVEY",
f=a.IN_APP_CES_SURVEY="IN_APP_CES_SURVEY";l=(a.SCORE_SURVEY_TYPES=[l,b,n,f],a.ACTIVATION_TYPE_AUTOMATIC="a",a.EDITOR_ACTIVATION_TYPE_AUTOMATIC="APPLICATION",a.VIEW_TYPE_BAR="BAR",a.SET_USER_ATTRIBUTE_EVENT_NAME="GAINSIGHT_PX_SET_USER_ATTRIBUTE",a.DEFAULT_STORAGE_DOMAIN="https://storage.googleapis.com",a.COMPLETED_TRACKED=2,a.APT_NON_SCROLL="apt-non-scroll",a.SAME_SITE_VALUES=["Lax","Strict"],a.FEATURE_RULE_TYPES={URL_RULE:"URL",SELECTOR_TEXT_RULE:"SELECTOR_TEXT_RULE",TEXT_ONLY_RULE:"TEXT_ONLY_RULE",
EVENT_RULE:"EVENT"});a.WINDOW_BASE="window.";a.DOCUMENT_BASE="document.";a.LEADING_SLASHES_REGEX=/^\/+/;a.CLICK_EVENT_RULE_TYPES=new Set([l.SELECTOR_TEXT_RULE,l.TEXT_ONLY_RULE,l.EVENT_RULE]);a.REGEX_SPECIAL_CHARS=new Set(".+?^${}()|[]\\".split(""));a.URL_CONDITION_IS="IS";a.URL_CONDITION_IS_NOT="IS_NOT";a.URL_SCOPES_CONDITION_OR="URL_SCOPES_CONDITION_OR";a.DEFAULT_LRU_CAPACITY=5E3;a.TRACKING_PROPERTY_TYPES={PAGE:"PAGE",CLICK:"CLICK",JS_FUNC:"JS_FUNC",OOB:"OOB"};a.PAGE_TRACKING_PROPERTY_TYPES={URL:"URL",
QUERY_PARAMETER:"QUERY_PARAMETER",UTM_PARAMETER:"UTM_PARAMETER"};a.MAX_PROPERTY_VALUE_LENGTH=255;a.OOB_PROPERTY_VALUE="OOB";a.URL_SCHEME_REGEX=/^[a-zA-Z][a-zA-Z0-9+.-]*:\/\//;a.CLIENT_SIDE_OOB_PROPERTIES_MAP={SCREEN_HEIGHT:"screenHeight",SCREEN_WIDTH:"screenWidth",URL_PAGE_TITLE:"urlPageTitle",URL_SCHEMA:"urlSchema",URL_REFERRER:"urlReferrer"};a.SERVER_SIDE_OOB_PROPERTIES=new Set(["browserType","platformVersion","platformType","device"])},function(l,a,b){function n(c){var a=(0,g.getConfig)("cssNonce");
a&&(c=c.replace(/<style(>|[ ]+[^>]*>)/g,'\x3cstyle nonce\x3d"'+a+'"$1'));return c}function f(c){var a=""+ +new Date+Math.random();try{return c[a]="asd","asd"===c[a]}catch(b){return!1}}function r(c,a,b){return a[b?"querySelectorAll":"querySelector"](c)}function p(a,b,d){var h=void 0,g=void 0,q=null;for(a=a.firstChild;a;a=a.nextSibling){var h=a.nodeType,g="",t;if(!(t=h===c)&&(t=h===E&&-1==y.indexOf(a.tagName.toLowerCase())))a:{for(t=a;t&&"BODY"!==t.tagName;){if(1===t.nodeType&&(t.classList.contains("apt-guide-popup")||
"true"===t.getAttribute("data-apt-disable-selector")||-1<t.classList.value.indexOf("apt-")||-1<t.classList.value.indexOf("aptr-"))){t=!1;break a}t=t.parentNode}t=!0}if(t)if(g=a.textContent,g=g.trim(),a.childNodes&&0<a.childNodes.length){h=void 0;t="";switch(b){case "is":case "startsWith":case "endsWith":case "contains":h="contains";t=d;break;case "isNot":case "notContains":case "notStartsWith":case "notEndsWith":h="isNotEmpty";break;case "isNotEmpty":h=b}if(("isEmpty"===b||(0,v.matchExpression)(g,
h,t))&&(q=p(a,b,d)))break}else{if(h===c&&(0,v.matchExpression)(g,b,d)&&(0,e.isElementVisible)(a.parentNode))return a.parentNode;if(h===E&&(0,v.matchExpression)(g,b,d)&&(0,e.isElementVisible)(a))return a}}return q}function u(c){if(!c||!(0,e.isElementVisible)(c))return null;var a=void 0;return a="input"===c.tagName.toLowerCase()?c.value:c.textContent,(0,e.isUndefinedStr)(a)?null:a.trim()}function k(c){var a=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];try{if(c){var b,e=w.documentRef.documentElement,
g=(0,h.detectIE)();g&&(e=g<=q.LAST_IE_VERSION?w.documentRef.documentElement:w.documentRef.body);b=e;var t=b.scrollTop,k=b.scrollLeft;c.focus({preventScroll:a});var v;if(v=a){var m=(0,h.detectIE)(),a=!1;v=(m&&(a=79>m),a)}v&&(b.scrollLeft=k,b.scrollTop=t)}}catch(f){d.logger.logInternalError(f,"FocusElement - could not focus on element")}}Object.defineProperty(a,"__esModule",{value:!0});a.isFixedPosition=a.checkIfSameElement=a.getTagName=a.removeTransitionStartListener=a.addTransitionStartListener=a.removeTransitionEndListener=
a.addTransitionEndListener=a.stripHtml=a.isElement=a.addNonceToDomString=a.disableFocusOnClick=a.focusElement=a.getText=a.findElementInWindow=a.observeDOM=a.addStyleTag=a.getElementText=a.getIframeOffsetOfElement=a.getContainingIframeOfElement=a.getParentWindowOfElement=a.findElementInFrames=a.findInWindow=a.findAllElements=a.findElement=a.checkIframe=a.toDom=void 0;var m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&
c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},e=b(0),g=b(1),d=b(2),h=b(9),v=b(70),q=b(6),w=b(4),t=b(18),x=b(36),A=b(22),B=/([^]*?)({[^]*?}|,)/g,y=["script","style"],c=3,E=1;l=function(){var c=(0,x.getNativeMutationObserver)();return function(a,b){a&&(c?(new c(function(c){b(c)})).observe(a,{childList:!0,subtree:!0}):window.addEventListener&&(a.addEventListener("DOMNodeInserted",b,!1),a.addEventListener("DOMNodeRemoved",b,!1)))}}();a.toDom=function(c,a,b){b=(0,e.createElement)("div",
b);return c=n(c),b.innerHTML=c,a?b.firstChild:b};a.checkIframe=f;a.findElement=function(c,a){var b=(0,A.getTopWindow)().document.querySelector(c),d=void 0;if(b)return{element:b,sourceIframe:null};try{if((0,e.isNotEmptyArr)(a))for(var h=0;h<a.length&&(d=a[h],!f(d)||!(b=d.iframe.document.querySelector(c)));h++);}catch(g){}return b?{element:b,sourceIframe:b?d:void 0}:void 0};a.findAllElements=function(c,a){var b=[],d=(0,A.getTopWindow)().document.querySelector(c);d&&b.push(d);try{var e=void 0;if(a)for(var h=
0;h<a.length;h++)e=a[h],f(e)&&(d=e.iframe.document.querySelector(c))&&b.push(d)}catch(g){}return b};a.findInWindow=r;a.findElementInFrames=function(c,a){var b=void 0,d=void 0;try{if((0,e.isNotEmptyArr)(a))for(var h=0;h<a.length&&(d=a[h],!f(d)||!(b=d.iframe.document.querySelector(c)));h++);}catch(g){}return{element:b,sourceIframe:b?d:void 0}};a.getParentWindowOfElement=function(c){c=c.ownerDocument;return c.defaultView||c.parentWindow};a.getContainingIframeOfElement=function(c){return c.ownerDocument.defaultView.frameElement};
a.getIframeOffsetOfElement=function(c){try{for(var a=0,b=0,e=0,h=0,g=c.ownerDocument.defaultView;g!==(0,A.getTopWindow)();)var q=g.frameElement.getBoundingClientRect(),a=a+q.top,b=b+q.left,e=e+q.right,h=h+q.bottom,g=g.frameElement.ownerDocument.defaultView;return{top:a,left:b,right:e,bottom:h}}catch(t){return d.logger.logInternalError(t),{top:0,left:0,right:0,bottom:0}}};a.getElementText=function(c){return u(r(c,document))};a.addStyleTag=function(c,a,b,d,h){if(!(0,e.isBlank)(a)){var q=document.createElement("style"),
t=(0,g.getConfig)("cssNonce");t&&(q.nonce=t);q.type="text/css";if(b){h=h?b:"."+b;h=d?d+" "+h:h;var k=a.indexOf(b);if(-1<k){var w=a.indexOf("}",k);b=a.substring(0,k-1);t=a.substring(w+1,a.length);a=a.substring(k-1,w+1);h=(b+t).replace(B,h+" $1 $2");d=d?d+" "+a+h:a+h}else d=a.replace(B,h+" $1 $2")}else d=a;a=d;q.styleSheet?q.styleSheet.cssText=a:q.appendChild(document.createTextNode(a));c.appendChild(q)}};a.observeDOM=l;a.findElementInWindow=function(c,a,b){var d=void 0,h=void 0;if(c.matchCssSelector){if(h=
(0,t.findElementsInShadowDom)(c.cssSelector,a),(0,e.isEmptyArr)(h))return null;if(c.matchTextRule){a=[];for(var q=0;q<h.length;q++)if(d=h[q],(0,v.matchExpression)((0,e.isBlank)(d.textContent)?"":d.textContent.trim(),c.textRuleOperator,c.textRuleValues[0])){if(!b)return d;a.push(d)}return(0,e.isEmptyArr)(a)?null:a}return b?h:h[0]}return c.matchTextRule?(c=p((0,g.getBody)(),c.textRuleOperator,c.textRuleValues[0]))&&b?[c]:c:null};a.getText=u;a.focusElement=k;a.disableFocusOnClick=function(c,a){try{(0,
e.addEventListener)(c,"mousedown",function(c){c.preventDefault();a&&k(a)})}catch(b){d.logger.log(b,"disableFocusOnClick")}};a.addNonceToDomString=n;a.isElement=function(c){return"object"===("undefined"==typeof HTMLElement?"undefined":m(HTMLElement))?c instanceof HTMLElement:c&&"object"===(void 0===c?"undefined":m(c))&&1===c.nodeType&&"string"==typeof c.nodeName};a.stripHtml=function(c){var a=document.createElement("div");return a.innerHTML=c,a.textContent};a.addTransitionEndListener=function(c,a){["webkitTransitionEnd",
"mozTransitionEnd","oTransitionEnd","transitionend"].forEach(function(b){(0,e.addEventListener)(c,b,a)})};a.removeTransitionEndListener=function(c,a){["webkitTransitionEnd","mozTransitionEnd","oTransitionEnd","transitionend"].forEach(function(b){(0,e.removeEventListener)(c,b,a)})};a.addTransitionStartListener=function(c,a){["webkitTransitionStart","mozTransitionStart","oTransitionStart","transitionstart"].forEach(function(b){(0,e.addEventListener)(c,b,a)})};a.removeTransitionStartListener=function(c,
a){["webkitTransitionStart","mozTransitionStart","oTransitionStart","transitionstart"].forEach(function(b){(0,e.removeEventListener)(c,b,a)})};a.getTagName=function(c){return c.tagName&&"function"==typeof c.tagName.toLowerCase?c.tagName:c.nodeName};a.checkIfSameElement=function(c,a){return a===c||a.isEqualNode(c)};a.isFixedPosition=function(c){for(var a=(0,g.getBody)();c&&c!==a;){if("fixed"===window.getComputedStyle(c).position.toLowerCase())return!0;c=c.parentNode}return!1}},function(l,a,b){Object.defineProperty(a,
"__esModule",{value:!0});var n=function(){function a(b,f){for(var u=0;u<f.length;u++){var k=f[u];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(b,k.key,k)}}return function(b,p,u){return p&&a(b.prototype,p),u&&a(b,u),b}}();a.LocalCache=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.data={};this.callbacks=[]}return n(a,[{key:"getdata",value:function(){return this.data}},{key:"onChange",
value:function(a){a&&"function"==typeof a&&this.callbacks.push(a)}},{key:"toString",value:function(){return JSON.stringify(this.data)}},{key:"setdata",value:function(a,b){var f=this;try{this.data[a]=b,this.callbacks.forEach(function(a){a(f.data)})}catch(k){}}},{key:"mergeData",value:function(a,b,f){if(void 0!==b&&null!=b&&"[object Object]"==Object.prototype.toString.call(b)){var k=this.data[a];k||(k={});f?Object.keys(b).forEach(function(a){k.hasOwnProperty(a)||(k[a]=b[a])}):Object.assign(k,b);this.data[a]=
k}else{var m=this.getKey(a);f?!m&&this.setdata(a,b):this.setdata(a,b)}}},{key:"addToMap",value:function(a,b,f){var k=this.data[a];k||(k={});k[b]||(k[b]={});Object.assign(k[b],f);this.data[a]=k}},{key:"getKey",value:function(a){return this.data[a]}},{key:"deleteKey",value:function(a){delete this.data[a]}}]),a}();a.cacheSet="setdata";a.cacheGetAll="getdata";a.cacheGet="getKey";a.cacheGetAsString="toString";a.cacheMerge="mergeData";a.cacheOnChange="onChange"},function(l,a,b){function n(){if(!h){h=!0;
for(var a=0;a<q.length;a++){var b=Array.prototype.slice.call(q[a]),d=b.shift();try{d.apply(window,b)}catch(e){}}q=[]}}function f(){"complete"===document.readyState&&ready()}function r(a){a=a||window.navigator.userAgent;var b=a.indexOf("MSIE ");if(0<b)return parseInt(a.substring(b+5,a.indexOf(".",b)),10);if(0<a.indexOf("Trident/"))return b=a.indexOf("rv:"),parseInt(a.substring(b+3,a.indexOf(".",b)),10);b=a.indexOf("Edge/");return 0<b&&parseInt(a.substring(b+5,a.indexOf(".",b)),10)}function p(){return-1<
navigator.userAgent.toLowerCase().indexOf("firefox")}function u(){var a=document.location.protocol.startsWith("https"),b=window.self!==window.top.parent&&!window.runVue&&a,d=(0,g.getConfig)("sameSiteCookie"),h="";if(b)return"; SameSite\x3dNone; Secure";if(d&&e.SAME_SITE_VALUES.includes(d))h="; sameSite\x3d"+d;else if(p())return"; SameSite\x3dNone; Secure";return a?h+"; Secure":h+";"}Object.defineProperty(a,"__esModule",{value:!0});a.isFirefox=a.getBrowserDetails=a.getPointerDownEventName=a.getPointerUpEventName=
a.applyStyle=a.getSameSiteCookieSuffix=a.detectIE=a.localStorageEnabled=a.url2Location=a.getDomain=a.addDOMReadyListener=a.getFullPageHeight=a.getPageHeight=a.getPageWidth=void 0;var k=b(14),m=b(4),e=b(6),g=b(1),d=b(15),h=!1,v=!1,q=[],w=null,t=null;a.getPageWidth=function(a){var b=null;return window.innerWidth&&!a?b=window.innerWidth:document.documentElement&&document.documentElement.clientWidth?b=document.documentElement.clientWidth:(0,g.getBody)()&&(b=(0,g.getBody)().clientWidth),b||0};a.getPageHeight=
function(){var a=null;return window.innerHeight?a=self.innerHeight:document.documentElement&&document.documentElement.clientHeight?a=document.documentElement.clientHeight:(0,g.getBody)()&&(a=(0,g.getBody)().clientHeight),a||0};a.getFullPageHeight=function(){var a=document.documentElement;return Math.max(document.body.offsetHeight,a.clientHeight,a.scrollHeight,a.offsetHeight)};a.addDOMReadyListener=function(a){if(h){var b=[].slice.call(arguments,1);return void setTimeout(function(){a.apply(window,
b)},1)}q.push(arguments);"complete"===document.readyState?setTimeout(n,1):v||(document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):(document.attachEvent("onreadystatechange",f),window.attachEvent("onload",n)),v=!0)};a.getDomain=function(){if((0,g.getConfig)("localStorageCookie"))return t=document.location.hostname;if(w!==document.location.hostname){w=document.location.hostname;var a=new Date,b=void 0,d=void 0,e="apt.temp-"+Date.now()+
k.UUIDGenerator.generateRandom(8),c=document.location.hostname.split("."),h=u();if(a.setTime(Date.now()+6E4),1==c.length)return t="";for(var q=c.length-1;0<=q;q--)if(b=c.slice(q).join("."),d="."+b,document.cookie=e+"\x3dcookie;domain\x3d"+d+"; expires\x3d"+a.toUTCString()+h,-1<document.cookie.indexOf(e))return document.cookie=e+"\x3d;domain\x3d"+d+";expires\x3dThu, 01 Jan 1970 00:00:01 GMT;"+h,t="."+b;t=document.location.hostname}return t};a.url2Location=function(a){if((0,d.isBlank)(a))return null;
try{var b=m.documentRef.createElement("a");return b.href=a,{protocol:b.protocol+"//",host:b.host,pathname:b.pathname,search:b.search,hash:b.hash}}catch(e){return null}};a.localStorageEnabled=function(){try{return localStorage.setItem("aptTest","aptTest"),localStorage.removeItem("aptTest"),!0}catch(a){return!1}};a.detectIE=r;a.getSameSiteCookieSuffix=u;a.applyStyle=function(a,b,d){d&&(a.style[b]=d)};a.getPointerUpEventName=function(){var a=r();return a&&a<e.LAST_IE_VERSION?"MSPointerUp":"pointerup"};
a.getPointerDownEventName=function(){var a=r();return a&&a<e.LAST_IE_VERSION?"MSPointerDown":"pointerdown"};a.getBrowserDetails=function(){var a=navigator.userAgent,b=void 0,d=a.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(d[1])?(b=/\brv[ :]+(\d+)/g.exec(a)||[],{name:"IE",version:b[1]||""}):"Chrome"===d[1]&&null!=(b=a.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:b[1]}:(d=d[2]?[d[1],d[2]]:[navigator.appName,navigator.appVersion,"-?"],b=a.match(/version\/(\d+)/i),
null!=b&&d.splice(1,1,b[1]),{name:d[0].toLowerCase(),version:d[1]})};a.isFirefox=p},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.jsonStringify=function(a,b){if(Array.prototype.toJSON){var r="",p=Array.prototype.toJSON;delete Array.prototype.toJSON;try{r=JSON.stringify(a,b)}catch(u){throw u;}finally{Array.prototype.toJSON=p}return r}return JSON.stringify(a,b)};l=function(a){return!!a&&/\{\s+\[native code\]/.test(Function.prototype.toString.call(a))}(Array.from)?Array.from:function(){var a=
Object.prototype.toString,b=function(b){return"function"==typeof b||"[object Function]"===a.call(b)},r=Math.pow(2,53)-1;return function(a){var u=Object(a);if(null==a)throw new TypeError("Array.from requires an array-like object - not null or undefined");var k=1<arguments.length?arguments[1]:void 0,m=void 0;if(void 0!==k){if(!b(k))throw new TypeError("Array.from: when provided, the second argument must be a function");2<arguments.length&&(m=arguments[2])}var e;e=Number(u.length);e=isNaN(e)?0:0!==e&&
isFinite(e)?(0<e?1:-1)*Math.floor(Math.abs(e)):e;e=Math.min(Math.max(e,0),r);for(var g=b(this)?Object(new this(e)):Array(e),d=0,h=void 0;d<e;)h=u[d],g[d]=k?void 0===m?k(h,d):k.call(m,h,d):h,d+=1;return g.length=e,g}}();a.arrayFrom=l},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.internalEventListener=void 0;var n=function(){function a(b,e){for(var g=0;g<e.length;g++){var d=e[g];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,
d.key,d)}}return function(b,e,g){return e&&a(b.prototype,e),g&&a(b,g),b}}();l=b(8);var f=b(15),r=b(2),p=b(14),u=new l.LocalCache;b=new (function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return n(a,[{key:"addListener",value:function(a,b,g,d,h){var k=p.UUIDGenerator.generateV4Id(),q=u.getKey(a);q||(q=[],u.setdata(a,q));a=!1;for(var w=0;w<q.length;w++)if(q[w].callback===b){a=!0;break}a||q.push({listenerId:k,callback:b,thisReference:g,isExternal:d,
executeOnce:h})}},{key:"removeListener",value:function(a,b,g){a=u.getKey(a);if((0,f.isNotEmptyArr)(a))for(var d=0;d<a.length;d++)a[d].callback!==b&&a[d].listenerId!==g||a.splice(d,1)}},{key:"dispatchEvent",value:function(a){try{var b=u.getKey(a),g=[];1<arguments.length&&(g=Array.prototype.slice.call(arguments,1));var d=[];b&&b.forEach(function(b,e){var q=this;try{b.isExternal?setTimeout(function(){b.callback.apply(b.thisReference||q,g)},0):b.executeOnce&&!b.executed?(b.executed=!0,d.unshift(e),b.callback.apply(b.thisReference||
this,g)):b.callback.apply(b.thisReference||this,g)}catch(k){r.logger.logInternalError(k,"Error while executing listener for type "+a)}});0<d.length&&d.forEach(function(a){return b.splice(a,1)})}catch(h){r.logger.logInternalError(h,"Error while trying to execute listeners for type"+a)}}}]),a}());a.internalEventListener=b},function(l,a,b){function n(a,b,d,e){var h=(0,p.getConfig)("trustedOrigin"),g=void 0,g=d?h||"*":b.location.protocol+"//"+((0,u.isValidPort)(b.location.port)?b.location.host:b.location.hostname);
b.postMessage((0,v.jsonStringify)(a,e),g)}function f(a,b){var d=(0,p.getConfig)("trustedOrigin");d&&d!==b.origin||b.iframe.postMessage((0,v.jsonStringify)(a),b.origin)}function r(a,b,d,h){var g=e.UUIDGenerator.generateV4Id();(0,m.subscribe)(g,h);f(m.IframeRequest.getMasterRequst(a,b,g),d);(0,m.incrementState)(g)}Object.defineProperty(a,"__esModule",{value:!0});a.setupIframeUnregisterOnUnload=a.isValidPort=a.fixBadgesLocations=a.iframeSubscribeCallback=a.createSubscribeCallbackRequest=a.associateChildIframes=
a.getIframeBoundingRect=a.getIframeId=a.isValidCallingDomain=a.postRequestDown=a.postRequest=a.parseEvent=a.propagateDown=void 0;var p=b(1),u=b(15),k=b(2),m=b(5),e=b(14),g=b(9),d=b(18),h=b(0),v=b(10),q=b(22);a.propagateDown=function(a,b){try{(0,p.isIframe)()||(0,u.isEmptyArr)(b)||b.forEach(function(b){a.aptrinsicIframeId=b.iframeId;b.iframe&&b.iframe.postMessage((0,v.jsonStringify)(a),b.origin)})}catch(d){k.logger.logInternalError(d)}};a.parseEvent=function(a){try{return a&&a.data&&("string"==typeof a.data||
a.data instanceof String)&&a.data.startsWith("{")?new m.IframeRequest(JSON.parse(a.data)):null}catch(b){return null}};a.postRequest=n;a.postRequestDown=f;a.isValidCallingDomain=function(a){if("string"!=typeof a)return!1;var b=(0,g.getDomain)();a=(0,h.safeUrl)(a,!0);-1<a.indexOf(":")&&-1===b.indexOf(":")&&(a=a.split(":")[0]);var d=a.endsWith(b),e=-1<a.indexOf(b),q=(0,p.getConfig)("trustedOrigin");return(!q||(0,h.safeUrl)(q,!0)===a)&&(!d&&e&&k.logger.logInternalError(Error("iframe validate domain suffix does not match but domain "+
b+" found in "+a)),!(!d&&0!==a.indexOf(b.substring(1,b.length))&&!(0,p.getConfig)("allowCrossDomain")))};a.getIframeId=u.getIframeId;a.getIframeBoundingRect=function(a){var b=window.frames;if(0<b.length)for(var d=0;d<b.length;d++)if(b[d]===a.source)return a=b[d].getBoundingClientRect(),{top:a.top,right:a.right,bottom:a.bottom,left:a.left,width:a.width,height:a.height,x:a.x,y:a.y};return{top:0,right:0,bottom:0,left:0}};a.associateChildIframes=function(a){if(0<a.length)for(var b=0;b<a.length;b++)(function(b){var d=
void 0,e=(0,p.getConfig)("allowBlankSrc")&&("about:blank"===a[b].src||""===a[b].src),h=!a[b].src&&a[b].srcdoc;if(e||h)d="*";else{if(!a[b].src.startsWith("http"))return"continue";e=document.createElement("a");e.href=a[b].src;d=e.protocol+"//"+((0,u.isValidPort)(e.port)?e.host:e.hostname)}var c=!1;(0,u.retryFunction)(5,500,function(){c||r("getChildAssociation",null,new m.IframeData(a[b].contentWindow,d),function(d){(0,m.associateIframe)(d[0].iframeId,a[b]);c=!0})})})(b)};a.createSubscribeCallbackRequest=
r;a.iframeSubscribeCallback=function(a,b,d){var h=e.UUIDGenerator.generateV4Id();(0,m.subscribe)(h,d);n(m.IframeRequest.getIframeRequest((0,u.getIframeId)(),a,b,h),(0,q.getTopWindow)(),!0);(0,m.incrementState)(h)};a.fixBadgesLocations=function(a,b){var e=(0,m.getIframeData)(a);if(!e)return[];var h=e.domElement,g=(0,p.getConfig)("framesetMode"),q=g?e.frameOffset:h.getBoundingClientRect(),c=g||(0,d.isElementVisible)(h,!0),e=[];return Array.isArray(b)&&(e=b.map(function(a){return Object.assign({},a,
{isVisible:a.isVisible&&c,rect:Object.assign({},a.rect,{top:a.rect.top+q.top,left:a.rect.left+q.left,right:a.rect.right+q.right,bottom:a.rect.bottom+q.bottom})})})),e};a.isValidPort=u.isValidPort;a.setupIframeUnregisterOnUnload=function(a){function b(){var h=m.IframeRequest.getIframeRequest((0,u.getIframeId)(),"pxUnregister",null,e.UUIDGenerator.generateV4Id());n(h,a,!0);d&&n(h,d,!0)}var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;(0,p.getConfig)("cleanIframeCache")&&((0,h.removeEventListener)(window,
"unload",b),(0,h.addEventListener)(window,"unload",b))}},function(l,a,b){function n(a,b,v,q,w,t,f,A,n){try{var y=g.createCors(a,b,n);if(!y){if(A)return;throw Error("cannot make request to "+b+" not supported");}if(f&&y.setRequestHeader("Content-Type","application/json"),w)for(var c in w)w.hasOwnProperty(c)&&y.setRequestHeader(c,w[c]);y.onload=function(){try{var c=y.responseText,e=null;if(""!==c)try{e=JSON.parse(c)}catch(g){e=c}if(200<=y.status&&300>y.status){var t=r.eventTrackData[u.cacheGet](r.productIdParameter);
e&&e.p&&t&&!(0,k.isApiKeyMatch)(e.p,t)&&!(0,m.getConfig)("crossProductEngagement")||v&&v(e)}else p.logger.log("error "+y.statusText+" happened in the request: "+a+" "+b),q&&q(y.status,e)}catch(g){A||p.logger.logInternalError(g)}};y.onerror=function(){A||(q&&q(),p.logger.log("error happened in the request: "+a+" "+b))};Object.isExtensible(y)&&(y.PXsource="true");t&&"GET"!==a?y.send((0,e.jsonStringify)(t)):y.send()}catch(l){if(!A){w="sendAjaxRequest: ";if(w+="URL: '"+b+"'\n",t)try{w+="Data: '"+(0,e.jsonStringify)(t)+
"'\n"}catch(z){}p.logger.logInternalError(l,w)}}}Object.defineProperty(a,"__esModule",{value:!0});a.AjaxUtil=void 0;var f=function(){function a(b,d){for(var e=0;e<d.length;e++){var g=d[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,e,g){return e&&a(b.prototype,e),g&&a(b,g),b}}(),r=b(4),p=b(2),u=b(8),k=b(15),m=b(1),e=b(10),g=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
}return f(a,null,[{key:"createCors",value:function(a,b,d){var e=new XMLHttpRequest;d=void 0===d?(0,m.getConfig)("requestTimeoutDefault"):d;return d&&(e.timeout=d),"withCredentials"in e?e.open(a,b,!0):"undefined"!=typeof XDomainRequest?(e=new XDomainRequest,e.open(a,b)):e=null,e}},{key:"postData",value:function(a,b,d,e,g,k,m,f){n("POST",a,e,g,d,b,k,m,f)}},{key:"putData",value:function(a,b,d,e,g,k){n("PUT",a,e,g,d,b,k)}},{key:"getData",value:function(a,b,d,e,g,k,m){n("GET",a,b,e,d,null,g,k,m)}},{key:"deleteData",
value:function(a,b,d,e,g,k){n("DELETE",a,e,g,d,b,k)}},{key:"loadFile",value:function(a,b,d){try{var e=null;switch(a){case "js":e=r.documentRef.createElement("script");e.async=!0;e.type="text/javascript";e.src=b;break;case "css":e=r.documentRef.createElement("link");e.rel="stylesheet";e.type="text/css";e.href=b;d&&(e.crossOrigin="anonymous");break;default:throw Error("unknown type "+a);}r.documentRef.getElementsByTagName("head")[0].appendChild(e)}catch(g){p.logger.logInternalError(g)}}}]),a}();a.AjaxUtil=
g},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function a(b,f){for(var k=0;k<f.length;k++){var m=f[k];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=!0);Object.defineProperty(b,m.key,m)}}return function(b,f,k){return f&&a(b.prototype,f),k&&a(b,k),b}}(),f=b(127);a.UUIDGenerator=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return n(a,null,[{key:"generateUuid",value:function(a){return a+
"-"+(new Date).getTime()+"-"+this.generateRandom(8)}},{key:"getProductId",value:function(a){return a?a.split(".")[0].split("-").slice(0,-2).join("-"):null}},{key:"getRandomInt",value:function(a,b){var k=Math.ceil(a);return Math.floor(Math.random()*(Math.floor(b)-k))+k}},{key:"generateRandom",value:function(a){for(var b="",k=0;k<a;k++)b+=this.getRandomInt(1,10);return b}},{key:"generateV4Id",value:function(){return f()}}]),a}()},function(l,a,b){function n(a){return!a||"string"!=typeof a||""==a.trim()}
function f(a){if(a){a=a.split("-");var b=a.length;return 2<a.length&&a.splice(2,1),4>b&&a.push("1"),a.join("-")}return a}Object.defineProperty(a,"__esModule",{value:!0});a.isNotNullOrUndefined=a.isObjectEmpty=a.isFeatureEvent=a.isLinkClickEvent=a.isClickEvent=a.isPageViewEvent=a.isBlank=a.isEmptyArr=a.isObject=a.getIframeId=a.isValidPort=a.retryFunction=a.isApiKeyMatch=a.getProduct=a.getProductKeyFromApiKey=a.mapQueryParamsToObject=a.isNotEmptyArr=void 0;var r=function(){return function(a,b){if(Array.isArray(a))return a;
if(Symbol.iterator in Object(a)){var e=[],g=!0,d=!1,h=void 0;try{for(var v,q=a[Symbol.iterator]();!(g=(v=q.next()).done)&&(e.push(v.value),!b||e.length!==b);g=!0);}catch(w){d=!0,h=w}finally{try{!g&&q["return"]&&q["return"]()}finally{if(d)throw h;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),p=b(14),u=b(10);a.isNotEmptyArr=function(a){return a&&Array.isArray(a)&&0<a.length};a.mapQueryParamsToObject=function(a){var b={};return a.split("\x26").forEach(function(a){a=
a.split("\x3d");a=r(a,2);b[a[0]]=a[1]},{}),b};a.getProductKeyFromApiKey=f;a.getProduct=function(a){return a?a.split("-").slice(1,2).join():a};a.isApiKeyMatch=function(a,b){return f(a)===f(b)};a.retryFunction=function(a,b,e){for(var g=0;g<a;g++)setTimeout(e,b*g)};a.isValidPort=function(a){return!n(a)&&"80"!==a&&"443"!==a};a.getIframeId=function(){return window.aptrinsicIframeId=window.aptrinsicIframeId||p.UUIDGenerator.generateV4Id()};a.isObject=function(a){return void 0!==a&&"[object Object]"==Object.prototype.toString.call(a)};
a.isEmptyArr=function(a){if(a){var b=a;return Array.isArray(b)||(b=(0,u.arrayFrom)(a)),Array.isArray(b)&&0==b.length}return!0};a.isBlank=n;a.isPageViewEvent=function(a){return"pageview"===a};a.isClickEvent=function(a){return"click"===a};a.isLinkClickEvent=function(a){return"linkClick"===a};a.isFeatureEvent=function(a){return"feature"===a};a.isObjectEmpty=function(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};a.isNotNullOrUndefined=function(a){return-1===[null,void 0].indexOf(a)}},
function(l,a,b){function n(a,b,e){return b in a?Object.defineProperty(a,b,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[b]=e,a}function f(){var a=(0,k.getAptTokenCookieValues)(),b={};return a&&2<a.length&&(b=JSON.parse(a[2])),b}Object.defineProperty(a,"__esModule",{value:!0});a.previewEndpoint=void 0;a.getAptTokenCookieAdditionalData=f;var r=b(33),p=b(13),u=b(1),k=b(134),m=k&&k.__esModule?k:{"default":k},e=window,g=[k.tokenParamName,k.languageParamName,k.editorTypeParamName,k.guideIdParamName,
k.contentIdParamName,k.contentGroupIdParamName,k.engagementId,k.previewParamName,k.knowledgeCenterParamName,k.productKeyParamName,k.isParentSubscription,k.isChildSubscription,k.exitUrlParam,k.SELECTED_FEATURE_PARAM];l=new function(){var a=void 0,b=void 0,v={},q=void 0,w=void 0,t=void 0,x={},A=function(){return q.push(arguments),!0};return e.guideEditor=e.guideEditor||A,q=e.guideEditor.q||[],e.guideEditor.q=e.guideEditor.q||q,A.getQueue=function(){return q},A.isEditorMode=function(){return a&&b},A.isEngagementEditorV2=
function(){return"7"===b},A.getToken=function(){return a},A.getType=function(){return b},A.isPreview=function(){return"true"===v[k.previewParamName]},A.getPreviewUrl=function(){return"https://app-be.aptrinsic.com/api/editor/v2/preview/"+v[k.contentGroupIdParamName]+"/"+v[k.contentIdParamName]+"?lang\x3d"+v[k.languageParamName]},A.loadEditor=function(a){w=w||a;var d=(0,u.getStaticContentHost)();return"1"===b?p.AjaxUtil.loadFile("js",d+"/api/product-mapper.min.js?a\x3d"+a):"2"===b?p.AjaxUtil.loadFile("js",
d+"/api/guide-editor.min.js?a\x3d"+a):A.isEngagementEditorV2()&&p.AjaxUtil.loadFile("js",d+"/api/engagement-editor.min.js?a\x3d"+a),!0},A.getAdditionalDetails=function(){return v},A.replaceCall=function(a){A=a},A.exit=function(){sessionStorage.removeItem(k.tokenCookieName);r.Cookie.deleteCookie(k.tokenCookieName)},A.getAptOnExitRedirectURL=function(){return f()[k.exitUrlParam]||null},A.cleanEngagementData=function(){var a="queryParam"===t?"?":"#",b=[];Object.keys(x).forEach(function(a){-1===g.indexOf(a)&&
b.push(a+"\x3d"+x[a])});var a=0<b.length?a+b.join("\x26"):"",c=e.location.protocol+"//"+e.location.host+e.location.pathname;return c+="queryParam"===t?a+e.location.hash:e.location.search+a},A.getProductKey=function(){return w},A.getQueryParams=function(){var e;return Object.assign((e={},n(e,k.tokenParamName,a),n(e,k.editorTypeParamName,b),n(e,k.productKeyParamName,w),e),v)},A.saveConfig=function(){if(a&&b&&3!=b&&4!=b&&5!=b){var e=[a,b,JSON.stringify(v)].join("\x26");(0,u.getConfig)("useSessionStorageEditorToken")?
(sessionStorage.setItem(k.tokenCookieName,e),r.Cookie.deleteCookie(k.tokenCookieName)):(r.Cookie.setCookie(k.tokenCookieName,e),sessionStorage.removeItem(k.tokenCookieName))}},function(){var e=(0,m["default"])(window);a=e.token;b=e.type;v=e.additionalDetails;x=e.queryParamsHash;w=e.productKey;t=e.tokenUrlPosition}(),A};a["default"]=l;a.previewEndpoint="https://app-be.aptrinsic.com/api/editor/v2/preview"},function(l,a,b){function n(a,c,b){return a===z.ACTIVATION_TYPE_AUTOMATIC&&c&&c.enabled||b&&-1<
b.indexOf(z.EDITOR_ACTIVATION_TYPE_AUTOMATIC)}function f(a,c,b){var d=c.backgroundColor,e=c.backgroundFill,h=c.textColor,g=c.cornerRadius,q=c.hoverBackgroundColor,k=c.hoverBackgroundFill,v=c.hoverBorderColor,w=c.hoverTextColor,m=c.borderColor;c=c.borderWidth;var f=".px-step-navigation-"+b+":hover {",d=".px-step-navigation-"+b+" {"+("background-color: "+(-1<e?(0,t.hexToRgba)(d,e/100):d)+";"),f=f+("background-color: "+(-1<k?(0,t.hexToRgba)(q,k/100):q)+";"),d=d+("color: "+h+";"),d=d+("border-radius: "+
g+"px;"),d=d+("border-width: "+c+"px;"),d=d+("border-color: "+m+";"),f=f+("color: "+w+";")+("border-color: "+v+";"),d=d+"}",f=f+"}";(0,t.addStyle)(d+f,"px-step-navigation-"+b,a)}function r(a,c,b){if(!Q["default"].isEditorMode()){var d=[],d=(0,t.addParameters)(y.eventTrackData[B.cacheGetAll](),d);(0,t.addParameters)({ei:a.engagementId,ecoi:a.contentId||a.content.id,evi:a.matchEventId||null,ent:a.contentTypeId||a.content.contentTypeId,acci:a.accountId,exi:a.executionId,ext:a.executionTimestamp,cl:a.contentLocale,
at:a.activationType||"a",cosi:c,cossn:b},d);(a=(0,D.getGlobalContext)())&&(0,t.addParameters)({gcx:JSON.stringify(a)},d);d=(0,t.addParameters)((0,F.getWebContext)(),d);G.AjaxUtil.getData(C.snoozeUrl+"?"+(0,t.convert2Parameters)(d))}}function p(a,c,b,d){a={ei:a.engagementId,ecoi:a.contentId||a.content.id,ent:a.contentTypeId||a.content.contentTypeId,evi:a.matchEventId,ett:c,exi:a.executionId,ext:a.executionTimestamp,acci:a.accountId};b&&(a.cosi=b,(d||0===d)&&(a.cossn=d));b=(0,t.addParameters)(a,[]);
d=(0,D.getGlobalContext)();return d&&(0,t.addParameters)({gcx:JSON.stringify(d)},b),(0,t.addParameters)(y.eventTrackData[B.cacheGetAll](),b)}function u(a){var c=void 0;switch(a){case "IN_APP_DIALOG":c="Dialog";break;case "IN_APP_CAROUSEL":c="Slider";break;case "IN_APP_GUIDE":c="Guide";break;case "IN_APP_SURVEY_NPS":c="NPS";break;case "IN_APP_CES_SURVEY":c="CES";break;case "IN_APP_RATING_SURVEY":c="Rating";break;case "IN_APP_BOOLEAN_SURVEY":c="Boolean";break;case "IN_APP_MULTIPLE_QUESTION_SURVEY":c=
"Multi Question";break;default:return}return c}function k(a){switch(a){case "a":return"Auto";case "kc":return"Bot";case "b":return"Badge";case "jo":return"Journey Orchestrator";default:throw"unknown activation type "+a;}}function m(a,c){return{engagementId:a.engagementId,executionId:a.executionId,executionTimestamp:a.executionTimestamp,engagementType:u(a.contentType||a.content.contentType),activation:k(a.activationType),engagementName:a.engagementName,interaction:c,identifyId:a.ideId}}function e(a){var c=
void 0,b=void 0;a?document.querySelectorAll(".px-engagement-wrapper").forEach(function(d){b||(b=d.querySelector("#step-"+a),c=d)}):c=document.querySelector(".px-engagement-wrapper");return c}function g(a,b,d){return function(e){try{var h=e.target;if(a===h||a.contains(h)){e="LINK_CLICK";var h="linkClick",g="Link Clicked";if(a.parentNode.classList.contains("apt-custom-button")&&(e="CUSTOM_BUTTON_CLICK",h="customButtonClick",g="Custom Button clicked"),a.href){var q=a.href.split("ru\x3d");if(2===q.length){var t=
decodeURIComponent(q[1]);c.internalEventListener.dispatchEvent(h,t,m(b,g),d);c.internalEventListener.dispatchEvent(e,t,m(b,g),d)}}}}catch(k){A.logger.log("listenToLinksClicks "+k)}}}function d(a,b,d,e){c.internalEventListener.dispatchEvent(a,{engagementType:d.content.contentType,engagementId:d.engagementId,width:b.width,height:b.height,fixedWidth:e.width,fixedHeight:e.autoHeight?b.height:e.height})}function h(a,c,b){c=(0,t.paramToObject)(c,{});var d=J.eventCache.getKey("trackingPayload"),e=c.gcx,
h=c.ru;Object.assign(c,d||{},b||{},e?{gcx:decodeURIComponent(e)}:{},h?{ru:decodeURIComponent(h)}:{});G.AjaxUtil.postData(a,c,null,null,null,!0)}function v(a,b,d,e){var g=!(4<arguments.length&&void 0!==arguments[4])||arguments[4];return function(q){q.preventDefault();q=p(a,"ENGAGEMENT_CLICK",b,d);return q=(0,t.addParameters)({ru:e},q),h(C.desktopEngagementTrackEndpoint+"/track/link/click",q),c.internalEventListener.dispatchEvent("engagementLinkClick",{engagementType:a.content.contentType,engagementId:a.engagementId,
link:e,close:g}),!1}}function q(a,c,b){if(a){var d=a.querySelector(".apt-step-content");d&&c&&null!==c.right&&null!==c.top&&null!==c.bottom&&null!==c.left&&(d.style.paddingTop=(c.top||0)+"px",d.style.paddingBottom=(c.bottom||0)+"px",b=b?"#step-"+b:"",(0,x.addStyleTag)(a,b+" .px-div-group { \n\t\t\t\t\tpadding-left: "+(c.left||0)+"px; \n\t\t\t\t\tpadding-right: "+(c.right||0)+"px; \n\t\t\t\t}","px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"))}}function w(a){var c="";return c+=(a.offsetX?
a.offsetX:0)+"px ",c+=(a.offsetY?a.offsetY:0)+"px ",c+=(a.blur?a.blur:0)+"px ",a.fill&&a.color&&(c+=(0,t.hexToRgba)(a.color,a.fill/100)),c}Object.defineProperty(a,"__esModule",{value:!0});a.addGlobalSettings=a.addLinkListenerForDesktop=a.desktopTrackStep=a.desktopTrackEngagementState=a.sendDesktopResize=a.toExternalEventSurvey=a.toExternalEventGuide=a.getExternalEvent=a.getEngagementTrackPayload=a.PX_TABBABLE_ATTR=void 0;a.isSnoozeButtonEnabled=n;a.isSingleStepWithSnooze=function(a,c,b,d){return 1===
a&&n(c,b,d)};a.addHoverState=f;a.trackSnooze=r;a.createSnoozeButton=function(a,c,b,d,e,h){var g=a.text||"Show me later",q=(0,t.createElement)("button",["px-step-navigation-snooze"],{text:g});return q.setAttribute(H,"true"),q.setAttribute("aria-label",g),c.appendChild(q),f(q,a,"snooze"),(0,t.addEventListener)(q,"click",function(){r(b,d,e);h()}),(0,x.disableFocusOnClick)(q),q};a.getRelevantDialog=e;a.addCircularTabListener=function(a,c,b){function d(a){var g=e(b),g=g&&(g.contains(a.target)||g===a.target);
c?c(a.target)?(L+=1,h(a)):L=0:g?L=0:(L+=1,h(a));5===L&&A.logger.logInternalError(Error("Accessibility - circular tabs - 5 invalid elements in a row with tabindex "+a.target.tabIndex))}var h=(0,t.debounce)(a);return(0,t.addEventListener)(document,"focusin",d),d};a.addCircularTabListenerForTooltips=function(a,c,b){function d(a){var q=e(b),t=(0,O.getEventTarget)(a);(q=q&&(q.contains(t)||q===t))?L=0:t===c||c.contains(t)?L=0:(L+=1,g?((0,x.focusElement)(c),y.documentRef.activeElement!==c&&h(a)):h(a));g=
q;5===L&&A.logger.logInternalError(Error("Accessibility - circular tabs - 5 invalid elements in a row with tabindex "+a.target.tabIndex))}var h=(0,t.debounce)(a),g=!1;return(0,t.addEventListener)(document,"focusin",d),d};a.removeCicularTabsWrapperListener=function(a){a&&(0,t.removeEventListener)(document,"focusin",a)};a.setTabIndexes=function(a,c){var b=c,d=a.querySelectorAll("a[href], button[onclick]");return 0<d.length&&d.forEach(function(a){a.setAttribute("tabindex",b);a.setAttribute("role","button");
a.setAttribute(H,"true");b+=1}),b};a.addTabbableEnterListener=function(){U||(U=(0,t.addEnterKeyDownListener)(document,function(a){var c=document.activeElement;c.getAttribute(H)&&(c.click(),a.preventDefault())}))};a.removeTabbableEnterListener=function(){U&&((0,t.removeEventListener)(document,"keydown",U),U=null)};a.checkHasOverlay=function(a,c){return a&&0<c};a.listenToLinksClicks=function(a,c,b){a.querySelectorAll("a[href]").forEach(function(a){(0,t.addEventListener)(a,"click",g(a,c,b),!1)})};a.sendDesktopEngagementSizeEvent=
d;a.getBoxShadowString=w;a.setShadow=function(a,c){var b=w(c);a.style.setProperty("filter","drop-shadow("+b+")");a.style.setProperty("-webkit-filter","drop-shadow("+b+")")};a.replaceImagesSrc=function(a){a.querySelectorAll("img").forEach(function(a){(0,S.replaceAllDomains)(a,"src",(0,C.getConfig)("storageProxyDomain"),z.DEFAULT_STORAGE_DOMAIN)})};a.replaceImagesSrcFromHtmlString=function(a){if(!a)return"";var c=z.DEFAULT_STORAGE_DOMAIN,b=(0,C.getConfig)("storageProxyDomain");return a.replace(new RegExp(c,
"g"),b)};var t=b(0),x=b(7),A=b(2),B=b(8),y=b(4),c=b(11),E=b(21),z=b(6),J=b(68),G=b(13),C=b(1),O=b(18),D=b(23),F=b(19),Q=(l=b(16))&&l.__esModule?l:{"default":l},S=b(170),L=0,T=[{type:"Promoter",lowScore:9,maxScore:10},{type:"Passive",lowScore:7,maxScore:8},{type:"Detractor",lowScore:0,maxScore:6}],H=a.PX_TABBABLE_ATTR="data-apt-tabbable-element",U=null;a.getEngagementTrackPayload=p;a.getExternalEvent=m;a.toExternalEventGuide=function(a,c){return{engagementId:a.engagementId,executionId:a.executionId,
executionTimestamp:a.executionTimestamp,engagementType:u(a.contentType),activation:k(a.activationType),engagementName:a.engagementName,interaction:c,identifyId:a.ideId}};a.toExternalEventSurvey=function(a,c,b,d){a={engagementId:a.engagementId,executionId:a.executionId,executionTimestamp:a.executionTimestamp,engagementType:u(a.content.contentType),activation:k(a.activationType),engagementName:a.engagementName,interaction:c,identifyId:a.ideId};if(d)if("SCORE"===d.questionType){if(a.score=d.score,"IN_APP_SURVEY_NPS"===
b)for(b=0;b<T.length;b++)if(T[b].lowScore<=a.score&&T[b].maxScore>=a.score){a.scoreType=T[b].type;break}(0,t.isBlank)(d.comment)||(a.comment=d.comment)}else"OPEN_TEXT"!==d.questionType||(0,t.isBlank)(d.comment)||(a.comment=d.comment);return a};a.sendDesktopResize=function(a,c,b){(0,E.getChannel)(y.eventTrackData[B.cacheGet](y.productIdParameter))==z.DESKTOP_CHANNEL&&d("engagementResize",a.getBoundingClientRect(),c,b)};a.desktopTrackEngagementState=function(a,c){h(C.desktopEngagementTrackEndpoint+
"/multistep/track",a,c)};a.desktopTrackStep=function(a,c){h(C.desktopEngagementTrackEndpoint+"/multistep/step/track",a,c)};a.addLinkListenerForDesktop=function(a,c,b,d){try{a.querySelectorAll("a").forEach(function(a){var e="_blank"===a.target;(0,t.addEventListener)(a,"click",v(c,b,d,a.href,!e))})}catch(e){A.logger.logInternalError(e,"failed to add lister ")}};a.addGlobalSettings=function(a,c,b,d){if(0<=c.indexOf(".px-engagement-global-settings")){var e=(0,t.extractStyleString)(c,".px-engagement-global-settings");
(e=(0,t.extractStyleProperties)(e))&&0<e.length&&e.forEach(function(c){if(-1<["padding","padding-top","padding-bottom","padding-left","padding-right"].indexOf(c.inlineProperty)){var b=a.querySelector(".apt-step-content");b&&(b.style[c.inlineProperty]=c.value)}else a.style[c.inlineProperty]=c.value})}if(b){var h=".px-step-settings-"+b,e=".px-step-navigation-settings-"+b;0<=c.indexOf(h)&&(h=(0,t.extractStyleString)(c,h),(h=(0,t.extractStyleProperties)(h))&&0<h.length&&h.forEach(function(c){a.style[c.inlineProperty]=
c.value}));0<=c.indexOf(e)&&(c=(0,t.extractStyleString)(c,e),(c=(0,t.extractStyleProperties)(c))&&0<c.length&&c.forEach(function(c){var b=a.querySelector(".px-step-navigation");b&&(b.style[c.inlineProperty]=c.value)}))}q(a,d,b)}},function(l,a,b){function n(a,b){return a.nodeType===Node.ELEMENT_NODE&&b.some(function(b){return null!==a.getAttribute(b)&&""!==a.getAttribute(b)})}function f(a,b,d){if(n(a,b))return a;if(d>=w)return null;a=a.childNodes;if(0<a.length)for(var c=0;c<a.length;c++){var e=f(a[c],
b,d+1);if(null!==e)return e}return null}function r(a,b){var d=void 0;if((0,h.getConfig)("usesShadowDom")){var c=function(a){d=!0;a.stopImmediatePropagation()},e="px-parent-child-test-event-"+Date.now();a.addEventListener(e,c);b.dispatchEvent(new CustomEvent(e,{bubbles:!0,composed:!0,cancelable:!0}));a.removeEventListener(e,c)}else d=a.contains(b);return d}function p(a,b,d,c){var e=a.elementFromPoint(b,d);if(e.shadowRoot&&e.shadowRoot!==a){if(!(c<x))return e;e=p(e.shadowRoot,b,d,c+1)}return e}function u(a,
b,d){return(0,h.getConfig)("usesShadowDom")?p(a,b,d,0):a.elementFromPoint(b,d)}function k(a){var b="visible"!==a.visibility,d=.1>a.opacity;return"none"===a.display||b||d}function m(a,b,d){return r(a,u(document,b.x,b.y))||r(a,u(document,d.left,d.top))||r(a,u(document,d.right,d.top))||r(a,u(document,d.right,d.bottom))||r(a,u(document,d.left,d.bottom))||r(a,u(document,b.x,d.top))||r(a,u(document,d.left,b.y))||r(a,u(document,b.x,d.bottom))||r(a,u(document,d.right,b.y))}function e(a,b,d){for(b=document.elementFromPoint(b.x,
b.y);b&&b.tagName;){var c="true"===b.getAttribute("data-apt-ignore-visible"),e=b===a,g=b.getAttribute("class")||"",g=d&&b!==(0,h.getBody)()&&-1<g.indexOf("apt");if(c||e||g)return!0;b=b.parentNode}return!1}function g(a){var b=a.x>(document.documentElement.clientWidth||window.innerWidth),d=0>a.y,c=a.y>(document.documentElement.clientHeight||window.innerHeight);return 0>a.x||b||d||c}Object.defineProperty(a,"__esModule",{value:!0});a.isElementVisibleV2=a.isElementVisible=a.documentElementFromPoint=a.findOptimizedTarget=
a.elementContainsChild=a.getParentElement=a.getParentNode=a.getEventTarget=a.findSingleElementInShadowDom=a.findElementsInShadowDom=void 0;var d=b(156),h=b(1),v=b(4),q=b(15),w=2,t=["#document","html","body"],x=5E3;a.findElementsInShadowDom=function(a,b){var e=b||v.documentRef;return(0,h.getConfig)("usesShadowDom")?(0,d.querySelectorAllDeep)(a,e):e.querySelectorAll(a)};a.findSingleElementInShadowDom=function(a,b){var e=b||v.documentRef;return(0,h.getConfig)("usesShadowDom")?(0,d.querySelectorDeep)(a,
e):e.querySelector(a)};a.getEventTarget=function(a){var b=(0,h.getConfig)("usesShadowDom");return a?b&&a.composedPath&&a.composedPath()[0]||a.target:void 0};a.getParentNode=function(a){return(0,h.getConfig)("usesShadowDom")&&a.parentNode instanceof DocumentFragment?a.parentNode.host:a.parentNode};a.getParentElement=function(a){return(0,h.getConfig)("usesShadowDom")&&a.parentNode instanceof DocumentFragment?a.parentNode.host:a.parentElement};a.elementContainsChild=r;a.findOptimizedTarget=function(a){if(!a||
!a.nodeName||-1<t.indexOf(a.nodeName.toLowerCase()))return a;var b=(0,h.getConfig)("elementAttributeWhitelist");if((0,q.isNotEmptyArr)(b)){if(b=b.filter(function(a){return-1===a.indexOf("*")}),n(a,b))return a;for(var d=0,c=a.parentNode;d<=w&&c&&c.nodeName&&-1===["body","html","#document"].indexOf(c.nodeName);d++,c=c.parentNode)if(n(c,b))return c;if((b=f(a,b,0))&&"none"!==getComputedStyle(b).display)return b}return a};a.documentElementFromPoint=u;a.isElementVisible=function(a,b,d){if(!a||k(window.getComputedStyle(a)))return!1;
var c=a.getBoundingClientRect();return 0===a.offsetWidth+a.offsetHeight+c.height+c.width?!1:b?(b={x:c.left+c.width/2,y:c.top+c.height/2},!g(b)&&(!!m(a,b,c)||e(a,b,d))):!0};a.isElementVisibleV2=function(a,b,d){if(!a||k(window.getComputedStyle(a)))return!1;var c=a.getBoundingClientRect();if(0===a.offsetWidth+a.offsetHeight+c.height+c.width)return!1;var h={x:c.left+c.width/2,y:c.top+c.height/2};return(!b||!g(h))&&(!!m(a,h,c)||e(a,h,d))}},function(l,a,b){function n(a){var b=(0,e.getConfig)("filterUrls"),
d=(0,e.getConfig)("filterType");if((0,g.isNotEmptyArr)(b)){var h=(0,g.getWindowLocation)();a=a||h.hostname+h.pathname+h.search+h.hash;if((0,g.matchUrl)(b,a))return d}return null}function f(a){var b;if(!(b="exclude"===n(a)))a:{b=(0,e.getConfig)("excludeUrls");if((0,g.isNotEmptyArr)(b)){var d=(0,g.getWindowLocation)();a=a||d.hostname+d.pathname+d.search+d.hash;if((0,g.matchUrl)(b,a)){b=!0;break a}}b=!1}return b}function r(a){return"mask"===n(a)}function p(a){var b=(0,e.getConfig)("namedParamFilter"),
d=(0,e.getConfig)("nameParamFilterType");if((0,g.isNotEmptyArr)(b)&&!(0,g.isBlank)(a)){var h=a.startsWith("?")?a.substring(1).split("\x26"):a.split("\x26");a={};var k=void 0,v=!0,f=!1,c=void 0;try{for(var m,z=h[Symbol.iterator]();!(v=(m=z.next()).done);v=!0)k=m.value.split("\x3d"),0<k.length&&2>k.length?a[k[0]]="":0<k.length&&3>k.length&&(a[k[0]]=k[1])}catch(p){f=!0,c=p}finally{try{!v&&z["return"]&&z["return"]()}finally{if(f)throw c;}}m=!0;z=!1;h=void 0;try{for(var u,n=b[Symbol.iterator]();!(m=(u=
n.next()).done);m=!0){var r=u.value;a.hasOwnProperty(r)&&("mask"===d?a[r]="apt-masked":"exclude"==d&&delete a[r])}}catch(p){z=!0,h=p}finally{try{!m&&n["return"]&&n["return"]()}finally{if(z)throw h;}}return"?"+(0,g.convert2Parameters)((0,g.addParameters)(a,[]))}return a}function u(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,h=4<arguments.length&&
void 0!==arguments[4]?arguments[4]:void 0,g=5<arguments.length&&void 0!==arguments[5]&&arguments[5];try{return a({url:b,title:d,path:h,referrer:e},g?"rule":"track")}catch(k){throw v.logger.logInternalError(k,"failed to execute masking function, going to fail the tracking"),k;}}function k(a,b,h,k,v,n,l){var c=arguments[8],E=r(7<arguments.length&&void 0!==arguments[7]?arguments[7]:void 0),z=void 0,J=(0,e.getConfig)("maskUrlFunction"),G=(0,g.isFunction)(J);if(G)z=void 0,c?z=""+a+b+h:b&&(z=""+a+b+h+k+
v),z=u(J,z,l,n,z?void 0:h,c);else if(c)return[a,b,h,k,v,n,l];G?(z.url?(c=z.url,E=d.documentRef.createElement("a"),c=(E.href=c,[E.protocol+"//",E.host,E.pathname,E.search,E.hash]),c=m(c,5),a=c[0],b=c[1],h=c[2],k=c[3],v=c[4]):z.path&&(h=z.path),l=z.title):(k=p(k),E&&(h="/apt-masked-url",k="",v="",l=""));E="";n&&!f(n)&&(E=d.documentRef.createElement("a"),E.href=n,c=r(n),E=E.host!==(0,g.getWindowLocation)().host?E.protocol+"//"+E.host+(c?"/apt-masked-url":E.pathname+p(E.search)+E.hash):"",c&&!(0,g.isBlank)(E)&&
G&&(E=z.referrer));return(0,e.getConfig)("trackPageTitles")||(l=""),[a,b,h,k,v,E,l]}Object.defineProperty(a,"__esModule",{value:!0});a.maskUrlEditor=a.maskFullUrl=a.getFullUrlMasked=a.maskParameters=a.shouldBeMasked=a.isUrlFiltered=a.isExcluded=a.maskUrl=a.getWebContext=void 0;var m=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var d=[],e=!0,h=!1,g=void 0;try{for(var k,c=a[Symbol.iterator]();!(e=(k=c.next()).done)&&(d.push(k.value),!b||d.length!==b);e=
!0);}catch(v){h=!0,g=v}finally{try{!e&&c["return"]&&c["return"]()}finally{if(h)throw g;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),e=b(1),g=b(0),d=b(4),h=b(9),v=b(2);a.getWebContext=function(){var a=(0,g.getWindowLocation)(),b=a.protocol+"//",e=a.host,v=a.pathname,f=a.search,p=d.documentRef.title,a=a.hash,u=k(b,e,v,f,a,null,p),u=m(u,6);return b=u[0],e=u[1],v=u[2],f=u[3],a=u[4],p=u[5],{sc:b,ho:e,pa:decodeURIComponent(v),q:decodeURIComponent(f),ha:decodeURIComponent(a),
sch:(0,h.getPageHeight)(),scw:(0,h.getPageWidth)(),pt:p}};a.maskUrl=k;a.isExcluded=f;a.isUrlFiltered=n;a.shouldBeMasked=r;a.maskParameters=p;a.getFullUrlMasked=function(){var a=(0,g.getWindowLocation)(),b=a.protocol+"//",d=a.host,e=a.pathname,h=a.search,a=a.hash,v=k(b,d,e,h,a,null,null),v=m(v,5);return b=v[0],d=v[1],e=v[2],h=v[3],a=v[4],""+b+d+e+h+a};a.maskFullUrl=function(a){var b=d.documentRef.createElement("a");b.href=a;var e=b.protocol+"//",h=b.host,v=b.pathname,f=b.search,p=b.hash,c=k(e,h,v,
f,p,null,null,a),c=m(c,5);return e=c[0],h=c[1],v=c[2],f=c[3],p=c[4],(0,g.isEmail)(v)&&(v=""),a.startsWith("http")?""+e+h+v+f+p:a.startsWith("mailto:")?""+b.protocol+v:0===a.indexOf("#")?p:!a.startsWith("/")&&v.startsWith("/")?""+v.substring(1)+f+p:""+v+f+p};a.maskUrlEditor=function(a,b,d,e,h){return k(a,b,d,e,h,void 0,void 0,void 0,!0)}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.findInAll=void 0;var n=b(1),f=b(5),r=b(12),p=b(0),u=b(14),k=b(7),m=new function(){this.guideHideSteps=
function(){if(!(0,n.isIframe)()){var a=f.IframeRequest.getMasterRequst("guide",{type:"hideAll"});(0,r.propagateDown)(a,(0,f.getRegisteredIframes)())}};this.updateState=function(a,b){if(!(0,n.isIframe)()){var d=f.IframeRequest.getMasterRequst("guide",{type:"updateState",state:a,enableSelector:b});(0,r.propagateDown)(d,(0,f.getRegisteredIframes)())}};this.setSelectorStateForEditorV2=function(a){(0,n.isIframe)()||(a=f.IframeRequest.getMasterRequst("guide",{type:"setSelectorStateForEditorV2",isMapperEnabled:a}),
(0,r.propagateDown)(a,(0,f.getRegisteredIframes)()))};this.setSelectorState=function(a){(0,n.isIframe)()||(a=f.IframeRequest.getMasterRequst("guide",{type:"updateSelectorState",state:a}),(0,r.propagateDown)(a,(0,f.getRegisteredIframes)()))};this.guideRemoveHighlighted=function(a,b){if(!(0,n.isIframe)()){var d=f.IframeRequest.getMasterRequst("guide",{type:"removeHighlighted",tag:a,removeAll:b});(0,r.propagateDown)(d,(0,f.getRegisteredIframes)())}};this.selectorHighlightElement=function(a,b,d){(0,n.isIframe)()||
(a=f.IframeRequest.getMasterRequst("guide",{type:"highlightElement",tag:b,cssSelector:a}),(0,r.postRequest)(a,d))};this.selectorHighlightAll=function(a,b,d){(0,n.isIframe)()||(a=f.IframeRequest.getMasterRequst("guide",{type:"highlightAll",stepId:b,cssSelector:a}),(0,r.postRequestDown)(a,d))};this.selectorRemoveAllHighlighted=function(){if(!(0,n.isIframe)()){var a=f.IframeRequest.getMasterRequst("guide",{type:"removeAllHighlighted"});(0,r.propagateDown)(a,(0,f.getRegisteredIframes)())}};this.getBadgesLocations=
function(a,b){(0,n.isIframe)()||(0,r.createSubscribeCallbackRequest)("apt_msg_get_badges_locations",{},a,b)};this.removeBadgeFromIframe=function(a,b,d){(0,n.isIframe)()||(0,r.createSubscribeCallbackRequest)("apt_msg_remove_badge",{badgeId:b},a,d)};this.setBadgeObserver=function(a,b){(0,n.isIframe)()||(0,r.createSubscribeCallbackRequest)("apt_msg_badge_set_observer",{},a,b)};this.unsetBadgeObserver=function(a,b){(0,n.isIframe)()||(0,r.createSubscribeCallbackRequest)("apt_msg_badge_unset_observer",
{},a,b)};this.sendBadgeToIframe=function(a,b){(0,n.isIframe)()||(0,r.createSubscribeCallbackRequest)("apt_msg_send_badge",{badge:b},a)};this.getElementLocation=function(a,b,d){(0,n.isIframe)()||(b={elementSelector:b},(0,r.createSubscribeCallbackRequest)("apt-msg-get-element-location",b,a,d))};this.elementExist=function(a,b,d,h,k){(0,n.isIframe)()||(b=f.IframeRequest.getMasterRequst("elementExist",{elementSelector:b,scrollToElement:h,returnAttributes:k},d,a.iframeId),(0,r.postRequestDown)(b,a))};this.addElementHandler=
function(a,b,d,h){(0,n.isIframe)()||(b={nextStepTrigger:d,elementSelector:b},(0,r.createSubscribeCallbackRequest)("apt-msg-add-handler-show-next-step",b,a,h))};this.isElementVisible=function(a,b,d){(0,n.isIframe)()||(0,r.createSubscribeCallbackRequest)("guide",{type:"isElementVisible",cssSelector:b},a,d)};this.sendEditorV2StateResponse=function(a,b,d,h){(0,n.isIframe)()||(b=f.IframeRequest.getMasterRequst("guide",{type:"editorV2StateResponse",isMapperEnabled:d,isPreview:h},b),(0,r.postRequestDown)(b,
a))};this.sendStateResponse=function(a,b,d,h){(0,n.isIframe)()||(b=f.IframeRequest.getMasterRequst("guide",{type:"stateResponse",state:d,isStepSelected:h},b),(0,r.postRequestDown)(b,a))};this.getAlternateSelector=function(a,b,d){(0,n.isIframe)()||(0,r.createSubscribeCallbackRequest)("guide",{type:"getAlternateSelector",cssSelector:b},a,d)};this.addOutsideEventHandler=function(a,b,d,h){(0,n.isIframe)()||(b={nextStepTrigger:d,elementSelector:b},(0,r.createSubscribeCallbackRequest)("aptGuideExternalClick",
b,a,h))};this.removeElementHandlers=function(a){(0,n.isIframe)()||(0,r.createSubscribeCallbackRequest)("apt-msg-remove-element-handlers",{},a)}};a["default"]=m;a.findInAll=function(a,b,d,h,v,q,w){if(!a)return void d(void 0);var t=[],x=(0,n.getConfig)("sfdcTemplate")||document,r=(0,k.findElementInWindow)(a,x,!0),x=void 0,l=((0,p.isNodeList)(r)||Array.isArray(r))&&0<r.length,y=Node.prototype.isPrototypeOf(r);if(l||y){l=y?r:r[0];r=y?1:r.length;q&&(0,p.scrollElementToCenter)(l);r={element:l,isVisible:(0,
p.isElementVisible)(l),count:r,attributes:w?(0,p.getAttributesAndPropertiesWithValue)(l):null};if(!v)return void d(r);t.push(r)}v=u.UUIDGenerator.generateV4Id();(0,f.subscribe)(v,function(a){for(var b=0;b<a.length;b++)!function(b){a[b].exist&&!t.some(function(d){return d.iframeData&&d.iframeData.iframeId===a[b].iframeData.iframeId})&&t.push({iframeData:a[b].iframeData,count:a[b].count,isVisible:a[b].isVisible,attributes:a[b].attributes})}(b);d(h?t:0<t.length?t[0]:void 0)});try{if((0,p.isNotEmptyArr)(b)){for(r=
0;r<b.length;r++)x=b[r],m.elementExist(x,a,v,q,w),(0,f.incrementState)(v);(0,f.execute)(v,200)}else d(0<t.length?t:void 0)}catch(c){}}},function(l,a,b){function n(a){if(!a)throw Error("invalid API key, the value must be set to be parsed");return a.split("-")}function f(a){var b=n(a);if(3>b.length)throw Error("invalid API key structure "+a);return parseInt(b[2],10)}Object.defineProperty(a,"__esModule",{value:!0});a.isDesktop=a.getEnvironment=a.getChannel=a.isApiKeyMatch=a.getProduct=a.getProductKeyFromApiKey=
void 0;a.getCurrentProductId=function(){return p.eventTrackData[u.cacheGet](p.productIdParameter)};a.getCurrentProductKey=function(){return(0,m.getProduct)(k.Cookie.getCookie("apt.sid"))};var r=b(6),p=b(4),u=b(8),k=b(33),m=b(15);a.getProductKeyFromApiKey=m.getProductKeyFromApiKey;a.getProduct=m.getProduct;a.isApiKeyMatch=m.isApiKeyMatch;a.getChannel=f;a.getEnvironment=function(a){a=n(a);return 4>a.length?r.PROD_ENVIRONMENT:parseInt(a[3],10)};a.isDesktop=function(){return f(p.eventTrackData[u.cacheGet](p.productIdParameter))===
r.DESKTOP_CHANNEL}},function(l,a,b){function n(){return(0,f.getConfig)("discoverTopWindowPath")||window.aptrinsic&&window.aptrinsic.c&&window.aptrinsic.c.discoverTopWindowPath}Object.defineProperty(a,"__esModule",{value:!0});a.shouldDiscoverTopWindowPath=n;a.getTopWindow=function(){var a=window.top;return n()&&(a=r),a};a.getTopWindowAsync=function(){return new Promise(function(a){return n()?r?void a(r):(p.push(a),void(p.length>u&&p.shift())):void a(window.top)})};a.setTopWindow=function(a){for(r=
a;0<p.length;)p.shift()(r)};var f=b(1),r=void 0,p=[],u=100},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.getGlobalContext=function(){var a=n.globalContextCache[f.cacheGet]("apt.gcx");return(0,r.limitJsonKeys)(a,100)};var n=b(4),f=b(8),r=b(0)},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.EVENTS={BOT:"bot"};a.TOP_TO_IFRAME_EVENTS={BOT_RESPONSE:"botResponse",BOT_FOUND:"botFound",GET_BOT_CONTENT_RESPONSE:"getBotContentResponse",POST_BOT_EVENT:"postBotEvent",
SET_BOT_IS_OPEN:"setBotIsOpen",REMOVE_BOT:"removeBot",IS_ELEMENT_VISIBLE:"isElementVisible",GET_APTRINSIC_ID_RESPONSE:"getAptrinsicIdResponse",ADD_ELEMENT_CLICK_LISTENER:"ADD_ELEMENT_CLICK_LISTENER"};a.IFRAME_TO_TOP_EVENTS={IFRAME_CLOSED:"iframeClosed",BOT_FOUND:"botFound",GET_BOT_CONTENT:"getBotContent",TRACK_BOT_TOGGLE:"trackBotToggle",IS_ELEMENT_VISIBLE_RESPONSE:"isElementVisibleResponse",GET_APTRINSIC_ID:"getAptrinsicId",BOT_ELEMENT_CLICK:"botElementClick"};a.BOT_IFRAME_INTERNAL_EVENTS={INIT_WIDGET_IN_IFRAME:"INIT_WIDGET_IN_IFRAME",
BOT_EMPTY_CONFIG:"BOT_EMPTY_CONFIG"};a.BOT_INTERNAL_EVENTS={BOT_CLICK_OUTSIDE:"BOT_CLICK_OUTSIDE"}},function(l,a,b){function n(a){var b={};return Object.keys(a).sort().forEach(function(e){(0,p.isObject)(a[e])?b[e]=n(a[e]):Array.isArray(a[e])?b[e]=(0,u.arrayFrom)(a[e],function(a){return(0,p.isObject)(a)?n(a):a}):b[e]=a[e]}),b}function f(a){return Object.keys(a).filter(function(b){return null!=a[b]}).reduce(function(b,e){return b[e]="object"===r(a[e])?f(a[e]):a[e],b},Array.isArray(a)?[]:{})}Object.defineProperty(a,
"__esModule",{value:!0});a.resolveNestedProperty=a.removeNullFields=a.filterProperties=a.orderAlphabetically=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},p=b(0),u=b(10);a.orderAlphabetically=n;a.filterProperties=function(a,b){var e={},g;for(g in a)-1<b.indexOf(g)&&a.hasOwnProperty(g)&&(e[g]=a[g]);return e};a.removeNullFields=f;a.resolveNestedProperty=
function(a,b){if(a&&b){var e=b.split("."),g=a;try{var d=!0,h=!1,v=void 0;try{for(var q,f=e[Symbol.iterator]();!(d=(q=f.next()).done);d=!0){var t=q.value;if(null===g||void 0===g)return;var p=Object(g);if(!(t in p))return;g=p[t]}}catch(u){h=!0,v=u}finally{try{!d&&f["return"]&&f["return"]()}finally{if(h)throw v;}}return g}catch(u){}}}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.UserData=void 0;var n=b(14),f=b(33),r=b(4),p=b(8),u=b(2),k=b(27),m=b(0),e=b(1),g=b(9),d=b(11),h=b(21),
v=null,q=a.UserData=new function(){function a(){return(0,e.getConfig)("sessionCookieTTL")||18E5}function b(a){var c=f.Cookie.getAllCookieVal("apt.uid");return null!=c&&(1<c.length||a&&0<c.length)}function x(a){try{if(b(a)){var c=(0,e.getConfig)("localStorageCookie")||(0,e.getConfig)("fullDomainCookie")?document.location.hostname:(0,g.getDomain)();if(f.Cookie.deleteCookie("apt.uid",c),b(a)){var d=(0,e.getConfig)("localStorageCookie")||(0,e.getConfig)("fullDomainCookie")?" ":(0,g.getDomain)();f.Cookie.deleteCookie("apt.uid",
d)}u.logger.logInternalError(Error("deleting apt.uid for domain, current cookies: "+f.Cookie.getCookiesRaw()))}}catch(h){u.logger.logInternalError(h)}}function l(){try{var a=f.Cookie.getAllCookieVal("apt.sid");if(null!=a&&1<a.length){var c=!(0,e.getConfig)("localStorageCookie")&&(0,e.getConfig)("fullDomainCookie")?(0,g.getDomain)():" ";f.Cookie.deleteCookie("apt.sid",c);u.logger.logInternalError(Error("deleting apt.sid for domain, current cookies: "+f.Cookie.getCookiesRaw()))}}catch(b){u.logger.logInternalError(b)}}
function B(){var a=f.Cookie.getCookie("apt.uid");if(a&&((0,e.getConfig)("multipleProductsPerDomain")||(0,e.getConfig)("strictProductVerification"))){var c=n.UUIDGenerator.getProductId(a);c&&!(0,h.isApiKeyMatch)(c,C)&&(a=null)}return a}function y(a,c,b,d){a=[a,0,c||G];return b&&d&&a.push(d),a}function c(a,c,b){if((0,e.getConfig)("enableTag")){x();var d=B(),h=[],g=a||G;if(!d||c||d&&d.startsWith("undefined-")?(c&&!b&&u.logger.logInternalError(Error("force new is "+c+", and did not have aptrinsic id so generating a new one")),
d=n.UUIDGenerator.generateUuid(C),h=y(d,g,c,b)):(h=d.split("."),a&&a>h[2]&&(h[2]=a)),r.eventTrackData[p.cacheSet](r.userIdParameter,h[0]),f.Cookie.setCookie("apt.uid",h.join("."),31536E6),!f.Cookie.getCookie("apt.uid")&&(x(!0),f.Cookie.setCookie("apt.uid",h.join("."),31536E6),!f.Cookie.getCookie("apt.uid")))throw Error("wasn't able to save user cookie for type: "+a+", force new:"+c+", aptrinsic id: "+b);D=!0}}function E(){v&&clearTimeout(v);v=setTimeout(function(){f.Cookie.getCookie("apt.sid")||d.internalEventListener.dispatchEvent("sessionExpired")},
a()+20)}function z(c){if(!(0,h.isDesktop)()&&(f.Cookie.setCookie("apt.sid",c,a()),E(),!f.Cookie.getCookie("apt.sid")))throw Error("wasn't able to create session cookie, not going to track this user");}var J=this,G=0,C=void 0,O=!1,D=!1;this.initializeUser=function(a){(0,e.getConfig)("enableTag")&&(a&&(C=a),c(),J.getSessionId())};this.clearUserData=function(){f.Cookie.deleteCookie("apt.uid");f.Cookie.deleteCookie("apt.sid")};this.ensureUserData=function(){if((0,e.getConfig)("enableTag")){x();var a=
f.Cookie.getCookie("apt.uid"),c=f.Cookie.getCookie("apt.sid");a&&c||J.initializeUser()}};this.getUserId=function(){if((0,e.getConfig)("enableTag")){var a=f.Cookie.getCookie("apt.uid");if(!a)throw Error("user cookie is not initialized, is init called before: "+D+", current cookies in doc: "+f.Cookie.getCookiesRaw());var c=void 0;if((0,e.getConfig)("strictProductVerification")){var b=B();b||(b=n.UUIDGenerator.generateUuid(C),c=y(b),f.Cookie.setCookie("apt.uid",c.join("."),31536E6),r.eventTrackData[p.cacheSet](r.userIdParameter,
c[0]))}return c=c||a.split("."),c[0]}};this.getAptrinisId=function(a){if((0,e.getConfig)("enableTag")){var c=f.Cookie.getCookie("apt.uid"),b=[];if(a&&!c)return null;if(!c)throw Error("user cookie is not initialized, is init called before: "+D+", current cookies in doc: "+f.Cookie.getCookiesRaw());return b=c.split("."),3<b.length?b[3]:b[0]}};this.setAptrinsicId=function(a,b){if((0,e.getConfig)("enableTag")){var d=f.Cookie.getCookie("apt.uid"),g=[];if(!d)throw Error("user cookie is not initialized, is init called before: "+
D+", current cookies in doc: "+f.Cookie.getCookiesRaw());g=d.split(".");if(d=4>g.length||3<g.length&&g[3]!==a){if((0,e.getConfig)("enableTag")||!(0,h.isDesktop)()){var q=n.UUIDGenerator.generateUuid(C);z(q);r.eventTrackData[p.cacheSet](r.sessionIdParam,q)}c(b?1:2,!0,a)}return g[3]=a,r.eventTrackData[p.cacheSet](r.aptrinsicIdParam,g[3]),d}};this.changeUserType=function(a){(0,e.getConfig)("enableTag")&&(c(a),r.eventTrackData[p.cacheSet]("vt",q.getUserType()))};this.getUserType=function(a){if((0,e.getConfig)("enableTag")){var c=
f.Cookie.getCookie("apt.uid"),b=[];if(a&&!c)return G;if(!c)throw Error("user cookie is not initialize");b=c.split(".");return b[2]||0}};this.getSessionId=function(){if((0,e.getConfig)("enableTag")){if((0,h.isDesktop)())return r.eventTrackData[p.cacheGet](r.sessionIdParam);l();var a=f.Cookie.getCookie("apt.sid"),c=!1;return!a||(0,e.getConfig)("multipleProductsPerDomain")&&(0,h.getProductKeyFromApiKey)(n.UUIDGenerator.getProductId(a))!==(0,h.getProductKeyFromApiKey)(C)?(c=O=!0,a=n.UUIDGenerator.generateUuid(C)):
O=!1,z(a),c&&!(0,e.getConfig)("setSessionExternally")&&(r.eventTrackData[p.cacheSet]("ai",q.getAptrinisId()),r.eventTrackData[p.cacheSet]("vt",q.getUserType()),r.eventTrackData[p.cacheSet](r.sessionIdParam,a),(0,k.internalApt)("sessionInitialized",null,null,null,!1),(0,m.clearAptrinsicSessionStorage)()),a}};this.setSessionId=function(c){if((0,e.getConfig)("enableTag")){if(l(),f.Cookie.setCookie("apt.sid",c,a()),E(),!(c=f.Cookie.getCookie("apt.sid")))throw Error("wan't able to create session cookie, not going to track this user");
r.eventTrackData[p.cacheSet]("ai",q.getAptrinisId());r.eventTrackData[p.cacheSet](r.sessionIdParam,c);r.eventTrackData[p.cacheSet]("vt",q.getUserType());(0,m.clearAptrinsicSessionStorage)()}};this.getLeadType=function(){return 1};this.userType=function(){return 2};this.visitorType=function(){return G};this.isNewSession=function(){var a=O;return O=!1,a};this.isUser=function(){return 2==J.getUserType()}}},function(l,a,b){function n(){(0,m.getConfig)("enableTag")&&g.push(arguments)}function f(){var a=
Array.prototype.slice.call(arguments);k.api.trackEvent.apply(k.api,a)}function r(){if((0,m.getConfig)("enableTag")){for(var b=g,d=void 0,h=b.length,k=0;k<h;k++)if(d=b.shift(),f.apply(null,d),"identify"===d[0])return void u();a.internalApt=q=function(){f.apply(null,arguments)};(0,e.setTrackingFunction)(q)}}function p(){h=!1;d&&clearTimeout(d)&&(d=null);r();for(var a=0;a<v.length;a++){var b=v[a],e=b[0],b=b.slice(1);e.apply(null,b)}}function u(){h=!0;d=setTimeout(p,1E3);a.internalApt=q=n}Object.defineProperty(a,
"__esModule",{value:!0});a.appNotReady=a.isInIdentify=a.identifyFinished=a.identifyStart=a.internalApt=a.appReady=void 0;var k=b(50),m=b(1),e=b(105),g=[],d=null,h=!1,v=[],q=n;a.appReady=r;a.internalApt=q;a.identifyStart=u;a.identifyFinished=p;a.isInIdentify=function(){return h};a.appNotReady=function(){a.internalApt=q=n}},function(l,a,b){function n(a,b){var d=void 0,g=void 0;return 0===a.sequenceNumber&&(0,e.isSnoozeButtonEnabled)(a.activationType,a.snoozeButton,a.activationTypes)&&(d=(0,u.createElement)("div",
["aptr-snooze-container"]),g=(0,e.createSnoozeButton)(a.snoozeButton,d,a.survey,a.id,a.sequenceNumber,b)),[d,g]}function f(a,b){return a.setAttribute("tabindex",b),b+1}function r(a){return a&&(0,g.getConfig)("storageProxyDomain")?(0,e.replaceImagesSrcFromHtmlString)(a):a}Object.defineProperty(a,"__esModule",{value:!0});a.DEFAULT_CONTACT_ME_MESSAGE=void 0;var p=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var d=[],e=!0,g=!1,k=void 0;try{for(var f,m=
a[Symbol.iterator]();!(e=(f=m.next()).done)&&(d.push(f.value),!b||d.length!==b);e=!0);}catch(p){g=!0,k=p}finally{try{!e&&m["return"]&&m["return"]()}finally{if(g)throw k;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.renderSubmitButton=function(a,b,d,e){var g=(0,u.createElement),k;k=(0,u.isBlank)(a.text)?a.isLast?"Done":"Next":a.text;g=g("div","apt-survey-submit",{text:k});return g.style.color=a[e?"submitButtonTextColor":"textColor"],g.style.backgroundColor=
a[e?"submitButtonBackgroundColor":"backgroundColor"],g.style.borderWidth=a[e?"submitButtonBorderWidth":"borderWidth"]+"px",g.style.borderRadius=a[e?"submitButtonBorderRadius":"borderRadius"]+"px",g.style.borderColor=a[e?"submitButtonBorderColor":"borderColor"],g.setAttribute("tabindex",d+b),g.setAttribute("role","button"),g};a.renderSurveyTitle=function(a,b,d,e,g){b=(0,k.toDom)(b,!1,["apt-survey-title"].concat(e));d.push("apt-survey-title-wrapper");e=(0,u.createElement);a.showQuestionNumber?(g=(0,
u.createElement)("div","apt-question-sequence",{text:g+"."}),a=(g.style.fontFamily=a.numberFontFamily,g.style.fontSize=a.numberSize+"px",g.style.color=a.numberColor,g)):a=null;return e("div",d,null,[a,b])};a.renderContactMeCheckBox=function(a,b){return(0,u.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":a.contactMeMessage||d,tabindex:b})};a.renderContactMe=function(a,b){var e=(0,u.createElement)("div",["apt-contact-wrapper"],void 0,[b,(0,u.createElement)("div","apt-contact-me-text",
{text:a.contactMeMessage||d,dataAtt:[{name:"aria-hidden",value:"true"}]})]);return a.showContactMeMessage||(e.style.display="none"),e};a.hideSnooze=function(){document.querySelector(".aptr-snooze-container").style.display="none"};a.setTabIndexForSnoozeButton=f;a.showSnooze=function(a,b,d){a=n(a,b);b=p(a,2);a=b[0];b=b[1];return a&&d.push(a),b};a.updateStepNumber=function(a,b){var d=a.querySelector(".apt-question-sequence");d&&(d.innerText=b+".")};a.setMaxHeightForPage=function(a,b,d){a=document.getElementById(a);
var e=a.parentNode,g=e.getBoundingClientRect().height;.9*(0,m.getPageHeight)()<g&&(e.style.paddingRight="0px");g=window.getComputedStyle(e,null);e=g.getPropertyValue("padding-top");g=g.getPropertyValue("padding-bottom");d=a.querySelector(d).getBoundingClientRect().height;var k=window.getComputedStyle(a,null),f=k.getPropertyValue("padding-top"),k=k.getPropertyValue("padding-bottom");b=a.querySelector(b);b.style.maxHeight="calc(90vh - "+d+"px - "+f+" - "+k+" - "+e+" - "+g+")";b.style.overflowY="auto"};
a.replaceScoreSurveyImagesDomain=function(a){a.titleHtml=r(a.titleHtml);a.notSatisfiedHtml=r(a.notSatisfiedHtml);a.satisfiedHtml=r(a.satisfiedHtml);a.defaultComment=r(a.defaultComment)};a.replaceBooleanImagesDomain=function(a){a.titleHtml=r(a.titleHtml);a.notSatisfiedHtml=r(a.notSatisfiedHtml);a.satisfiedHtml=r(a.satisfiedHtml);a.defaultComment=r(a.defaultComment)};a.replaceMultiChoiceImagesDomain=function(a){a.question=r(a.question);a.answers=a.answers.map(function(a){return a.text=r(a.text),a})};
a.replaceOpenTextImagesDomain=function(a){a.question=r(a.question)};a.replaceDynamicRangeImagesDomain=function(a){a.notSatisfiedHtml=r(a.notSatisfiedHtml);a.defaultComment=r(a.defaultComment);a.satisfiedHtml=r(a.satisfiedHtml)};a.replaceContentStepImagesDomain=function(a){a.html=r(a.html)};a.addSnoozeForMCQSurvey=function(a,b,d,e){a=n(a,b);b=p(a,2);a=b[0];return(b=b[1])?(d.push(a),f(b,e)):e};a.addSnoozeForScoreSurvey=function(a,b,d,e,g){b=n(a,b);var k=p(b,2);b=k[0];return(k=k[1])?(g=f(k,g),a.mergeFirstSteps?
d.insertBefore(b,d.firstChild):e.push(b),g):g};var u=b(0),k=b(7),m=b(9),e=b(17),g=b(1),d=a.DEFAULT_CONTACT_ME_MESSAGE="It's okay to contact me about my feedback"},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.EVENT_TYPES={REGISTER:"register",DISCOVER_TOP_WINDOW_PATH:"discoverTopWindowPath",DISCOVER_TOP_WINDOW_PATH_RESPONSE:"discoverTopWindowPathResponse"};a.GUIDE_EVENT_TYPES={APT_MSG_ELEMENT_RECT_PARENT:"apt-msg-element-rect-parent",APT_MSG_ELEMENT_RECT:"apt-msg-element-rect",
APT_MSG_GET_BADGES_LOCATIONS_RESPONSE:"apt_msg_get_badges_locations_response",APT_MSG_GET_BADGES_LOCATIONS_PARENT_IFRAME:"apt_msg_get_badges_locations_parent_iframe"};a.TRACKING_EVENT_TYPES={GET_ELEMENT_TEXT:"getElementText",REGISTER_FEATURE_RULES:"registerFeatureRules"}},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(){if((0,H.canUseSessionStorageForRedirect)()&&!t["default"].isEditorMode()&&H.GuideQueryParms.clear(),ca){var a=(0,d.removeFromQueryParam)(N);history.replaceState("",
document.title,a)}la&&(a=(0,d.removeFromQueryParam)(I),history.replaceState("",document.title,a))}function r(){var a=(0,H.canUseSessionStorageForRedirect)()?H.GuideQueryParms.get():{},c=void 0;try{var b=(0,U.getGuideStateValue)(R);if(b){var e=JSON.parse(b);e&&e.timestamp&&Date.now()<=e.timestamp+X&&(c=e.guideId);(0,U.deleteGuideStateValue)(R)}}catch(h){q.logger.logInternalError("Error reading onDemand guide id",h)}ea=c;ca=(0,d.getQueryParam)(N);ba=(0,U.getGuideStateValue)("apt.guideId");Z=ca||ba||
a[N];la=(0,d.getQueryParam)(I)||a[I];f();setTimeout(f,1500)}function p(a){u(a)&&(P[a]=!1)}function u(a){return{}.hasOwnProperty.call(P,a)&&!0===P[a]}function k(a){try{if(Z&&!t["default"].isEditorMode()){var c={};Object.assign(c,v.eventTrackData[w.cacheGetAll]());(0,d.addCacheBuster)(c);var b=(0,E.getGlobalContext)();b&&Object.assign(c,{gcx:JSON.stringify(b)});var e=(0,y.getEngagementSessionId)();c.s=e;la&&(c.at=la);var g=v.eventTrackData.data[v.productIdParameter];if((0,x.getConfig)("crossProductEngagement")){var k=
JSON.parse(v.windowRef.sessionStorage.getItem("apt.localCache"));c.ai=k.ai;c.v=e;c.p=z.UUIDGenerator.getProductId(e);g=c.p}var f=x.ongoingEngagementEndpoint+"/"+g+"/"+Z+"?"+(0,d.convert2Parameters)((0,d.addParameters)(c,[]));h.AjaxUtil.getData(f,function(c){if(ba){var b=JSON.parse((0,U.getGuideStateValue)("apt.prevStepMap")),e=(0,U.getGuideStateValue)("apt.stepId");if(!b||!e)return void q.logger.logInternalError(Error("guide ongoing cannot be processed due to missing parameters, prev step map: "+
b+", current step: "+e));var h=void 0;if(c.content.steps.forEach(function(a){a.id===b[e].id&&(h=a)}),!h)return void q.logger.logInternalError(Error("guide ongoing cannot be processed since previous step "+b[e].id+", does not exist in guide "+Z));var g=(0,B.resolveUrlWithPlaceholders)(v.windowRef.location.href,h.navigation.nextStepUrl);if(!ca&&ba&&!(0,d.matchUrl)(g,(0,d.getPageUrl)()))return}a(c)})}}catch(m){q.logger.logInternalError("Error during getting on demand engagement id "+Z)}}function m(a,
c){var b=void 0;switch(a.type){case "CONTENT":b=O["default"].getHtml(a);break;case "SCORE":switch(c){case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":b=D["default"].getHtml(a);break;case "IN_APP_RATING_SURVEY":b=F["default"].getHtml(a)}break;case "BOOLEAN":b=Q["default"].getHtml(a);break;case "MULTIPLE_CHOICE_QUESTION":b=S["default"].getHtml(a);break;case "OPEN_TEXT":b=L["default"].getHtml(a);break;case "DYNAMIC_RATING_STEP":b=T["default"].getHtml(a);break;default:throw Error("Type "+a.type+" is not supported");
}return b}function e(a,c){var b=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d=[];switch(a.contentType){case "IN_APP_DIALOG":d.push(C["default"].SanitizeHtml(a.htmlElements,b,c));break;case "IN_APP_GUIDE":a.steps.sort(function(a,c){return a.sequenceNumber-c.sequenceNumber});d.push(Object.assign({},C["default"].SanitizeHtml(a.footer,b,c),{stepId:a.steps?a.steps[0].id:null}));for(var e=0;e<a.steps.length;e++){var h=a.steps[e],g=C["default"].SanitizeHtml(h.content+h.titleHtml,b,c);0===e?g.isValid||
Object.assign(d[0],g,{stepId:h.id}):d.push(Object.assign({},g,{stepId:h.id}))}break;case "IN_APP_CAROUSEL":a.carouselSlideList.sort(function(a,c){return a.sequence-c.sequence});for(e=0;e<a.carouselSlideList.length;e++)d.push(Object.assign({},C["default"].SanitizeHtml(a.carouselSlideList[e].html,b,c),{stepId:a.carouselSlideList[e].id}));break;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":for(e=a.contentType,
h=a.steps,h.sort(function(a,c){return a.sequenceNumber-c.sequenceNumber}),g=0;g<h.length;g++){var q=m(h[g],e);d.push(Object.assign({},C["default"].SanitizeHtml(q,b,c),{stepId:h[g].id}))}}return d}function g(a,c,b,h){return function(g){var q=(0,J.arrayFrom)(b,function(a){return Object.assign({},{id:a.id,content:a.content.map(function(a){return(0,d.isObject)(a)?a:JSON.parse(a)})})}),q=(0,J.arrayFrom)(q,function(b){var d=b.id;b=b.content;var h=[],q=!0;a&&!g?(q=!1,h.push("Engagement checksum is invalid since there is URL configured but no checksum to validated against")):
g&&b.forEach(function(a){a=(0,G.validateChecksum)(d,a,g);a.valid||(q=a.valid,h.push(a.errorMessage))});b=e(b[0],c,!0).map(function(a,c){return{valid:a.isValid,errors:a.errors,stepIndex:c,stepId:a.stepId}});return{id:d,checksum:{valid:q,errors:h},sanitization:b}});h(q)}}Object.defineProperty(a,"__esModule",{value:!0});a.validateEngagements=a.sanitizeEngagement=a.cleanOndemandGuideDataFromURL=a.sendEngagementClosedEvent=a.registerEngagementPageChangedHandler=a.hasLiveEngagement=a.getGuideRefreshData=
a.hideAnyActiveEngagement=a.handleEngagementFinish=a.saveOnDemandGuideId=a.isOndemandState=a.startOverEngagement=a.isStartOverState=a.isLocked=a.unlockEngagementType=a.lockEngagementType=void 0;a.getOngoingEngagement=k;var d=b(0),h=b(13),v=b(4),q=b(2),w=b(8);l=b(16);var t=n(l),x=b(1),A=b(34),B=b(32),y=b(46),c=b(11),E=b(23),z=b(14),J=b(10),G=b(61);l=b(94);var C=n(l);l=b(88);var O=n(l);l=b(93);var D=n(l);l=b(92);var F=n(l);l=b(87);var Q=n(l);l=b(90);var S=n(l);l=b(91);var L=n(l);l=b(89);var T=n(l),
H=b(41),U=b(31),K=b(22),Y=b(37),P={},N="aptGuideId",I="aptActivationType",R="apt.aptOdGuideId",X=3E4,ea=void 0,ca=void 0,ba=void 0,Z=void 0,la=void 0,V={};r();a.lockEngagementType=function(a){P[a]=!0};a.unlockEngagementType=p;a.isLocked=u;a.isStartOverState=function(){return Z};a.startOverEngagement=function(a){k(a)};a.isOndemandState=function(){return ea};a.saveOnDemandGuideId=function(a){try{var c={guideId:a,timestamp:Date.now()};(0,U.setGuideStateValue)(R,JSON.stringify(c))}catch(b){q.logger.logInternalError("Error setting onDemand guide id",
b)}};a.handleEngagementFinish=function(a){p(a);setTimeout(function(){A.KnowledgeCenterManager.fetchEntriesAndSendToWidget(v.eventTrackData.data[v.productIdParameter],v.eventTrackData.data[v.aptrinsicIdParam])},200);c.internalEventListener.removeListener("pageview",V[a])};a.hideAnyActiveEngagement=function(){if(!(0,x.isIframe)()){var a=window.self!==window.top.parent?window.document:(0,K.getTopWindow)().document;Object.values(Y.getAll()).forEach(function(a){a.rootEl.classList.contains("apt-vex")&&
a.close()});a.querySelectorAll(".apt-hotspot-element").forEach(function(c){c&&a.body.removeChild(c)})}};a.getGuideRefreshData=r;a.hasLiveEngagement=function(){return Object.values(P).some(function(a){return a})};a.registerEngagementPageChangedHandler=function(a,b){c.internalEventListener.removeListener("pageview",V[a]);c.internalEventListener.addListener("pageview",b);V[a]=b};a.sendEngagementClosedEvent=function(){c.internalEventListener.dispatchEvent("engagementClosed");var a=v.eventTrackData[w.cacheGet](v.productIdParameter);
!a||0!==a.indexOf("AP-BTJ9NZXEJFSP")&&0!==a.indexOf("AP-2POJKINZM5HL")&&0!==a.indexOf("AP-75LTY44WLQWE")&&0!==a.indexOf("AP-VASIGAOLX4QF")||c.internalEventListener.dispatchEvent("surveyClosed")};a.cleanOndemandGuideDataFromURL=f;a.sanitizeEngagement=e;a.validateEngagements=function(a,c,b,d){(0,G.loadChecksumFile)(a,g(a,c,b,d))}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.setGuideStateValue=function(a,b){(0,n.getConfig)("crossSubDomainGuide")?f.Cookie.setCookie(a,b):r.windowRef.sessionStorage.setItem(a,
b)};a.getGuideStateValue=function(a){return(0,n.getConfig)("crossSubDomainGuide")||window.aptrinsic&&window.aptrinsic.c&&window.aptrinsic.c.crossSubDomainGuide?f.Cookie.getCookie(a):r.windowRef.sessionStorage.getItem(a)};a.deleteGuideStateValue=function(a){(0,n.getConfig)("crossSubDomainGuide")?f.Cookie.deleteCookie(a):r.windowRef.sessionStorage.getItem(a)&&r.windowRef.sessionStorage.removeItem(a)};var n=b(1),f=b(33),r=b(4)},function(l,a,b){function n(a,b){var e=a.substring(m.length),g=e[0];if(-1===
["/","?","#"].indexOf(g))return b;var k=document.createElement("a");k.href=b;var t=decodeURIComponent(k.host.endsWith(":80")||k.host.endsWith(":443")?k.hostname:k.host),f=k.protocol+"//";switch(g){case "/":return""+f+t+e;case "?":return""+f+t+k.pathname+e;case "#":return""+f+t+k.pathname+k.search+e;default:return b}}function f(a,b,e){if(!b)return"";if(!a||b===e)return b;b=b.split(e);var g=a.split(e);if(1===b.length&&b[0]===k||2===b.length&&""===b[0]&&b[1]===k)return a.charAt(0)===e?a.substring(1):
a;a=[];for(var f=0;f<b.length;f++){var t=g[f],m=b[f];t&&m&&m===k?a.push(t):m&&a.push(m)}return a.join(e)}function r(a,b){if(b.startsWith(e))return""+a+b.substring(e.length);if(b.startsWith(m))return n(b,a);if(-1===b.indexOf(u))return b;if(b===k)return a;var v=document.createElement("a");v.href=a;0===b.indexOf(k)&&(b=v.protocol+"//"+b);var q=document.createElement("a");q.href=b;g(q.pathname,q.hash)&&(q.pathname+=q.hash,q.hash="");q.hash!=="#"+k&&g(v.pathname,v.hash)&&(v.pathname+=v.hash,v.hash="");
var w=decodeURIComponent(v.host.endsWith(":80")||v.host.endsWith(":443")?v.hostname:v.host),t=decodeURIComponent(q.host.endsWith(":80")||q.host.endsWith(":443")?q.hostname:q.host),w=f(w,t,"."),t=f(decodeURIComponent(v.pathname),decodeURIComponent(q.pathname),"/"),p=!1;!v.hash.startsWith("#/")&&1<v.hash.split("/").length&&(v.hash=v.hash.replace("/","#"));!v.hash.startsWith("#/")&&1<q.hash.split("/").length&&(q.hash=q.hash.replace("/","#"),p=!0);var r=f(v.hash,q.hash,"#");p&&(r=r.replace("#","/"));
var l=p="",p="";if(v.search||q.search&&q.search.substring(1)!==k)if(v.search){for(var p=decodeURIComponent(v.search).substring(1).split("\x26"),l=decodeURIComponent(q.search).substring(1).split("\x26"),v=[],y=0;y<l.length;y++){var c=f(p[y],l[y],"\x3d");v.push(c)}p=v.join("\x26")}else p=q.search.substring(1);q=q.protocol;t=t&&"/"!==t?"/"+t:"/"===t?"/":"";v=p?"?"+p:"";p="";return r&&(p=r.startsWith("#")?r:"#"+r),q+"//"+w+t+v+p}Object.defineProperty(a,"__esModule",{value:!0});a.resolveUrlWithPlaceholders=
r;a.resolveUrlsWithPlaceholdersInHTML=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(a){return a},e=p.documentRef.createElement("div");return e.innerHTML=a,e.querySelectorAll("a").forEach(function(a){var d=r(window.location.href,a.href);a.href=b?b(d):d}),e.innerHTML};var p=b(4),u="px-auto-resolve",k="$px-auto-resolve",m="$px-auto-resolve-prefix",e="$px-auto-resolve-current-url",g=function(a,b){return b&&(0===b.indexOf("#/")||0===b.indexOf("#!/"))&&a&&-1!==a.indexOf("/",
a.length-1)}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.Cookie=void 0;var n=function(){function a(b,f){for(var e=0;e<f.length;e++){var g=f[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,f,e){return f&&a(b.prototype,f),e&&a(b,e),b}}(),f=b(1),r=b(72),p=b(71);a.Cookie=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return n(a,null,[{key:"setCookie",
value:function(a,b,e,g){(0,f.isIframe)()||((0,f.getConfig)("localStorageCookie")?p.LocalStorageCookie.setCookie(a,b,e):r.NativeCookie.setCookie(a,b,e,g))}},{key:"getCookie",value:function(a,b){return(0,f.getConfig)("localStorageCookie")?p.LocalStorageCookie.getCookie(a):r.NativeCookie.getCookie(a,b)}},{key:"getAllCookieVal",value:function(a){return(0,f.getConfig)("localStorageCookie")?p.LocalStorageCookie.getAllCookieVal(a):r.NativeCookie.getAllCookieVal(a)}},{key:"deleteCookie",value:function(a,
b){(0,f.getConfig)("localStorageCookie")?p.LocalStorageCookie.deleteCookie(a):r.NativeCookie.deleteCookie(a,b)}},{key:"getCookiesRaw",value:function(){return(0,f.getConfig)("localStorageCookie")?p.LocalStorageCookie.getCookiesRaw():r.NativeCookie.getCookiesRaw()}}]),a}()},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(){return{kcId:oa.getKcId(),categoryId:oa.getCategoryId(),recId:oa.getRecommendedId()}}function r(a){var c=a.iframe,b=a.windowFont,e=a.onBoardingFont,
h=a.widgetUrl,q=a.widgetNonce;a=a.cssNonce;var k=b&&0>K.BROWSER_DEFAULT_FONTS.indexOf(b),t=e&&0>K.BROWSER_DEFAULT_FONTS.indexOf(e);k&&(k=g(c,b),b=d(c,b,1,a),c.contentDocument.head.appendChild(k),c.contentDocument.body.appendChild(b));t&&(b=g(c,e),e=d(c,e,1,a),c.contentDocument.head.appendChild(b),c.contentDocument.body.appendChild(e));e=c.contentDocument.createElement("script");e.type="text/javascript";e.charset="utf-8";e.async=!0;q&&(e.nonce=q);e.src=h;c.contentDocument.head.appendChild(e)}function p(){var a=
(0,y.isOndemandState)();if(a){var c=f();u(a,!1,c.kcId,c.categoryId,c.recId)}}function u(a,b,d,e,g,h){if((0,y.hideAnyActiveEngagement)(),b)B.AjaxUtil.getData(C.previewEndpoint+"/kc/"+a,function(a){D.EngagementDrawer.draw(a)},{Authorization:"Bearer "+O["default"].getToken()},function(a){try{403===a?((0,F.showMessage)("error","Not authorized to preview this engagement"),O["default"].exit()):401==a&&((0,F.showMessage)("error","Token expired, try to preview again"),O["default"].exit())}catch(c){x.logger.logInternalError(c)}});
else{b=(0,Q.getTrackingPayload)();b.at="kc";b.kcid=d;b.catid=e;b.recId=g||null;b.searchTerm=h;h=b.s;(0,c.setEngagementSessionId)(h);a=t.ondemandEndpoint+"/"+w.eventTrackData.data[w.productIdParameter]+"/"+a+"?"+(0,E.convert2Parameters)((0,E.addParameters)(b,[]));try{B.AjaxUtil.getData(a,function(a){D.EngagementDrawer.draw([a],!0,{kcid:d,catid:e,recId:g||null})})}catch(q){x.logger.logInternalError("Error during getting on demand engagement id "+startOverGuideId)}}}function k(){na.fetchEntriesAndSendToWidget(w.eventTrackData.data[w.productIdParameter],
w.eventTrackData.data[w.aptrinsicIdParam])}function m(a,c,b,d){try{var e=(0,Z.findSingleElementInShadowDom)("#apt-widget",document);if(!a||a&&!a.element||!c||!b||!e)return!e&&x.logger.logInternalError(Error("Could not calculate position for embedded bot, widget container does not exist")),a&&!a.element&&x.logger.logInternalError(Error("Could not calculate position for embedded bot, mapped element does not exist")),(!d||!c||!b)&&x.logger.logInternalError(Error("Could not calculate position for embedded bot"+
JSON.stringify({positionSettings:c,alignments:b,positionType:d}))),{};var g=c.positionHorizontal.toUpperCase(),h=c.positionVertical.toUpperCase(),q=b.horizontalAlignment.toUpperCase(),k=b.verticalAlignment.toUpperCase();b="fixed"===d;var t=a.element.getBoundingClientRect(),f=e.getBoundingClientRect(),v=t.height/2,m=t.width/2,e=a="0px";d=0;var w=b?t.top:f.top-t.top;"TOP"===h?d=b?w:0-w:"BOTTOM"===h?d=b?t.height+w:t.height-w:("MIDDLE"===h||"CENTER"===h)&&(d=b?v+w:v-w);d+=c.positionTopDelta;"BOTTOM"===
k&&(e="-100%");var h=0,p=b?t.left:f.left-t.left;return"LEFT"===g?h=b?p:0-p:"RIGHT"===g?h=b?t.width+p:t.width-p:("MIDDLE"===g||"CENTER"===g)&&(h=b?m+p:m-p),h+=c.positionLeftDelta,"RIGHT"===q&&(a="-100%"),{left:h,top:d,transform:"translate("+a+", "+e+")"}}catch(z){return x.logger.logInternalError(z,"Could not calculate position for embedded bot with element"),{}}}function e(a,c){try{var b=(0,t.getConfig)("contentProxyDomain"),d=(0,t.getConfig)("enableKcSecureArticle"),e=(0,fa.getEmbeddedPositionType)(a),
g=(0,fa.getIsEmbedded)(a),h="V2"===a.type;h&&!b&&(b="https://web-sdk.aptrinsic.com");var q=(0,fa.getBotPositionSettings)(a),k=(0,fa.getBotAlignmentSettings)(a),f=g?m(c,q,k,e):{},v="API"===(0,t.getConfig)("fetchKcType");return h?a.embeddedCalculatedPosition=f:a.windowSettings.embedKCSettings.calculatedPosition=f,Object.assign(a,{showIcon:!g&&(!v||v&&ha),isEmbedded:g,kcPositionType:e,enableKcSecureArticle:d,contentProxyDomain:b})}catch(w){return x.logger.logInternalError(w,"Could not merge sdk configuration for bot"),
{}}}function g(a,c){var b=a.contentDocument.createElement("link"),d=K.FONTS_SUBSETS,e="https://fonts.googleapis.com/css?family\x3d"+[{font:c,weights:K.FONTS_WEIGHTS}].reduce(function(a,c){var b=c.font.replace(/ +/g,"+"),d=(c.weights||[]).join(",");return a.push(b+(d&&":"+d)),a},[]).join("|");return d&&Array.isArray(d)&&0<d.length&&(e+="\x26subset\x3d"+d.join(",")),b.href=e,b.rel="stylesheet",b}function d(a,c,b,d){var e=a.contentDocument.createDocumentFragment(),g=a.contentDocument.createElement("style"),
h=a.contentDocument.createElement("div");a=a.contentDocument.createElement("div");return g.type="text/css",d&&(g.nonce=d),g.appendChild(document.createTextNode(".regular-"+b+"{font-family: "+c+";}.bold-"+b+"{font-family: "+c+";font-weight: bold}")),h.className="regular-"+b,a.className="bold-"+b,h.appendChild(document.createTextNode("a ")),a.appendChild(document.createTextNode("a ")),e.appendChild(g),e.appendChild(h),e.appendChild(a),e}function h(a){return-1!=="ZSBMJTAYEANS ALAZMN715YZH PDCNS0SWT1ZP RR8EQLTW2VP9 TGAN0LMXA1BX XIKPBREHZXOJ GLSDIDVBIAVK AKKBV8ECO1E8 FAP8QPGYKUVA GZKRSU61EUCU OJY7IO6BCAAN RMACDJOEHAEG X4TBJOVYHWVS ZJQOCZEF9PIR DQ1NRPVT7VG1 9APX3RS6VUQK ZSSKB3VPJSDK EOLIULDC9NMZ AS1CEZNAOYLR".split(" ").indexOf(a)}
Object.defineProperty(a,"__esModule",{value:!0});a.KnowledgeCenterManager=a.KcSessionStorage=void 0;var v=function(){return function(a,c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var b=[],d=!0,e=!1,g=void 0;try{for(var h,q=a[Symbol.iterator]();!(d=(h=q.next()).done)&&(b.push(h.value),!c||b.length!==c);d=!0);}catch(k){e=!0,g=k}finally{try{!d&&q["return"]&&q["return"]()}finally{if(e)throw g;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();
a.getKcDataFromSessionStorage=f;a.addWidgetIframeDom=r;a.loadOnDemandEngagement=p;a.getKcEngagement=u;a.fetchKnowledgeCenterConfig=function(a,c,b,d){var e=w.eventTrackData[S.cacheGet](w.sessionIdParam),g=ha?t.getKnowledgeCenterConfigEndpointV3:t.getKnowledceCenterConfigEndpoint,h={s:e,p:a};ha&&(h.ai=w.eventTrackData.data[w.aptrinsicIdParam]);g=(0,Q.getUrl)(g,h);return a&&e||x.logger.logInternalError(Error("Trying to fetch kc with product id "+a+" and session id "+e)),c?B.AjaxUtil.getData(t.getKnowledceCenterConfigEndpoint+
"/"+a+"/"+c,b,"",d):B.AjaxUtil.getData(g,b,"",d)};a.setKcIsShownViaAPI=function(a){pa=a};a.getKcIsShownViaAPI=function(){return pa};a.setIsNewAPI=function(a){null===ha&&(ha=a)};a.getIsNewAPI=function(){return ha};a.productNeedsExtraLogging=h;var q=b(26),w=b(4),t=b(1),x=b(2),A=b(11),B=b(13),y=b(30),c=b(46),E=b(0),z=b(50),J=b(32),G=b(169),C=b(16),O=n(C),D=b(52),F=b(44),Q=b(97),S=b(8),L=b(65),T=b(19),H=b(15),U=b(66),K=b(98);l=b(56);var Y=n(l),P=b(24),N=b(5);l=b(57);var I=n(l),R=b(55),X=n(R),ea=b(6),
ca=b(162),ba=b(23),Z=b(18),la=b(33),V=b(9),fa=b(35),ga=b(22),ka="apt_get_engagement APT_WIDGET_LOADED apt_get_user_data apt_send_feedback apt_search_articles apt_get_article apt_get_community_content_list apt_get_community_content_search apt_get_community_article apt_vote_on_community_content apt_track_internal_article apt_tracking_toggle_widget apt_kc_func_click apt_kc_link_click apt_get_article_by_id apt_log_bot_internal_error apt_track_external_article apt_log".split(" "),pa=!1,ha=null,oa=a.KcSessionStorage=
{setItem:function(a,c){(0,t.getConfig)("crossSubDomainGuide")?la.Cookie.setCookie(a,c):w.windowRef.sessionStorage.setItem(a,c)},getItem:function(a){return(0,t.getConfig)("crossSubDomainGuide")?la.Cookie.getCookie(a):w.windowRef.sessionStorage.getItem(a)},setKcId:function(a){oa.setItem("apt.kcId",a)},setIsDefaultKc:function(a){oa.setItem("apt.isDefaultKc",a)},setRecommendedId:function(a){oa.setItem("apt.recId",a)},setCategoryId:function(a){oa.setItem("apt.kcCatId",a)},getIsDefaultKc:function(){return oa.getItem("apt.isDefaultKc")},
getKcId:function(){return oa.getItem("apt.kcId")},getRecommendedId:function(){return oa.getItem("apt.recId")},getCategoryId:function(){return oa.getItem("apt.kcCatId")}},na=a.KnowledgeCenterManager=new function(){function a(c){return function(){C(c.apply(this,arguments))}}function c(a,b,d){function e(){r({iframe:g,windowFont:k,onBoardingFont:f,widgetUrl:a,widgetNonce:m,cssNonce:w});pa=g.contentWindow;ua=!0;za=!1;x.logger.log("SDK KC iframe creation done")}if(!(0,Z.findSingleElementInShadowDom)(".apt-widget-frame",
document)){x.logger.log("SDK Creating KC iframe");Ba=!1;Ua=q.UserData.getUserId();var g=document.createElement("iframe");g.className="apt-widget-frame";g.style.opacity="0";g.style.transform="scale(0)";g.style.visibility="hidden";g.style.position="absolute";g.style.top="-9999px";g.style.left="-9999px";(0,t.getBody)().appendChild(g);var h=b,k=void 0,f=void 0,v=void 0;d?(d=document.createElement("link"),d.rel="stylesheet",d.href=(0,t.getAssetEndpoint)("style",!0),(0,t.getBody)().appendChild(d),h=b.initialConfig,
k=h.theme.typography.headerFontFamily,f=h.theme.typography.bodyFontFamily,v="https://web-sdk.aptrinsic.com"):(k=b.initialConfig.windowSettings.textFont,f=b.initialConfig.onBoardingSettings.textFont);b=JSON.stringify(Object.assign(h,{enableKcSecureArticle:(0,t.getConfig)("enableKcSecureArticle"),contentProxyDomain:(0,t.getConfig)("contentProxyDomain")||v,cssNonce:(0,t.getConfig)("cssNonce"),disableLogs:(0,t.getConfig)("disableLogs")}));g.setAttribute("data-sdkconfig",b);var m=(0,t.getConfig)("widgetNonce"),
w=(0,t.getConfig)("cssNonce");(0,V.isFirefox)()?g.onload=e:e();(0,t.isIframe)()?Y["default"].postBotFound():A.internalEventListener.dispatchEvent(P.IFRAME_TO_TOP_EVENTS.BOT_FOUND,R.TOP_WINDOW_ID)}}function b(){var a=(0,t.getKcConfig)(),c="V2"===(a||{}).type,d=(0,fa.getIsEmbedded)(a),a=c||a&&a.enabled,d=(c=(0,t.getConfig)("enableTag")&&(0,t.getConfig)("widgetEnabled")&&q.UserData.isUser())&&a&&(0,t.isIframe)()&&d,e=X["default"].getBotConfig();return c&&!(0,t.isIframe)()&&(a||e&&e.enabled&&e.isEmbedded)||
d}function d(){if(b()){var a=(0,t.getKcConfig)(),c=a.includePatterns,a=a.excludePatterns,e=window.location.href;return a&&0<a.length&&(0,E.matchUrl)(a,e)?void g():c&&0!==c.length?void(c&&0<c.length&&((0,E.matchUrl)(c,e)?f():g())):void f()}}function g(){if(b()){var a=document.getElementById("apt-widget");if(!a)return void x.logger.log("Couldn't find KC element when attempting to hide it.");h((0,H.getProduct)(w.eventTrackData[S.cacheGet](w.productIdParameter)))&&x.logger.reportToServer("Hiding KC bot");
a.style.display="none";na.close(!1)}}function f(){if(b()){var a=document.getElementById("apt-widget");if(!a)return void x.logger.log("Couldn't find KC element when attempting to show it.");a.style.display=""}}function n(){Ta.forEach(function(a){a.call()})}function l(){(0,y.getGuideRefreshData)();p();A.internalEventListener.removeListener("pageview",l)}function F(){return"V2"===(0,t.getKcConfig)().type}function C(a,c){try{if(c){var b=(0,N.getIframeData)(c);I["default"].postBotEvent(b,a)}else pa.postMessage(JSON.stringify(a),
w.windowRef.location.href)}catch(d){x.logger.log("postToWidget "+d)}}function O(a,c){return{articleId:a.articleId,categoryId:a.categoryId,articleUrl:a.articleUrl,kcId:c,articleLink:a.articleLink}}function D(){q.UserData.getSessionId()}function La(a){if(a.origin===w.windowRef.location.origin&&!(0>ka.indexOf(a.data.name))){if(!a.data.messageId)return void x.logger.log("Web SDK skipping event without message id "+JSON.stringify(a.data));if(Ra[a.data.messageId])return void x.logger.log("Web SDK skipping handled message with id "+
a.data.messageId);if((0,t.isIframe)()&&"APT_WIDGET_LOADED"!==a.data.name)return void(0,ga.getTopWindow)().postMessage(Object.assign({},a.data,{iframeId:(0,H.getIframeId)()}),(0,ga.getTopWindow)().location.href);switch(Ra[a.data.messageId]=!0,a.data.name){case "apt_get_engagement":var c=a.data,b=c.categoryId,d=c.recommendedId,c=c.searchTerm;if(oa.setCategoryId(b),oa.setRecommendedId(d),x.logger.log("SDK received activate engagement message"),a.data.absoluteTargetUrl){var e=(0,J.resolveUrlWithPlaceholders)(w.windowRef.location.href,
a.data.absoluteTargetUrl);e!==w.windowRef.location.href?((0,y.saveOnDemandGuideId)(a.data.engId),A.internalEventListener.addListener("pageview",l),w.windowRef.location.href=e):u(a.data.engId,a.data.isPreview,aa,b,d,c)}else u(a.data.engId,a.data.isPreview,aa,b,d,c);return void D();case "APT_WIDGET_LOADED":return x.logger.log("SDK received KC loaded"),void(a.data.error?x.logger.logInternalError(Error("KC failed to load due to error"),a.data.error):(A.internalEventListener.dispatchEvent("kcTriggered",
{kcId:aa}),n()));case "apt_send_feedback":return x.logger.log("SDK received send feedback message"),a.data.feedbackObj&&z.api.feedback(Object.assign(a.data.feedbackObj,{kcId:aa})),void D();case "apt_search_articles":return x.logger.log("SDK received search articles"),(a.data.searchTerms||""===a.data.searchTerms)&&na.searchArticles(w.eventTrackData.data[w.productIdParameter],w.eventTrackData.data[w.aptrinsicIdParam],a.data.searchTerms,a.data.labels,a.data.url,a.data.userEmail,aa,a.data.iframeId),D(),
void(a.data.searchTerms&&A.internalEventListener.dispatchEvent("kcSearch",{searchTerms:a.data.searchTerms,kcId:aa}));case "apt_get_community_content_list":return x.logger.log("SDK get community content list"),na.getCommunityContentList(w.eventTrackData.data[w.productIdParameter],w.eventTrackData.data[w.aptrinsicIdParam],a.data.userEmail,a.data.sortType,a.data.iframeId),void D();case "apt_get_community_content_search":return x.logger.log("SDK get community content search"),na.searchCommunityContent(w.eventTrackData.data[w.productIdParameter],
w.eventTrackData.data[w.aptrinsicIdParam],a.data.searchTerm,a.data.userEmail,a.data.iframeId),void D();case "apt_get_community_article":return x.logger.log("SDK get community article by id"),a.data.id&&na.getCommunityArticleById(w.eventTrackData.data[w.productIdParameter],w.eventTrackData.data[w.aptrinsicIdParam],aa,a.data,k),void D();case "apt_vote_on_community_content":return x.logger.log("SDK vote on community content"),na.voteOnCommunityContent(w.eventTrackData.data[w.productIdParameter],w.eventTrackData.data[w.aptrinsicIdParam],
a.data.iframeId,a.data.type,a.data.userEmail,a.data.id,a.data.likedByUser,a.data.totalLikes),void D();case "apt_get_article":return x.logger.log("SDK get article by id"),c=a.data,b=c.id,d=c.title,c=c.propertyGroupId,a.data.id&&na.getArticleById(w.eventTrackData.data[w.productIdParameter],w.eventTrackData.data[w.aptrinsicIdParam],b,c,d,a.data.iframeId),void D();case "apt_get_user_data":return void x.logger.log("SDK received get user data message");case "apt_track_internal_article":return x.logger.log("SDK received track internal article message"),
(0,Q.trackArticleClick)(a.data.articleId,a.data.categoryId,a.data.articleUrl,aa,a.data.recommendedId,k,a.data.searchTerm,a.data.taskListId),A.internalEventListener.dispatchEvent("articleView",O(a.data,aa)),void D();case "apt_kc_func_click":return x.logger.log("SDK received call javascript function"),b=(0,t.getConfig)("kcAllowedFuncNames"),(0,E.isEmptyArr)(b)||0>b.indexOf(a.data.funcName)?void x.logger.logInternalError(Error("tried to executed function not in the allow list, function name:"+a.data.funcName)):
(a.data.funcName&&(0,G.executeFunctionByName)(a.data.funcName,a.data.funcPayload),void D());case "apt_kc_link_click":if(x.logger.log("SDK received link click"),(0,Q.trackWebLinkClick)(a.data.webLinkId,aa,a.data.recommendedId,k,a.data.searchTerm),a.data.linkObj)b=(0,J.resolveUrlWithPlaceholders)(document.location.href,a.data.linkObj.url),"CURR_TAB"===a.data.linkObj.target?document.location.href=b:window.open(b,"_blank","noopener");return void D();case "apt_get_article_by_id":return x.logger.log("SDK received article id to fetch and open"),
b=a.data.articleId,b&&na.fetchAndOpenArticleById(w.eventTrackData.data[w.productIdParameter],w.eventTrackData.data[w.aptrinsicIdParam],b,a.data.iframeId),void D();case "apt_log_bot_internal_error":return x.logger.log("SDK received internal error from bot"),a=a.data,void x.logger.logInternalError(a.error,a.errorMsg);case "apt_track_external_article":c=a.data,b=c.propertyGroupId,d=c.searchTerm,c={articleId:c.articleId,articleUrl:c.articleUrl,articleProvider:c.articleProvider,articleTitle:c.articleTitle,
propertyGroupId:b,recommendedId:c.recommendedId},x.logger.log("SDK received track external article message"),(0,Q.trackExternalArticleClick)(aa,b,c,d),A.internalEventListener.dispatchEvent("articleView",O(a.data,aa)),D();case "apt_log":x.logger.log("Widget log: "+a.data.message);case "apt_tracking_toggle_widget":x.logger.log("SDK received track toggle widget");a=a.data;var b=a.isOpen,d=a.iframeId,c=a.taskListId,e=a.kcState,g=Ba!==b;return a.shouldTrack&&(g||e)&&((0,Q.trackToggleWidget)(aa,b,c,e),
g&&A.internalEventListener.dispatchEvent(b?"kcOpened":"kcClosed",{kcId:aa})),d?I["default"].setBotIsOpen(b,d):Ba=b,void D()}}}var la=this,pa=void 0,Ta=[],Ra={},aa=void 0,ua=!1,za=!1,Ba=!1,va=null,Ua="";(0,V.addDOMReadyListener)(function(){document.addEventListener(K.GAINSIGHT_PX_OPEN_BOT,na.open);document.addEventListener(K.GAINSIGHT_PX_OPEN_ARTICLE,function(a){return na.openArticleById(a.detail.articleId)})});var ab=a(ca.getGlobalContextMessage),Ga=a(ca.getUrlMessage);this.handleIncomingBotEvents=
function(){w.windowRef.addEventListener("message",La,!1)};this.initWidget=function(a,g,h,q){try{if(b()){za=!0;x.logger.log("SDK Initializing KC with config "+JSON.stringify(a,null,2));var k=a.initialConfig;if(aa!==k.kcId&&(Ba=!1),aa=k.kcId,oa.setIsDefaultKc(!h),oa.setKcId(aa),w.windowRef.addEventListener("message",La,!1),!(0,Z.findSingleElementInShadowDom)("#apt-widget",document)){ua=!1;va=null;var f=document.createElement("div");f.setAttribute("id","apt-widget");f.classList.add("apt-widget-top-container");
(0,t.getBody)().appendChild(f);x.logger.log("SDK Created KC container")}a.contentProxyDomain=(0,t.getConfig)("contentProxyDomain");var v="V2"===k.type,m=(0,fa.getElementSelector)(a.initialConfig).cssSelector;if(a.initialConfig=e(a.initialConfig,va),a.initialConfig.isEmbedded&&m){var p=(0,fa.getEmbeddedPositionType)(a.initialConfig),z=(0,fa.getBotZIndex)(a.initialConfig);(0,L.injectWidgetToTargetElement)(m,q,{isNewAPI:ha,positionType:p,zIndex:z,kcId:a.initialConfig.kcId},{onClick:na.toggleBot,onFailed:function(){za=
ua=!1;va=null},onFound:function(){ua=!0},onDone:function(b){va=b;a.initialConfig=e(a.initialConfig,va);c((0,t.getAssetEndpoint)("widget",v),a,v)}})}else c((0,t.getAssetEndpoint)("widget",v),a,v);g||(d(),A.internalEventListener.addListener("pageview",function(){d()}));A.internalEventListener.addListener(ea.GLOBAL_CONTEXT_CHANGED,ab);A.internalEventListener.addListener("pageview",Ga)}}catch(u){x.logger.logInternalError(u,"cannot start kc widget")}};this.clearWidgetLoadQueue=function(){Ta=[]};this.checkIsInProgress=
function(){return za};this.checkIsInitialized=function(){return ua&&!!(0,Z.findSingleElementInShadowDom)("#apt-widget",document)};this.cleanWidget=function(){la.clearWidgetLoadQueue();za=ua=!1;va=null};this.removeWidget=function(){Ra={};la.cleanWidget();var a=(0,Z.findSingleElementInShadowDom)(".apt-widget-frame",document);a&&a.parentNode.removeChild(a);(a=document.getElementById("apt-widget"))&&(A.internalEventListener.removeListener(ea.GLOBAL_CONTEXT_CHANGED,ab),A.internalEventListener.removeListener("pageview",
Ga),a.parentNode.removeChild(a),clearInterval(void 0),h((0,H.getProduct)(w.eventTrackData[S.cacheGet](w.productIdParameter)))&&x.logger.reportToServer("Removing KC bot"))};this.updatePositionForEmbeddedBot=function(){var a=(0,t.getKcConfig)(),c=(0,fa.getEmbeddedPositionType)(a),b=(0,fa.getBotPositionSettings)(a),a=(0,fa.getBotAlignmentSettings)(a);C({type:"APT_WIDGET_EMBEDDED_POSITIONS",calculatedPosition:m(va,b,a,c)})};this.updateWidgetConfig=function(){b()&&(C({type:"APT_WIDGET_CONFIG",config:e((0,
t.getKcConfig)(),va),shouldResetState:q.UserData.getUserId()!==Ua}),Ua=q.UserData.getUserId())};this.fetchEntriesById=function(a,c,b,d,e,g){var h=g?t.getWidgetContentEndpointV3:t.getWidgetContentEndpoint;c=(0,Q.getUrl)(h+"/"+c+"/"+a,{ai:b});B.AjaxUtil.getData(c,function(c){if(!c)return void(d&&"function"==typeof d&&d(c));var b=Object.assign({},c);if(!g&&!(0,U.validateContentChecksum)(a,b))return void("function"==typeof e&&e("Checksum does not match when fetching knowledge center entries"));d&&"function"==
typeof d&&d(c)},null,function(){"function"==typeof e&&e("Error occurred while fetching knowledge center entries");x.logger.logInternalError("Error occurred while fetching KC entries")})};this.fetchEntriesAndSendToWidget=function(a,c,d,e){try{var g=function(a){if(k){var c=a.entries,b=a.userData;a={type:"APT_WIDGET_ENTRIES",entries:c,categories:a.categories,contentGroups:a.contentGroups,taskLists:a.taskLists,quickLinks:a.quickLinks,recommendations:a.recommendations,widgets:a.widgets,userData:b,p:a.p};
x.logger.log("SDK Posting v2 content to KC")}else c=a.entries,b=a.userData,a={type:"APT_WIDGET_ENTRIES",entries:c,recommendationRuleSets:a.recommendationRuleSets,userData:b},x.logger.log("SDK Posting entries to KC");C(a);ab((0,ba.getGlobalContext)());Ga();d&&"function"==typeof d&&d({entries:c,userData:b});Ga()};if(ua&&b()){x.logger.log("SDK Fetching KC entries");var h=(0,t.getKcConfig)(),q=h.kcId,k="V2"===h.type;(0,t.isIframe)()?Y["default"].getBotContent(q,k,function(a){var c=v(a,1)[0];a=c.response;
c=c.error;a?g(a):e(c)}):la.fetchEntriesById(q,a,c,g,e,k)}}catch(f){x.logger.logInternalError(Error("KC - fetch entries - "+f))}};this.registerAfterWidgetLoad=function(a){"function"==typeof a&&Ta.push(a)};this.searchArticles=function(a,c,d,e,g,h,q,k){if(b()){e=e&&Array.isArray(e)&&0<e.length?e.join():"";x.logger.log("SDK searching Articles");g=(0,T.maskUrl)(null,null,g,null,null,null,null);g=v(g,3)[2];g=(0,t.getConfig)("overrideBotSearchContextUrl")||g;var f=(0,Q.getTrackingPayload)();Object.assign(f,
{searchTerm:d,labels:e,url:g,ai:c,userEmail:h});c=F()?t.getWidgetDocsEndpointV3:t.getWidgetDocsEndpoint+"/v2";a=(0,Q.getUrl)(c+"/"+a+"/"+q,f);C({type:"IS_COMMUNITY_API_IN_PROGRESS",content:!0},k);B.AjaxUtil.getData(a,function(a){a&&((0,E.isNotEmptyArr)(a)&&a[0].propertyGroupId&&(a[0].propertyGroupId,(0,H.getProduct)(w.eventTrackData[S.cacheGet](w.productIdParameter))),a={type:"APT_WIDGET_SEARCH_RESULTS",articles:a},x.logger.log("SDK Posting articles to KC"),C(a,k))},null,function(){x.logger.logInternalError("Error occurred while searching KC articles");
C({type:"APT_WIDGET_SEARCH_RESULTS_FAILED"},k)})}};this.getCommunityContentList=function(a,c,d,e,g){b()&&(x.logger.log("SDK get Community Content list"),c={userEmail:d,sortBy:e},c=(0,Q.getUrl)(t.getWidgetDocsEndpoint+"/community/content/"+a+"/"+aa,c),C({type:"IS_COMMUNITY_API_IN_PROGRESS",content:!0},g),B.AjaxUtil.getData(c,function(c){!c||c.propertyGroupId&&c.propertyGroupId!==(0,H.getProduct)(a)||(x.logger.log("SDK Posting community content list to KC"),C({type:"APT_GET_COMMUNITY_CONTENT_LIST",
content:c},g))},null,function(){x.logger.logInternalError(Error("Error occurred while fetching community content list:"));C({type:"APT_GET_COMMUNITY_CONTENT_LIST_FAILED"},g)}))};this.searchCommunityContent=function(a,c,d,e,g){b()&&(x.logger.log("SDK get Community Content search"),c=(0,Q.getTrackingPayload)(),Object.assign(c,{searchTerm:d,userEmail:e}),d=(0,Q.getUrl)(t.getWidgetDocsEndpoint+"/community/"+a+"/"+aa,c),C({type:"IS_COMMUNITY_API_IN_PROGRESS",content:!0},g),B.AjaxUtil.getData(d,function(c){!c||
c.propertyGroupId&&c.propertyGroupId!==(0,H.getProduct)(a)||(x.logger.log("SDK Posting community content search results to KC"),C({type:"APT_GET_COMMUNITY_CONTENT_SEARCH",content:c},g))},null,function(){x.logger.logInternalError(Error("Error occurred while fetching community content search:"));C({type:"APT_GET_COMMUNITY_CONTENT_SEARCH_FAILED"},g)}))};this.voteOnCommunityContent=function(a,c,d,e,g,h,q,k){if(b()){c=(0,Q.getTrackingPayload)();Object.assign(c,{contentId:h,contentType:e,userEmail:g});
var f="idea"===e?"vote":"like";q&&(f="un"+f);g=t.getWidgetSingleCommunityDocEndpointV3+"/"+f+"/"+a+"/"+aa;a=t.getWidgetSingleDocEndpoint+"/community/"+f+"/"+a+"/"+aa;a=(0,Q.getUrl)(F()?g:a,c);B.AjaxUtil.getData(a,function(a){a?(x.logger.log("SDK Posting community vote\\like result to KC"),C({type:"APT_VOTE_ON_COMMUNITY_CONTENT",contentId:h,contentType:e,totalLikes:k,likedByUser:!q},d)):C({type:"APT_VOTE_ON_COMMUNITY_CONTENT_BLOCKED"},d)},null,function(){x.logger.logInternalError(Error("Error occurred while "+
f+" community article by id: "+h));C({type:"APT_VOTE_ON_COMMUNITY_CONTENT_FAILED"},d)})}};this.getCommunityArticleById=function(a,c,d,e,g){if(b()){x.logger.log("SDK get Community Article by id");var h=e.id;c=e.type;var q=e.totalLikes,k=e.userRegistered,f=e.userEmail,v=e.iframeId,m=e.searchTerm,w=e.title;e=e.url;var p=(0,Q.getTrackingPayload)();Object.assign(p,{contentId:h,contentType:c,userEmail:f});var z=t.getWidgetSingleCommunityDocEndpointV3+"/"+a+"/"+d,u=t.getWidgetSingleDocEndpoint+"/community/"+
a+"/"+d,p=(0,Q.getUrl)(F()?z:u,p);m&&(0,Q.trackCommunityArticleClick)(d,h,c,w,e,m,g);B.AjaxUtil.getData(p,function(c){if(c&&(!c.propertyGroupId||c.propertyGroupId===(0,H.getProduct)(a))){var b={type:"APT_GET_COMMUNITY_ARTICLE",article:c};c.entryType="COMMUNITY_ARTICLE";c.totalLikes=q;c.userRegistered=k;c.userEmail=f;c.contentId=h;x.logger.log("SDK Posting community article to KC");C(b,v)}},null,function(){x.logger.logInternalError(Error("Error occurred while fetching community article by id: "+h));
C({type:"APT_GET_COMMUNITY_ARTICLE_FAILED"},v)})}};this.getArticleById=function(a,c,d,e,g,h){if(b()){x.logger.log("SDK get Article by id");var q=(0,Q.getTrackingPayload)();Object.assign(q,{propertyGroupId:e,articleId:d,ai:c,art:g});c=F()?t.getWidgetSingleDocEndpointV3:t.getWidgetSingleDocEndpoint;q=(0,Q.getUrl)(c+"/"+a+"/"+aa,q);B.AjaxUtil.getData(q,function(c){!c||c.propertyGroupId&&c.propertyGroupId!==(0,H.getProduct)(a)||(c={type:"APT_GET_ARTICLE",article:c},x.logger.log("SDK Posting article to KC"),
C(c,h))},null,function(){x.logger.logInternalError(Error("Error occurred while fetching article by id: "+d));C({type:"APT_GET_ARTICLE_FAILED"},h)})}};this.updateEmbeddedMappedElement=function(a){va=a};this.getEmbeddedMappedElement=function(){return va};this.toggleBot=function(){Ba?na.close(!0):na.open()};this.setIsOpen=function(a){Ba=a};this.open=function(){la.checkIsInitialized()&&((0,fa.getIsEmbedded)((0,t.getKcConfig)())&&la.updatePositionForEmbeddedBot(),C({type:"APT_WIDGET_OPEN"}))};this.close=
function(a){try{a&&Ba&&((0,t.isIframe)()?Y["default"].trackBotToggle(aa,!1):(0,Q.trackToggleWidget)(aa,!1)),C({type:"APT_WIDGET_CLOSE"}),Ba=!1}catch(c){x.logger.log("clsoing bot "+c)}};this.postToWidget=C;this.openArticleById=function(a){x.logger.log("SDK open article by id");la.postToWidget({type:"APT_SET_ARTICLE_BY_ID",articleId:a})};this.fetchAndOpenArticleById=function(a,c,b,d){x.logger.log("SDK fetch and open article by id");c=(0,Q.getUrl)((0,t.getWidgetArticleByIdEndpoint)()+"/"+a+"/"+b,{ai:c});
B.AjaxUtil.getData(c,function(c){!c||c.propertyGroupId&&c.propertyGroupId!==(0,H.getProduct)(a)||(x.logger.log("SDK Posting article to KC"),la.postToWidget({type:"APT_SET_ARTICLE",article:Object.assign(c,{forceOpen:!0})},d))},null,function(){x.logger.logInternalError(Error("Error occurred while fetching article by id: "+b));C({type:"APT_SET_ARTICLE_FAILED"},d)})}}},function(l,a,b){function n(a,b,e){return function(q){q.listenerId===a&&(e(q),g.removeListener(b))}}function f(a){return"V2"!==a.type}
function r(a){switch(a){case "TOP":return["CENTER","TOP"];case "BOTTOM":return["CENTER","BOTTOM"];case "LEFT":return["LEFT","MIDDLE"];case "RIGHT":return["RIGHT","MIDDLE"];case "TOP_LEFT":return["LEFT","TOP"];case "TOP_RIGHT":return["RIGHT","TOP"];case "BOTTOM_LEFT":return["LEFT","BOTTOM"];case "BOTTOM_RIGHT":return["RIGHT","BOTTOM"];case "CENTER":return["CENTER","MIDDLE"];default:throw Error("Unsupported embedded position "+a);}}Object.defineProperty(a,"__esModule",{value:!0});a.botEventEmmiter=
void 0;var p=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var e=[],g=!0,k=!1,f=void 0;try{for(var m,p=a[Symbol.iterator]();!(g=(m=p.next()).done)&&(e.push(m.value),!b||e.length!==b);g=!0);}catch(u){k=!0,f=u}finally{try{!g&&p["return"]&&p["return"]()}finally{if(k)throw f;}}return e}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.addCommandToBotQueue=function(a){(0,k.isFunction)(a)&&e.push(a)};a.clearBotCommands=function(){e=
[]};a.runBotCommands=function(){e.forEach(function(a){(0,k.isFunction)(a)&&a();e.shift()})};a.getIsBotV1=f;a.getIsEmbedded=function(a){return f(a)?"embedded"===(0,m.getConfig)("kcDisplayType"):"UI_ELEMENT"===a.sizeAndPosition.openFrom};a.getElementSelector=function(a){return f(a)?a.windowSettings.embedKCSettings.elementSelector:{cssSelector:a.sizeAndPosition.cssSelector,matchCssSelector:!0,type:"CUSTOM"}};a.getEmbeddedPositionType=function(a){return f(a)?(0,m.getConfig)("kcPositionType"):a.sizeAndPosition.type.toLowerCase()};
a.getIsInline=function(a){return"injection"===a};a.getBotPositionSettings=function(a){if(f(a))return a.windowSettings.embedKCSettings.positionSettings;var b=a.sizeAndPosition;a=b.horizontalOffset;var e=b.verticalOffset,b=r(b.embeddedPosition),b=p(b,2);return{positionHorizontal:b[0],positionVertical:b[1],positionTopDelta:e,positionLeftDelta:a}};a.getBotAlignmentSettings=function(a){if(f(a))return{horizontalAlignment:a.windowSettings.embedKCSettings.horizontalAlignment,verticalAlignment:a.windowSettings.embedKCSettings.verticalAlignment};
a=a.sizeAndPosition.anchorPosition.split("_");a=p(a,2);return{horizontalAlignment:a[1],verticalAlignment:a[0]}};a.getBotZIndex=function(a){return f(a)?a.windowSettings.zindex||a.windowSettings.zIndex:a.sizeAndPosition.zIndex};var u=b(11),k=b(0),m=b(1),e=[],g=a.botEventEmmiter=new function(){var a={},b={};this.dispatchEvent=function(b,e,g){e===a[b]&&u.internalEventListener.dispatchEvent(b,Object.assign({listenerId:e},g))};this.addListener=function(e,q,k){g.removeListener(e);a[e]=k;q=n(k,e,q);b[k]||
(b[k]={});b[k][e]=q;u.internalEventListener.addListener(e,q)};this.removeListener=function(e){var g=a[e];g&&(u.internalEventListener.removeListener(e,b[g][e]),a[e]=null,delete a[e])}}},function(l,a,b){function n(a,c){if(!(a instanceof c))throw new TypeError("Cannot call a class as a function");}function f(){var a=window.MutationObserver||window.WebKitMutationObserver;if((0,h.getConfig)("angularMutationObserver")&&window.Zone)var a=window.Zone.__symbol__("MutationObserver"),c=window.Zone.__symbol__("WebkitMutationObserver"),
a=window[a]||window[c]||window.MutationObserver||window.WebKitMutationObserver;return a}function r(a,c){t.forEach(function(b){try{(b.validateBeforeChange&&b.validateBeforeChange(a,c)||c)&&b.onChangeCallback(a,c)}catch(d){e.logger.logInternalError(d,"failed to run on change for observer")}});x=[]}function p(){return function(a){try{return a.beforeValidator()}catch(c){return e.logger.logInternalError(c,"failed to validate if need to run observer"),!1}}}function u(){if(!w)return!1;try{B=new (f())(function(a){if(t.some(p())){var c=
a.some(function(a){var c=a.attributeName,b=a.target;a=a.type;var c="attributes"===a&&("style"===c||"class"===c),d=b.getAttribute("class")||"",b=b.getAttribute("id")||"";return(b=-1===d.indexOf("apt")&&-1===b.indexOf("apt"))&&"attributes"!==a||b&&c});x=x.concat(a);y(c)}}),B.observe((0,h.getBody)(),q)}catch(a){e.logger.logInternalMessage(a,"failed to observed mutation")}}Object.defineProperty(a,"__esModule",{value:!0});var k=function(){function a(c,b){for(var d=0;d<b.length;d++){var e=b[d];e.enumerable=
e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}();a.getNativeMutationObserver=f;a.checkMutationObserverIsSupported=function(){return!(0,h.getConfig)("badgeUseInterval")&&(11<=(0,m.detectIE)()||v)};var m=b(9),e=b(2);l=b(0);var g=b(14),d=b(167),h=b(1),v=window.MutationObserver||window.WebKitMutationObserver,q={attributes:!0,childList:!0,subtree:!0,attributeFilter:["style","class"]},w=11<=
(0,m.detectIE)()||v,t=[],x=[],A={},B=void 0,y=(0,l.debounce)(function(a){r(x,a)},300),c=function z(a,c,b,d){n(this,z);this.id=a;this.beforeValidator=c;this.onChangeCallback=b;this.validateBeforeChange=d};b=new (function(){function a(){n(this,a)}return k(a,[{key:"addObserver",value:function(a,b,d){1>t.length&&u();var e=g.UUIDGenerator.generateV4Id();return t.push(new c(e,a,b,d)),e}},{key:"removeObserver",value:function(a){var c=(0,d.findIndex)(t,function(c){return c.id===a});-1<c&&t.splice(c,1);1>
t.length&&B.disconnect()}},{key:"addPXElementObserver",value:function(a,c,b){this.addElementObserver(a,c,b,!0)}},{key:"addElementObserver",value:function(a,c,b,d){try{var g=new (f())(function(a){a.some(function(a){var c=a.attributeName,b=a.target;a=a.type;var c="attributes"===a&&("style"===c||"class"===c),e=b.getAttribute("class")||"",b=b.getAttribute("id")||"";return(b=d||-1===e.indexOf("apt")&&-1===b.indexOf("apt"))&&"attributes"!==a||b&&c})&&b(a)});g.observe(c,{childList:!0,subtree:!0,attributeFilter:["style",
"class"]});A[a]=g}catch(h){e.logger.logInternalMessage(h,"failed to observed mutation for element: "+c)}}},{key:"removeElementListener",value:function(a){var c=A[a];c&&(c.disconnect(),delete A[a])}}]),a}());a["default"]=b},function(l,a,b){var n,f,r,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},u=b(6),k=b(0),m=b(7),e=b(1);!function(b){"object"===
p(a)&&void 0!==l?l.exports=b():(f=[],n=b,void 0!==(r="function"==typeof n?n.apply(a,f):n)&&(l.exports=r))}(function(){return function d(a,b,e){function k(m,p){if(!b[m]){if(!a[m]){if(f)return f(m,!0);var u=Error("Cannot find module '"+m+"'");throw u.code="MODULE_NOT_FOUND",u;}u=b[m]={exports:{}};a[m][0].call(u.exports,function(c){return k(a[m][1][c]||c)},u,u.exports,d,a,b,e)}return b[m].exports}for(var f=!1,m=0;m<e.length;m++)k(e[m]);return k}({1:[function(a,b,e){"document"in window.self&&("classList"in
document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var b=function(a){var b=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){var d,c=arguments.length;for(d=0;d<c;d++)a=arguments[d],b.call(this,a)}};b("add");b("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var d=DOMTokenList.prototype.toggle;
DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:d.call(this,a)}}a=null}():function(a){if("Element"in a){a=a.Element.prototype;var b=Object,d=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},e=Array.prototype.indexOf||function(a){for(var c=0,b=this.length;c<b;c++)if(c in this&&this[c]===a)return c;return-1},h=function(a,c){this.name=a;this.code=DOMException[a];this.message=c},k=function(a,c){if(""===c)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");
if(/\s/.test(c))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return e.call(a,c)},f=function(a){for(var c=d.call(a.getAttribute("class")||""),c=c?c.split(/\s+/):[],b=0,e=c.length;b<e;b++)this.push(c[b]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},c=f.prototype=[],m=function(){return new f(this)};if(h.prototype=Error.prototype,c.item=function(a){return this[a]||null},c.contains=function(a){return a+="",-1!==k(this,a)},c.add=function(){var a,
c=arguments,b=0,d=c.length,e=!1;do a=c[b]+"",-1===k(this,a)&&(this.push(a),e=!0);while(++b<d);e&&this._updateClassName()},c.remove=function(){var a,c,b=arguments,d=0,e=b.length,h=!1;do for(a=b[d]+"",c=k(this,a);-1!==c;)this.splice(c,1),h=!0,c=k(this,a);while(++d<e);h&&this._updateClassName()},c.toggle=function(a,c){a+="";var b=this.contains(a),d=b?!0!==c&&"remove":!1!==c&&"add";return d&&this[d](a),!0===c||!1===c?c:!b},c.toString=function(){return this.join(" ")},b.defineProperty){c={get:m,enumerable:!0,
configurable:!0};try{b.defineProperty(a,"classList",c)}catch(v){-2146823252===v.number&&(c.enumerable=!1,b.defineProperty(a,"classList",c))}}else b.prototype.__defineGetter__&&a.__defineGetter__("classList",m)}}(window.self))},{}],2:[function(a,b,e){b.exports=function(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var d=/<([\w:]+)/.exec(a);if(!d)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");d=d[1];if("body"==d)return d=b.createElement("html"),d.innerHTML=
a,d.removeChild(d.lastChild);var d=Object.prototype.hasOwnProperty.call(f,d)?f[d]:f._default,e=d[0],h=d[1],c=d[2],d=b.createElement("div");for(d.innerHTML=h+a+c;e--;)d=d.lastChild;if(d.firstChild==d.lastChild)return d.removeChild(d.firstChild);for(e=b.createDocumentFragment();d.firstChild;)e.appendChild(d.removeChild(d.firstChild));return e};var k;a=!1;"undefined"!=typeof document&&(k=document.createElement("div"),k.innerHTML='  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d"/a"\x3ea\x3c/a\x3e\x3cinput type\x3d"checkbox"/\x3e',
a=!k.getElementsByTagName("link").length,k=void 0);var f={legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],_default:a?[1,"X\x3cdiv\x3e","\x3c/div\x3e"]:[0,"",""]};f.td=f.th=[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"];f.option=f.optgroup=[1,'\x3cselect multiple\x3d"multiple"\x3e',"\x3c/select\x3e"];
f.thead=f.tbody=f.colgroup=f.caption=f.tfoot=[1,"\x3ctable\x3e","\x3c/table\x3e"];f.polyline=f.ellipse=f.polygon=f.circle=f.text=f.line=f.path=f.rect=f.g=[1,'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1"\x3e',"\x3c/svg\x3e"]},{}],3:[function(a,b,e){function k(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var d=Object(a),e=1;e<arguments.length;e++){var h=arguments[e];if(void 0!==h&&null!==h)for(var f=Object.keys(Object(h)),c=0,q=f.length;c<
q;c++){var m=f[c],v=Object.getOwnPropertyDescriptor(h,m);void 0!==v&&v.enumerable&&(d[m]=h[m])}}return d}b.exports={assign:k,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:k})}}},{}],4:[function(a,b,f){a("classlist-polyfill");a("es6-object-assign").polyfill();var q=a("domify"),w=function(a){if(void 0!==a){var c=document.createElement("div");return c.appendChild(document.createTextNode(a)),c.innerHTML}return""},t=function(a,
c){if("string"==typeof c&&0!==c.length)for(var b=c.split(" "),d=0;d<b.length;d++){var e=b[d];e.length&&a.classList.add(e)}},p=function(){for(var a=document.createElement("div"),c=[{styleName:"animation",eventName:"animationend"},{styleName:"WebkitAnimation",eventName:"webkitAnimationEnd"},{styleName:"MozAnimation",eventName:"animationend"},{styleName:"OAnimation",eventName:"oanimationend"},{styleName:"msAnimation",eventName:"MSAnimationEnd"}],b=0;b<c.length;b++)if(void 0!==a.style[c[b].styleName])return c[b].eventName;
return!1}(),r={},n=1,l=!1,c={open:function(a){var b=function(a){console.warn('The "'+a+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.');console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};a.css&&b("css");a.overlayCSS&&b("overlayCSS");a.contentCSS&&b("contentCSS");a.closeCSS&&b("closeCSS");var d={};d.id=n++;r[d.id]=d;d.isOpen=!0;d.close=function(){function a(c){var d=b.getPropertyValue(c+"animation-name");c=b.getPropertyValue(c+
"animation-duration");return!!d&&"none"!==d&&!!c&&"0s"!==c}if(!this.isOpen)return!0;var c=this.options;if(l&&!c.escapeButtonCloses||!1===(!c.beforeClose||c.beforeClose.call(this)))return!1;this.isOpen=!1;var b=window.getComputedStyle(this.contentEl),d=a(""),d=(d=(d=d||a("-webkit-"))||a("-moz-"))||a("-o-"),h=function U(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(p,U),delete r[this.id],this.rootEl.parentNode.removeChild(this.rootEl),c.afterClose&&c.afterClose.call(this),0===Object.keys(r).length&&
(0,e.getBody)().classList.remove("vex-open"))}.bind(this);return p&&d?(this.rootEl.addEventListener(p,h),this.rootEl.classList.add("vex-closing")):h(),!0};"string"==typeof a&&(a={content:a});a.unsafeContent&&!a.content?a.content=a.unsafeContent:a.content&&(a.content=w(a.content));var b=d.options=Object.assign({},c.defaultOptions,a),h=d.rootEl=document.createElement("div");h.classList.add("vex");t(h,b.className);var f=d.overlayEl=document.createElement("div");f.classList.add("vex-overlay");t(f,b.overlayClassName);
b.overlayClosesOnClick&&f.addEventListener("click",function(a){a.target===f&&d.close()});h.appendChild(f);var v=d.contentEl=document.createElement("div");if(v.classList.add("vex-content"),t(v,b.contentClassName),v.appendChild(b.content instanceof window.Node?b.content:q(b.content)),h.appendChild(v),b.showCloseButton){var D=d.closeEl=document.createElement("div");D.classList.add("vex-close");t(D,b.closeClassName);D.setAttribute("tabindex",u.MAX_TAB_INDEX);D.setAttribute("role","button");D.setAttribute("aria-label",
"close");(0,m.disableFocusOnClick)(D,v);(0,k.addEnterKeyDownListener)(D,function(){return D&&D.click()});D.addEventListener("click",d.close.bind(d));v.appendChild(D)}return document.querySelector(b.appendLocation).appendChild(h),b.afterOpen&&b.afterOpen.call(d),a.disableTransitionEffect&&h.classList.add("apt-disable-transition"),v.setAttribute("tabindex",u.TAB_INDEX_START-1),a.disableAutoFocus||(0,m.focusElement)(v),a.enableModalBodyScroll&&(0,e.getBody)().classList.add("vex-open"),d},close:function(a){if(a.id)a=
a.id;else if("string"!=typeof a)throw new TypeError("close requires a vex object or id string");return!!r[a]&&r[a].close()},closeTop:function(){var a=Object.keys(r);return!!a.length&&r[a[a.length-1]].close()},closeAll:function(){for(var a in r)this.close(a);return!0},getAll:function(){return r},getById:function(a){return r[a]}};window.addEventListener("keyup",function(a){27===a.keyCode&&(l=!0,c.closeTop(),l=!1)});window.addEventListener("popstate",function(){c.defaultOptions.closeAllOnPopState&&c.closeAll()});
c.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0};Object.defineProperty(c,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:w});c.registerPlugin=function(a,b){var d=a(c),e=b||d.name;if(c[e])throw Error("Plugin "+b+" is already registered.");c[e]=d};b.exports=c},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[4])(4)})},
function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=b(9),f=b(1),r=b(7),p=window;a["default"]=function(a){var b=this,m=a||0;this.setDefaultTopOffset=function(a){m=a||0};this.positionElement=function(a,b,d,h,k,q,w,t,u,l){k||0===k||(k=0);q||0===q||(q=0);if(b)if(b&&void 0!==b){var B=b.isDom?b.element.getBoundingClientRect():b.elementRect,y=a.getBoundingClientRect(),c=b&&B,E=b&&c.height,z=b&&c.width,B=y.height,J=y.width,G=(0,n.getPageWidth)(),C=(0,n.getFullPageHeight)(),O=y=null;switch(d.toLowerCase()){case "left":y=
c.left;w||(y-=J+("center"===h?10:0));break;case "right":y=c.left+c.width;w||(y+="center"===h?10:0);break;case "center":y=Math.abs(c.left+z/2)-(w?0:J/2);break;default:throw Error("unsupported horizontal position "+d);}switch(h.toLowerCase()){case "top":O=c.top-(w?0:B+10);break;case "center":O=c.top+E/2-(w?0:B/2);break;case "bottom":O=c.top+E+(w?0:10);break;default:throw Error("unsupported vertical position "+h);}!t&&(0>y||y+J>G)?a=null:(w=!1,(0,f.getConfig)("supportFixedPosition")&&b.isDom&&b.element&&
(0,r.isFixedPosition)(b.element)&&(a.style.position="fixed",w=!0),w||(O+=isNaN(l)?window.pageYOffset:l),b=O+B>C||O<m,!t&&b?a=null:(t=O+k,(0,f.getConfig)("enableModalBodyScroll")||(b=(0,f.getBody)().getBoundingClientRect().top,0<b&&(t-=b)),t+="px",q=y+q+"px",a=(u?a.style.setProperty("transform","translate3d("+q+", "+t+", 0px"):(a.style.left=q,a.style.top=t),[d,h])))}else a=null;else{u=k;t=q;q=[];b=p.getComputedStyle(a);switch(a.style.position="fixed",u=u||0,d.toLowerCase()){case "left":a.style.right=
"";a.style.left=10+t+"px";q.push("left");break;case "right":a.style.left=window.innerWidth-parseInt(b.width,10)-10+t+"px";a.style.right="";q.push("right");break;default:a.style.right="",a.style.left="calc(50% - "+(0-t+parseInt(b.width,10)/2)+"px)",q.push("center")}switch(h.toLowerCase()){case "top":a.style.bottom="";a.style.top=10+u+m+"px";q.push("top");break;case "bottom":a.style.bottom=10-u+"px";a.style.top="auto";q.push("bottom");break;default:a.style.bottom="",a.style.top="calc(50% - "+(0-u+parseInt(b.height,
10)/2)+"px)",q.push("center")}a=q}return a};this.getElementPosition=function(a){a=a.getBoundingClientRect();return[a.top,a.left,a.bottom,a.right]};this.getElementDataPosition=function(a){return a.isDom?b.getElementPosition(a.element):[a.elementRect.top,a.elementRect.left,a.elementRect.bottom,a.elementRect.right]}}},,function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a,c){(0,S.findTarget)(a,c.target,function(b){(c.target=b)&&ha(a,c)})}function r(){var a=(0,H.getConfig)("badgeRepositionInterval");
return(0,I.isNullOrUndefined)(a)&&(a=500),a}function p(){var a=Object.values(V);ga.forEach(function(a){var c=a.sdkRules,b=a.badgeSettings.id,d=a.engagementId,e={url:(0,I.getPageUrl)()};(0,I.isBlank)(c)||(0,R.matchMultiTypeRules)(JSON.parse(c),e)?V[b]||(a.badgeSettings.engagementId=d,(a=ha(a.badgeSettings))&&(V[b]=a)):V[b]&&(V[b].destroy(),delete V[b])});var c=Object.values(V),b=(0,ea.checkMutationObserverIsSupported)();(0,H.isIframe)()?(fa.observe((0,H.getBody)(),qa),e()):fa&&b?0<a.length&&0===c.length?
(fa.disconnect(),e(),G()):0===a.length&&0<c.length?(fa.observe((0,H.getBody)(),qa),e()):0<a.length&&0<c.length&&e():k()}function u(){try{fa=new ((0,ea.getNativeMutationObserver)())(function(a){0<Object.values(V).length||(0,H.isIframe)()?a.some(function(a){var c=a.attributeName,b=a.type,c="attributes"===b&&("style"===c||"class"===c);a=a.target.getAttribute("class")||"";return(a=-1===a.indexOf("apt")&&-1===a.indexOf("px-"))&&"attributes"!==b||a&&c})&&((0,H.isIframe)()?m():(pa=pa||da())()):fa.disconnect()}),
fa.observe((0,H.getBody)(),qa)}catch(a){L.logger.logInternalError(Error("Mutation Observer",a))}}function k(){ka&&clearInterval(ka);ka=setInterval(function(){var a=Object.values(V);0<a.length||(0,H.isIframe)()?e(a):ka&&clearInterval(ka)},2E3)}function m(){if((0,H.isIframe)()){var a=Object.values(V);0<a.length&&(a=a.map(function(a){var c=a.elementSelector,b=c.matchCssSelector,d=c.selector,e=c.cssSelector,g=c.matchTextRule,h=c.textRule,c=c.htmlTextRule||JSON.parse(h)||{},b={matchCssSelector:b,cssSelector:d||
e,matchTextRule:g,textRuleOperator:c.operator,textRuleValues:c.values},b=(0,ca.findElementInWindow)(b,(0,H.getBody)(),!1);return Object.assign({},a,{isExist:!!b})}),P["default"].broadcastBadgesStatuses(a))}}function e(){(0,H.isIframe)()?m():na(Object.values(V))}function g(){var a=(0,ea.checkMutationObserverIsSupported)();(0,H.isIframe)()?a?u():k():(J(),0===ga.length?K.internalEventListener.removeListener("pageview",p):0<ga.length&&(a?u():k(),K.internalEventListener.addListener("pageview",p)))}function d(a){try{var c=
F.eventTrackData[Q.cacheGet](F.sessionIdParam),b=D["default"].fetchBadges(c);q(a,b);D["default"].storeBadges(c,b,!0)}catch(d){L.logger.logInternalError(d)}}function h(a,c,b){D["default"].setIsPreview(b);var e=void 0;if(c)for(var e={},h=0;h<c.length;h++)e[c[h].badgeSettings.id]={index:h,badge:c[h]};var k=!1;return a.forEach(function(h,f){try{var q=h.badgeSettings,t=h.engagementId,m=h.sdkRules,w=h.contentTheme,p=q.id,u=q.lightThemeStyle,r=q.darkThemeStyle,n=q.cssLibraryStyle,z=V[p];z&&z.destroy();e&&
c.splice(e[h.badgeSettings.id].index,1,h);var x={url:(0,I.getPageUrl)()};if((0,I.isBlank)(m)||(0,R.matchMultiTypeRules)(JSON.parse(m),x)){q.engagementId=t;q.clickCallback=b?q.clickCallback:d;q.executionId=h.executionId;b||(q.isDarkTheme=(0,I.isDarkTheme)(w),q.altSettings=Object.assign({},q.altSettings,{lightThemeStyle:u,darkThemeStyle:r,cssLibraryStyle:n}));var l=ha(q,null);l&&(V[p]=l)}else L.logger.log("SDK rules did not match, rules: "+m+", current URL: "+x);k||a.length-1!==f||(v(a),g(na),k=!0)}catch(y){L.logger.logInternalError(y)}}),
Object.values(V)}function v(a){a.forEach(function(a){var c=a.badgeSettings.id;0<ga.filter(function(a){return a.badgeSettings.id===c}).length||ga.push(a)})}function q(a){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];try{for(var b=V[a],d=0;d<c.length;d++)c[d].badgeSettings.id==a&&c.splice(d,1);for(c=0;c<ga.length;c++)ga[c].badgeSettings.id==a&&ga.splice(c,1);(0,la.logBadgeForAppian)("Trying to remove badge "+a+" "+JSON.stringify(Object.keys(V))+" "+b.badgeAttr.id);b&&((0,la.logBadgeForAppian)("Trying to destroy badge "+
a+" "+JSON.stringify(Object.keys(V))+" "+b.badgeAttr.id),b.destroy(),delete V[a])}catch(e){(0,la.logBadgeForAppian)("Error with Removing badge "+a,e),L.logger.logInternalError(e)}}function w(a){var c=a.removed;a=a.updated;var b=F.eventTrackData[Q.cacheGet](F.sessionIdParam),d=D["default"].fetchBadges(b);(0,I.isNotEmptyArr)(c)&&c.forEach(function(a){return q(a,d)});(0,I.isNotEmptyArr)(a)&&h(a,d);D["default"].storeBadges(b,d,!0)}function t(){var a=F.eventTrackData[Q.cacheGet](F.sessionIdParam),a=D["default"].fetchBadges(a),
c=Object.assign({},V);if(!(0,I.isEmptyArr)(a)||!(0,I.isEmptyArr)(Object.keys(c))){a=a.map(function(a){var b=a.badgeSettings;a=b.id;b=b.version;return delete c[a],{id:a,version:b}});a.concat((0,X.arrayFrom)(Object.values(c),function(a){a=a.badgeAttr;return{id:a.id,version:a.version}}));var b=F.eventTrackData[Q.cacheGet](F.aptrinsicIdParam),d={};Object.assign(d,F.eventTrackData[Q.cacheGetAll]());(0,I.addCacheBuster)(d);d=H.refreshBadgeEndpoint+"?"+(0,I.convert2Parameters)((0,I.addParameters)(d,[]));
U.AjaxUtil.postData(d,{sdkBadges:a,aptrinsicId:b},void 0,w,null,!0)}}function x(a,c){var b=H.badgeTrackEndpoint,d=[],d=(0,I.addParameters)(F.eventTrackData[Q.cacheGetAll](),d);(0,I.addParameters)({ei:a.engagementId,ecoi:a.badgeSettings.deviceContentId||null,evi:a.badgeSettings.matchEventId||null,acci:c,exi:a.executionId,ext:(new Date).getTime(),at:"b",bi:a.badgeSettings.id},d);var e=(0,ba.getGlobalContext)();e&&(0,I.addParameters)({gcx:JSON.stringify(e)},d);b+="?"+(0,I.convert2Parameters)(d);U.AjaxUtil.getData(b)}
function A(a){v(a);g(na);var c=F.eventTrackData[Q.cacheGet](F.sessionIdParam);D["default"].storeBadges(c,a);h(a)}function B(){(0,H.isIframe)()||W||(W=setInterval(function(){0===D["default"].getAllBadgesInIframes().length?(clearInterval(W),W=null,y()):(0,N.getRegisteredIframes)().forEach(function(a){var c=a.iframeId,b=a.iframe;if(0<D["default"].getBadgesOfIframe(c).length){if(b.closed)return void z(c);Y["default"].getBadgesLocations(a,function(c){c=C(c,1)[0];var b=a.domElement;c.badges.forEach(function(a){var c=
V[a.id];if(c){var d=document.getElementById("apt-"+a.id),e=c.getTooltip(),d=(0,I.isElementInIframeVisible)(a.rect,b,d),e=!(!e||!e.state.isVisible)&&(0,I.isElementInIframeVisible)(a.rect,b,e.popper);oa(c,null,{rect:a.rect,isVisible:a.isVisible&&(d||e),pageYOffset:window.pageYOffset})}});0===c.badges.length&&z(a.iframeId)})}})},250))}function y(){(0,N.getRegisteredIframes)().forEach(function(a){z(a.iframeId)})}function c(a){Y["default"].setBadgeObserver(a);e()}function E(a){V[a]&&(V[a].destroy(),delete V[a])}
function z(a){D["default"].getBadgesOfIframe(a).forEach(function(a){E(a);D["default"].removeBadgeFromIframe(a)});ga.forEach(function(a){var c=a.badgeSettings.id;V[c]||(a=ha(a.badgeSettings))&&(V[c]=a)})}function J(){(0,N.getRegisteredIframes)().forEach(Y["default"].setBadgeObserver);K.internalEventListener.addListener("IFRAME_REGISTERED",c)}function G(){(0,N.getRegisteredIframes)().forEach(Y["default"].unsetBadgeObserver);K.internalEventListener.removeListener("IFRAME_REGISTERED",c)}Object.defineProperty(a,
"__esModule",{value:!0});a.badgeIframeHelper=void 0;var C=function(){return function(a,c){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var b=[],d=!0,e=!1,g=void 0;try{for(var h,k=a[Symbol.iterator]();!(d=(h=k.next()).done)&&(b.push(h.value),!c||b.length!==c);d=!0);}catch(q){e=!0,g=q}finally{try{!d&&k["return"]&&k["return"]()}finally{if(e)throw g;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),O=function(){function a(c,b){for(var d=0;d<b.length;d++){var e=
b[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(c,e.key,e)}}return function(c,b,d){return b&&a(c.prototype,b),d&&a(c,d),c}}();a.removeBadgeObserver=function(){fa.disconnect();K.internalEventListener.removeListener("pageview",p)};a.addBadgeObserver=g;a.drawBadges=h;a.removeBadge=q;a.setBadgeObserverForRegisteredIframes=J;a.unsetBadgeObserverForRegisteredIframes=G;a.updateBadgesFromIframe=function(a,c){c.forEach(function(c){var b=c.id;c=c.isExist;
(D["default"].addBadgeToIframe(a,b),c)?V[b]||(c=ga.find(function(a){return a.badgeSettings.id===b}))&&(c=ha(c.badgeSettings))&&(V[b]=c):E(b)});var b=D["default"].getAllBadgesInIframes(),d=0<D["default"].getAllBadgesInIframes().length;0===c.length&&0<D["default"].getBadgesOfIframe(a).length&&z(a);ga.forEach(function(a){var c=a.badgeSettings.id;-1===b.indexOf(c)&&(V[c]?(a=wa(),!V[c].target&&a(V[c])):(a=ha(a.badgeSettings))&&(V[c]=a))});d?B():(clearInterval(W),W=null,y())};l=b(82);var D=n(l),F=b(4),
Q=b(8),S=b(83),L=b(2),T=b(9),H=b(1),U=b(13),K=b(11);l=b(20);var Y=n(l);l=b(49);var P=n(l),N=b(5),I=b(0),R=b(67),X=b(10),ea=b(36),ca=b(7),ba=b(23),Z=b(42),la=b(84),V={},fa=void 0,ga=[],ka=void 0,pa=void 0,ha=function(a,c,b,d){var e=F.eventTrackData[Q.cacheGet](F.sessionIdParam);c=c||new S.Badge(a);c.setIsDarkMode(a.isDarkTheme);var g=void 0,h=D["default"].getIsPreview();if(!h){var k=a.id;if(!k)return void L.logger.log("renderBadge got wrong badge id: "+k);if(!(g=D["default"].fetchBadges(e).filter(function(a){return a.badgeSettings.id===
k})[0]))return void L.logger.log(Error("No badge found in store while expecting to get badge id "+k))}if(d&&c.updateTargetData(b,d),c.render(),!h&&c.isRendered&&!g.wasViewed){g.wasViewed=!0;D["default"].storeBadge(e,g);try{x(g)}catch(q){L.logger.logInternalError(q,"Error during tracking badge view "+c)}}return c},oa=function(a,c,b){if(!a)return void L.logger.log("update badge was called with undefined "+a);b?a.isRendered?a.targetData.rect.top===b.rect.top&&a.targetData.rect.bottom===b.rect.bottom&&
a.targetData.rect.left===b.rect.left&&a.targetData.rect.right===b.rect.right&&a.targetData.rect.height===b.rect.height&&a.targetData.rect.width===b.rect.width&&a.targetData.isVisible===b.isVisible&&a.targetData.pageYOffset===b.pageYOffset||(a.updateTargetData(c,b),a.scheduleUpdatePopper()):ha(a.badgeAttr,a,c,b):a.isRendered?a.scheduleUpdatePopper():f(a.badgeAttr,a)},na=function(a){return a.forEach(function(a){return oa(a)})},wa=function(){var a=r();return(0,I.debounce)(function(a){oa(a)},a)},qa={attributes:!0,
childList:!0,subtree:!0,attributeFilter:["style","class"]},da=function(){var a=r();return(0,I.debounce)(e,a)};b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return O(a,null,[{key:"init",value:function(){if((0,H.getConfig)("enableBadge")&&!(0,H.isIframe)()){setInterval(t,6E4*(0,H.getConfig)("badgeRefreshInterval"));var a=F.eventTrackData[Q.cacheGet](F.sessionIdParam),a=D["default"].fetchBadges(a);1>a.length||((0,ca.addStyleTag)((0,H.getBody)(),
".apt-badge.apt-badge--hidden {\n\t\t\t\tdisplay: none;\n\t\t\t}"),ga=a,g(na),(0,T.addDOMReadyListener)(h,a))}}},{key:"addBadges",value:function(a){try{!Array.isArray(a)||1>a.length||(0,Z.encryptBadgeListSelectors)(a).then(A)["catch"](function(c){L.logger.logInternalError(c,"Error in addBadges with encryption");A(a)})}catch(c){L.logger.logInternalError(c)}}},{key:"removeAllBadges",value:function(){var a=F.eventTrackData[Q.cacheGet](F.sessionIdParam),c=D["default"].fetchBadges(a);(0,I.isNotEmptyArr)(c)&&
(0,X.arrayFrom)(c).forEach(function(a){q(a.badgeSettings.id,c)});D["default"].storeBadges(a,c,!0);D["default"].clearAll()}}]),a}();a["default"]=b;var W=void 0;a.badgeIframeHelper=new function(){var a={};this.removeBadgeFromBadgesList=function(c){delete V[c];delete a[c];ga=Object.values(a)};this.addBadgeToBadgesList=function(c){void 0!==V[c.id]&&void 0!==a[c.id]||(V[c.id]=c,a[c.id]=c,ga=Object.values(a),m())};this.getRenderedBadges=function(){return V};this.getBadgesWithLocations=function(){return Object.values(V).map(function(a){var c=
a.elementSelector,b=c.matchCssSelector,d=c.selector,e=c.cssSelector,g=c.matchTextRule,h=c.textRule,c=c.htmlTextRule||JSON.parse(h)||{},b={matchCssSelector:b,cssSelector:d||e,matchTextRule:g,textRuleOperator:c.operator,textRuleValues:c.values},b=(0,ca.findElementInWindow)(b,(0,H.getBody)(),!1),d=void 0;b?(d=b.getBoundingClientRect(),b=(0,I.isElementVisible)(b,!0),d=Object.assign({},a,{rect:d,isVisible:b,isExist:!0})):d=Object.assign({},a,{rect:{},isVisible:!1,isExist:!1});return d})}}},function(l,
a,b){function n(a){return-1<["TOOLTIP","HOTSPOT"].indexOf(a)}function f(a){return n(a.type)&&a.elementSelector||"DIALOG"===a.type&&("BAR"===a.dialogViewType&&a.barPosition||a.positionHorizontal&&a.positionVertical)}function r(a,b){var d=void 0,e=a.guideBranching;if(e){var g=e.branchConditionList;g&&0<g.length&&(d=e.branchConditionList.find(b).nextStepId)}return d}function p(){return(0,k.getConfig)("useSessionStorageForRedirect")||window.aptrinsic&&window.aptrinsic.c&&window.aptrinsic.c.useSessionStorageForRedirect}
Object.defineProperty(a,"__esModule",{value:!0});a.GuideQueryParms=void 0;a.isMappedStepType=n;a.isStepLinked=f;a.getLinkedStepFromIndex=function(a,b){for(var d=b,e=a[d];d<a.length&&!f(e);)e=a[++d];return{step:e,index:d}};a.getPrevLinkedStepFromIndex=function(a,b){for(var d=b,e=a[d];-1<d&&!f(e);)e=a[--d];return{step:e,index:d}};a.getNextStepIdByCondition=r;a.getBranchNextStepIdForCustomButton=function(a,b,d){return r(a[b],function(a){return a.elementId===d&&"CUSTOM_BUTTON"===a.type})};a.getNextStepForNavigation=
function(a,b,d){d=(d=a[d])?d.id:"";return r(a[b],function(a){return"STANDARD_NAVIGATION"===a.type})||d};a.getBranchingSkipToStepId=function(a,b){return r(a[b],function(a){return"TOOLTIP_NOT_FOUND"===a.type})};a.hasGuideBranching=function(a){return a.guideBranching&&a.guideBranching.branchConditionList&&0<a.guideBranching.branchConditionList.length};a.isLastStep=function(a,b,d){if(a){a=d>=a.length||1===a.length;d=b.navigation.nextButtonAction===u.END_GUIDE;var e=!1,g=!1;b.customAction&&0<b.customAction.length&&
b.customAction.forEach(function(a){a.actionConfigs?a.actionConfigs.forEach(function(a){a.actionType===u.NAVIGATION&&(a.navigationType!==u.GO_TO_STEP&&a.navigationType!==u.NEXT||(g=!0),a.navigationType===u.END&&(e=!0))}):g=!0});b=b.navigation.showNavigation||void 0===b.navigation.showNavigation;return a||d||e||!b&&!g}return!1};a.addClickListener=function(a,b,d){(0,k.getConfig)("elementClickToPointer")?((0,m.addEventListener)(a,"pointerdown",d),(0,m.addEventListener)(a,"pointerup",b)):(0,m.addEventListener)(a,
"click",b)};a.removeClickListener=function(a,b,d){(0,k.getConfig)("elementClickToPointer")?((0,m.removeEventListener)(a,"pointerdown",d),(0,m.removeEventListener)(a,"pointerup",b)):(0,m.removeEventListener)(a,"click",b)};a.buildHotspotStyle=function(a){var b=a.hotspotSettings,d=e.eventTrackData[g.cacheGet](e.productIdParameter)&&e.eventTrackData[g.cacheGet](e.productIdParameter).startsWith("AP-WVMZ1DVKRDJD"),h=".apt-hotspot-dynamic {",k=".apt-hotspot-dynamic:before {";a=a.zIndex||a.zindex;return d&&
(a=9E3),a=isNaN(a)||null===a?2147483647:a,h+="z-index: "+a+";",k+="z-index: "+a+";",h+="background-color: "+b.spotColor+";",k+="box-shadow: 0px 0px 2px 2px "+b.animationColor+";",h+="height: "+b.spotSize+"px; width: "+b.spotSize+"px;",k+="height: "+b.spotSize+"px; width: "+b.spotSize+"px;",k+="animation:apt-hotspot-active "+b.animationDuration+"ms "+(b.animationCount?b.animationCount:"infinite")+" linear; animation-delay: "+(b.animationDelay?b.animationDelay:"0")+"ms;",h+="}",k+="}",h+" "+k};a.canUseSessionStorageForRedirect=
p;a.getAptShowGuideParam=function(){var a=(p()?v.get():{}).aptShowGuide;return(0,m.getQueryParam)("aptShowGuide")||a||h.getGuideStateValue("apt.guideId")};a.removeStyleAttributesFromHTML=function(a){return a.replace(/style\s*=\s*"[^"]*"/gi,"")};a.replaceStepIdPlaceholder=function(a,b){try{var e=document.createElement("div");e.innerHTML=b;var g=e.querySelector(".px-step-style-tag-csp");return g.textContent=g.textContent.replace(/PX_STEP_ID_PLACEHOLDER/g,a),e.innerHTML}catch(h){return d.logger.log("replaceStepIdPlaceholder - Error while replacing step id placeholder in html",
h),b}};a.canUseHistoryReplaceState=function(){var a=!!e.windowRef.angular||!!e.windowRef.getAngularTestability||!!e.windowRef.getAllAngularRootElements;return(0,k.getConfig)("queryParamsInHash")&&a};a.redirect=function(a,b,d,g){var h=(0,k.getConfig)("supportAutoHashChangeDetection")&&(0,m.isOnlyHashChanged)(e.windowRef.location.href,a);d&&!h?(e.windowRef.history.replaceState({},e.documentRef.title,a),"function"==typeof b&&b()):g?window.open(a,"_blank"):(e.windowRef.location.href=a,h&&"function"==
typeof b&&b())};var u=b(62),k=b(1),m=b(0),e=b(4),g=b(8),d=b(2),h=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);return b["default"]=a,b}(b(31)),v=a.GuideQueryParms={clear:function(){window.sessionStorage.removeItem("px.guide.queryParams")},set:function(a){window.sessionStorage.setItem("px.guide.queryParams",JSON.stringify(a))},get:function(){try{var a=window.sessionStorage.getItem("px.guide.queryParams");return a?JSON.parse(a):
{}}catch(b){return{}}}}},function(l,a,b){function n(a){var b=(0,g.getConfig)("decryptionSelectorKey");if(!b)return Promise.resolve(a);var d=(0,e.getFromEncryptedSelectorCache)(b,a);return d?Promise.resolve(d):(0,e.decryptOrEncryptSelector)(a,e.encrypt).then(function(a){return(0,e.addToEncryptedSelectorCache)(b,a),a})}function f(a){try{if(!(a&&a.badgeSettings&&a.badgeSettings.elementSelector))return Promise.resolve(a);var b=a.badgeSettings.elementSelector;return n(b.cssSelector).then(function(d){return Object.assign({},
a,{badgeSettings:Object.assign({},a.badgeSettings,{elementSelector:Object.assign({},b,{cssSelector:d})})})})["catch"](function(b){return d.logger.logInternalError(b,"Error encrypting selector for badge "+a.id),a})}catch(e){return d.logger.logInternalError(e,"Error encrypting badge selectors for badge "+a.id),Promise.resolve(a)}}function r(a){if(!Array.isArray(a))return Promise.resolve(a);a=a.map(function(a){return a.cssSelector?n(a.cssSelector).then(function(b){return Object.assign({},a,{cssSelector:b})})["catch"](function(b){return d.logger.log('Error encrypting selector "'+
a.cssSelector+'": '+b.message),a}):Promise.resolve(a)});return Promise.all(a)}function p(a){if(!a.mappedElements||!Array.isArray(a.mappedElements))return Promise.resolve(a);var b=a.mappedElements.map(function(a){return a.textElementRules?r(a.textElementRules).then(function(b){return Object.assign({},a,{textElementRules:b})}):Promise.resolve(a)});return Promise.all(b).then(function(b){return Object.assign({},a,{mappedElements:b})})}function u(a,b){return Object.entries(a.attributes).map(function(a){a=
m(a,2);var g=a[0],h=a[1];return null==h||""===h?Promise.resolve([g,h]):(0,e.decrypt)(String(h),b).then(function(a){return[g,a]})["catch"](function(a){return d.logger.log('Error decrypting attribute "'+g+'" with value "'+h+'": '+a.message),[g,h]})})}Object.defineProperty(a,"__esModule",{value:!0});a.getFromEncryptedCache=a.getFromDecryptedCache=void 0;var k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===
Symbol&&a!==Symbol.prototype?"symbol":typeof a},m=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var d=[],e=!0,g=!1,k=void 0;try{for(var f,m=a[Symbol.iterator]();!(e=(f=m.next()).done)&&(d.push(f.value),!b||d.length!==b);e=!0);}catch(p){g=!0,k=p}finally{try{!e&&m["return"]&&m["return"]()}finally{if(g)throw k;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),e=b(172);Object.defineProperty(a,"getFromDecryptedCache",
{enumerable:!0,get:function(){return e.getFromDecryptedCache}});Object.defineProperty(a,"getFromEncryptedCache",{enumerable:!0,get:function(){return e.getFromEncryptedCache}});a.decryptSelector=function(a){var b=(0,g.getConfig)("decryptionSelectorKey");if(!b)return Promise.resolve(a);var d=(0,e.getFromDecryptedSelectorCache)(b,a);return d?Promise.resolve(d):(0,e.decryptOrEncryptSelector)(a,e.decrypt).then(function(a){return(0,e.addToDecryptedSelectorCache)(b,a),a})};a.encryptSelector=n;a.encryptStepsSelectors=
function(a){a=a.map(function(a){var b=Object.assign({},a,{elementSelector:{matchCssSelector:a.matchCssSelector,cssSelector:a.cssSelector,matchTextRule:a.matchTextRule,textRuleOperator:a.textRule&&a.textRule.operator,textRuleValues:a.textRule&&a.textRule.values}});return n(b.elementSelector.cssSelector).then(function(a){return b.cssSelector=a,b.elementSelector.cssSelector=a,b})["catch"](function(a){return d.logger.logInternalError(a,"Error encrypting selector for step "+b.id),b})});return Promise.all(a)};
a.encryptBadgeSelectors=f;a.encryptBadgeListSelectors=function(a){return new Promise(function(b){try{var e=a.map(function(a){return f(a)});Promise.all(e).then(function(a){b(a)})["catch"](function(e){d.logger.logInternalError(e,"Error encrypting badge list selectors");b(a)})}catch(g){d.logger.logInternalError(g,"Error encrypting badge list selectors"),b(a)}})};a.encryptFeatures=function(a){if(!(0,g.getConfig)("decryptionSelectorKey")||!Array.isArray(a))return Promise.resolve(a);a=a.map(function(a){return p(a)});
return Promise.all(a)};a.decryptElementTreeAttributes=function(a){var b=(0,g.getConfig)("decryptionSelectorKey");if(!b||!Array.isArray(a))return Promise.resolve(a);a=a.map(function(a){if(!a.attributes||"object"!==k(a.attributes)||0===Object.keys(a.attributes).length)return Promise.resolve(a);var d=u(a,b);return Promise.all(d).then(function(b){b=Object.fromEntries(b);return Object.assign({},a,{attributes:b})})});return Promise.all(a)};var g=b(1),d=b(2)},function(l,a,b){function n(a){return a&&a.__esModule?
a:{"default":a}}function f(a){var b=a.unresolvedClickPropertyIds,c=a.id;a.iframeList.forEach(function(a){A.resolveClickProperties(a,b,c);(0,u.incrementState)(c)});(0,u.execute)(c,200)}Object.defineProperty(a,"__esModule",{value:!0});a.resolveUnresolvedClickProperties=void 0;var r=b(7),p=b(12),u=b(5);l=b(16);var k=n(l),m=b(14),e=b(0),g=b(1),d=b(29),h=b(19);l=b(69);var v=n(l);l=b(48);var q=n(l),w=b(47),t=b(2),x=b(22),A=new function(){function a(c,b,e){b=u.IframeRequest.getMasterRequst(d.TRACKING_EVENT_TYPES.GET_ELEMENT_TEXT,
{cssSelector:b},e);(0,p.postRequestDown)(b,c)}function b(){return!((0,g.isIframe)()||k["default"].isEditorMode())}this.getElementText=function(c,d,g){if(b()){if(!c)return void g(void 0,d);var h=(0,r.getElementText)(c),k=void 0;if((0,e.isDefinedStr)(h))return void g([h],d);h=m.UUIDGenerator.generateV4Id();(0,u.subscribe)(h,function(a,c){g(a,c)},d);try{var f=(0,u.getRegisteredIframes)();if((0,e.isNotEmptyArr)(f))for(d=0;d<f.length;d++)k=f[d],a(k,c,h),(0,u.incrementState)(h);else g(void 0,d)}catch(q){}}};
this.lead=function(a,d,e,g){b()&&(a=u.IframeRequest.getIframeRequest((0,p.getIframeId)(),"lead",{source:a,email:d,userData:e,formFields:g}),(0,p.postRequest)(a,(0,x.getTopWindow)(),!0))};this.syncFeatureRules=function(a){b()&&(a=u.IframeRequest.getMasterRequst(d.TRACKING_EVENT_TYPES.REGISTER_FEATURE_RULES,{rules:a}),(0,p.propagateDown)(a,(0,u.getRegisteredIframes)()))};this.resolveClickProperties=function(a,d,e){b()&&(d=u.IframeRequest.getMasterRequst("resolveClickProperties",{clickPropertyIds:d},
e,a.iframeId),(0,p.postRequestDown)(d,a))};this.syncTrackingPropertiesMetaData=function(){if(b()){var a=(0,h.getFullUrlMasked)(),d=v["default"].getFeaturesForUrl(a,"click"),e=q["default"].getAllTrackingProperties(),a=u.IframeRequest.getMasterRequst("syncTrackingPropertiesMetaData",{pageUrl:a,clickTrackingFeatures:d,trackingPropertiesMetaData:e});(0,p.propagateDown)(a,(0,u.getRegisteredIframes)())}}};a["default"]=A;a.resolveUnresolvedClickProperties=function(a,b){var c=a.unresolvedClickPropertyIds,
d=a.iframeIdWhereClickHappened;if((0,e.isEmptyArr)(c))return void b({});var g=(0,u.getRegisteredIframes)().filter(function(a){return a.iframeId!==d}),h=m.UUIDGenerator.generateV4Id(),k={};(0,u.subscribe)(h,function(a){a=a.filter(function(a){return!a.error});if((0,e.isEmptyArr)(a))return void b(k);k=(0,w.processUnresolvedProperties)(c,a);b(k)});try{(0,e.isNotEmptyArr)(g)?f({iframeList:g,unresolvedClickPropertyIds:c,id:h}):b(k)}catch(q){t.logger.log("Error resolving unresolved click properties",q)}}},
function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.showMessage=void 0;var n=b(0),f=b(1),r=b(54);r.registerPlugin(b(128));r.defaultOptions.className="vex-theme-os";a.showMessage=function(a,b,k,m,e){var g=m&&m.messageTime||3E3,d=(0,f.getConfig)("framesetMode")?"html":"body";switch(a){case "warning":r.dialog.alert({appendLocation:d,afterOpen:function(){(0,f.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");var a=this;setTimeout(function(){a.close()},g);(0,n.addEventListener)(this.overlayEl,
"click",function(a){a.stopImmediatePropagation()});(0,n.addEventListener)(this.overlayEl,"mousedown",function(a){a.stopImmediatePropagation()});(0,n.addEventListener)(this.overlayEl,"mouseup",function(a){a.stopImmediatePropagation()})},afterClose:function(){(0,f.getBody)().classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-warning",contentClassName:"apt-wrapper",closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon warning" \x3e\x3c/div\x3e\x3cdiv\x3e'+
b+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"});break;case "success":r.dialog.alert({appendLocation:d,afterOpen:function(){(0,f.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");var a=this;setTimeout(function(){a.close()},g);(0,n.addEventListener)(this.overlayEl,"click",function(a){a.stopImmediatePropagation()});(0,n.addEventListener)(this.overlayEl,"mousedown",function(a){a.stopImmediatePropagation()});(0,n.addEventListener)(this.overlayEl,"mouseup",function(a){a.stopImmediatePropagation()})},
afterClose:function(){(0,f.getBody)().classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-success",contentClassName:"apt-wrapper",closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon success" \x3e\x3c/div\x3e\x3cdiv\x3e'+b+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"});break;case "error":r.dialog.alert({appendLocation:d,afterOpen:function(){(0,f.getBody)().classList.add("apt-vex");
this.rootEl.classList.add("apt-vex");var a=this;m&&m.autoHideFalse||setTimeout(function(){a.close();k&&k()},g);(0,n.addEventListener)(this.overlayEl,"click",function(a){a.stopImmediatePropagation()});(0,n.addEventListener)(this.overlayEl,"mousedown",function(a){a.stopImmediatePropagation()});(0,n.addEventListener)(this.overlayEl,"mouseup",function(a){a.stopImmediatePropagation()})},afterClose:function(){(0,f.getBody)().classList.remove("apt-vex")},overlayClassName:"apt-wrapper",className:"apt-wrapper vex-theme-default vex-content-error",
contentClassName:"apt-wrapper",callback:function(a){a&&k&&k()},closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon alert" \x3e\x3c/div\x3e\x3cdiv\x3e'+b+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e"});break;case "confirm":a="apt-wrapper",m&&m.contentClass&&(a+=" "+m.contentClass),r.dialog.buttons.YES.text=m&&m.buttonText||"OK",r.dialog.buttons.NO.text=m&&m.buttonNoText||"Cancel",r.dialog.confirm({appendLocation:d,afterOpen:function(){(0,
f.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");m&&m.showCancel&&this.rootEl.classList.add("apt-confirm-show");this.contentEl.querySelectorAll(".vex-dialog-button").forEach(function(a){(0,n.addEventListener)(a,"mousedown",function(a){a.stopImmediatePropagation()});(0,n.addEventListener)(a,"mouseup",function(a){a.stopImmediatePropagation()})});(0,n.addEventListener)(this.overlayEl,"click",function(a){a.stopImmediatePropagation()});(0,n.addEventListener)(this.overlayEl,"mousedown",
function(a){a.stopImmediatePropagation()});(0,n.addEventListener)(this.overlayEl,"mouseup",function(a){a.stopImmediatePropagation()})},afterClose:function(){(0,f.getBody)().classList.remove("apt-vex")},callback:function(a){a&&"function"==typeof k?k():a||"function"!=typeof e||e()},overlayClassName:"apt-wrapper",contentClassName:a,closeClassName:"apt-wrapper",unsafeMessage:'\x3cdiv\x3e\x3cdiv class\x3d"message-wrapper"\x3e\x3cdiv class\x3d"apt-message-icon alert" src\x3d"images/alert.png"\x3e\x3c/div\x3e\x3cdiv class\x3d"apt-message-text"\x3e'+
b+"\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e",className:"vex-theme-default vex-content-confirm"})}}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.validateComment=function(a,b,r){var p=b.value&&b.value.trim(),u=a.isCommentMandatory&&!p?{valid:!1,message:a.mandatoryValidationText||"Please insert your comment"}:{valid:!0,message:""},k;k=p.length<a.minCommentLength?{valid:!1,message:a.minCharsValidationText?a.minCharsValidationText.replace("%minCommentLength%",a.minCommentLength):"Comment should be minimum "+
a.minCommentLength+" characters"}:{valid:!0,message:""};a=p.length>a.maxCommentLength?{valid:!1,message:a.maxCharsValidationText?a.maxCharsValidationText.replace("%maxCommentLength%",a.maxCommentLength):"Comment can be at most "+a.maxCommentLength+" characters"}:{valid:!0,message:""};return r.innerText=u.message||k.message||a.message,u.valid&&k.valid&&a.valid?(b.classList.remove("error"),r.style.display="none",!0):(b.classList.add("error"),r.style.display="inline-block",!1)}},function(l,a,b){function n(a,
b,e){e=Array.isArray(e)?e:[];var k=!1,k=e.every(function(a){return-1<b.findIndex(function(b){return a===b})});e=b.length===e.length&&k;switch(a){case m.IS:k=e;break;case m.IS_NOT:k=!e;break;case m.IN:break;case m.NOT_IN:k=!k;break;default:k=!0}return k}function f(a,b,h,k){var f=!1;if(k)if("multiValueSelector"===a)f=n(b,h,k);else if("number"===a)switch(a=Number(h[0]),k=Number(k[0]),f=!1,b){case e.EQUALS:f=k===a;break;case e.GREATER_THAN:f=k>a;break;case e.SMALLER_THAN:f=k<a;break;case e.SMALLER_THAN_EQUALS:f=
k<=a;break;case e.GREATER_THAN_EQUALS:f=k>=a;break;case e.BETWEEN:f=k>=a&&k<=Number(h[1]);break;default:f=!1}return f}function r(a,b){var e=a.defaultConditionAction,k=void 0;return a.stepConditionSet.sort(function(a,b){return a.conditionIndex-b.conditionIndex}).forEach(function(a){var e=a.rules.reduce(function(a,e){return a[e.ruleGroupIndex]=b(e),a},{}),e=(0,u["default"])(a.logicalExpression,e);!k&&e&&(k=a.action)}),k||(k=e),k}Object.defineProperty(a,"__esModule",{value:!0});a.setEngagementSessionId=
a.getEngagementSessionId=void 0;a.evaluateSurveyAnswers=f;a.evaluateStepConditionFilter=r;a.evaluateStepConditionFilterForSurvey=function(a,b){return r(a,function(a){return f(a.type,a.operator,a.value,b[a.id])})};var p=b(26),u=(l=b(168))&&l.__esModule?l:{"default":l},k=b(31),m={IS:"is",IN:"in",NOT_IN:"notIn",IS_NOT:"isNot"},e={SMALLER_THAN:"smallerThan",GREATER_THAN:"greaterThan",SMALLER_THAN_EQUALS:"smallerThanEquals",GREATER_THAN_EQUALS:"greaterThanEquals",EQUALS:"equals",BETWEEN:"between"};a.getEngagementSessionId=
function(){var a=(0,k.getGuideStateValue)("apt.engagementSessionId"),b=p.UserData.getSessionId();return a||b};a.setEngagementSessionId=function(a){(0,k.setGuideStateValue)("apt.engagementSessionId",a)}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.resolveUrlProperty=function(a,b){var e=a.urlIgnoreBefore,g=a.urlIgnoreAfter,d=b;if(e){var h=d.indexOf(e);-1!==h&&(d=d.substring(h+e.length))}g&&(e=d.indexOf(g),-1!==e&&(d=d.substring(0,e)));return d===b?"":d};a.resolveQueryParamProperty=
function(a,b){if((0,r.isObjectEmpty)(a)||(0,p.isBlank)(a.parameter))return"";var e=(0,f.url2Location)(b);if((0,r.isObjectEmpty)(e)||(0,p.isBlank)(e.search))return"";var e=e.search.startsWith("?")?e.search.substring(1):e.search,g=a.parameter;return(0,p.isBlank)(g)?"":(e=(0,r.getQueryParamFromString)(e,g),(0,p.isBlank)(e)?"":decodeURIComponent(e))};a.getUniqueTrackingPropertiesIds=function(a){var b=new Set;return a.forEach(function(a){a=a.trackingPropertiesId;(0,p.isNotEmptyArr)(a)&&a.forEach(function(a){return b.add(a)})}),
Array.from(b)};a.processUnresolvedProperties=function(a,b){return a.reduce(function(a,g){a[g]="";var d=b.find(function(a){a=a.resolvedProperties;return!(0,r.isNullOrUndefined)(a[g])&&""!==a[g]});return d&&(a[g]=d.resolvedProperties[g]),a},{})};a.isClickPropertyType=function(a){return a===n.TRACKING_PROPERTY_TYPES.CLICK};a.isOOBPropertyType=function(a){return a===n.TRACKING_PROPERTY_TYPES.OOB};a.getMatchedClickFeatures=function(a,b){return a.filter(function(a){return a.allMappedElements.some(function(a){return(0,
u.elementMatchesForTrackingFeatureRule)(a,b)})})};a.isServerSideOOBProperty=function(a){return n.SERVER_SIDE_OOB_PROPERTIES.has(a)};var n=b(6),f=b(9),r=b(0),p=b(15),u=b(99)},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function a(b,e){for(var g=0;g<e.length;g++){var k=e[g];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(b,k.key,k)}}return function(b,e,k){return e&&a(b.prototype,e),k&&a(b,k),b}}(),f=b(7),r=b(47),
p=b(25),u=b(15),k=b(0),m=b(6),e=b(119);l=new (function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.trackingProperties=[];this.trackingPropertiesMap={};this.oobDetails={}}return n(a,[{key:"setOOBDetails",value:function(a){this.oobDetails=a}},{key:"setTrackingPropertiesMetaData",value:function(a){var b=this;this.trackingProperties=a;a.forEach(function(a){b.trackingPropertiesMap[a.id]=a})}},{key:"resolveTrackingPropertiesByIds",value:function(a,
b){var e=this;return a.reduce(function(a,d){var g=e.trackingPropertiesMap[d],f=e.resolveProperty(g,b);return a.resolvedTrackingProperties[d]=f,!(0,k.isObjectEmpty)(g)&&(0,r.isClickPropertyType)(g.propertyType)&&!f&&a.unresolvedClickPropertyIds.push(d),a},{unresolvedClickPropertyIds:[],resolvedTrackingProperties:{}})}},{key:"resolveTrackingPropertyForPreview",value:function(a,b){var g=this;return new Promise(function(k){var f=g.resolveProperty(a,b),m=(0,r.isOOBPropertyType)(a.propertyType),p=(0,r.isClickPropertyType)(a.propertyType)&&
""===f;m&&(f="");p?(0,e.resolveClickPropertyFromIframes)({property:a}).then(function(a){k(String(a))}):k(String(f))})}},{key:"resolveProperty",value:function(b,e){if((0,k.isObjectEmpty)(b))return"";var f="";switch(b.propertyType){case m.TRACKING_PROPERTY_TYPES.PAGE:f=a.resolvePageProperty(b,e);break;case m.TRACKING_PROPERTY_TYPES.CLICK:f=a.resolveClickProperty(b);break;case m.TRACKING_PROPERTY_TYPES.JS_FUNC:f=a.resolveAdvancedJsProperty(b);break;case m.TRACKING_PROPERTY_TYPES.OOB:f=this.resolveOOBProperty(b);
break;default:f=""}return(0,k.cleanPropertyValue)(f)}},{key:"resolveOOBProperty",value:function(a){if((0,r.isServerSideOOBProperty)(a.name))return m.OOB_PROPERTY_VALUE;switch(a.name){case m.CLIENT_SIDE_OOB_PROPERTIES_MAP.SCREEN_HEIGHT:return this.oobDetails.screenHeight;case m.CLIENT_SIDE_OOB_PROPERTIES_MAP.SCREEN_WIDTH:return this.oobDetails.screenWidth;case m.CLIENT_SIDE_OOB_PROPERTIES_MAP.URL_PAGE_TITLE:return this.oobDetails.urlPageTitle;case m.CLIENT_SIDE_OOB_PROPERTIES_MAP.URL_SCHEMA:return this.oobDetails.urlSchema;
case m.CLIENT_SIDE_OOB_PROPERTIES_MAP.URL_REFERRER:return this.oobDetails.urlReferrer;default:return""}}},{key:"resolveClickProperties",value:function(a){var b=this,e={};return a.forEach(function(a){var d=b.trackingPropertiesMap[a];(0,r.isClickPropertyType)(d.propertyType)?e[a]=b.resolveProperty(d):e[a]=""}),e}},{key:"getAllTrackingProperties",value:function(){return this.trackingProperties}}],[{key:"resolveAdvancedJsProperty",value:function(a){if((0,k.isObjectEmpty)(a.jsFuncDetails))return"";a=a.jsFuncDetails;
if((0,u.isBlank)(a.javascriptObject))return"";a=String(a.javascriptObject).trim();var b=null,e="";if(a.startsWith(m.WINDOW_BASE))b=window,e=a.slice(m.WINDOW_BASE.length);else{if(!a.startsWith(m.DOCUMENT_BASE))return"";b=document;e=a.slice(m.DOCUMENT_BASE.length)}if((0,u.isBlank)(e)||(0,k.isNullOrUndefined)(e))return"";a=(0,p.resolveNestedProperty)(b,e);return(0,k.isNullOrUndefined)(a)?"":a}},{key:"resolveClickProperty",value:function(a){if((0,k.isObjectEmpty)(a.clickDetails))return"";a=a.clickDetails;
if((0,u.isBlank)(a.selectorText)||(0,u.isBlank)(a.selectorValue))return"";var b=a.selectorText;a=a.selectorValue;b=(0,f.findElementInWindow)({matchCssSelector:!0,cssSelector:b},document,!1);if(!b)return"";var e="";a in b?(a=b[a],e=(0,k.isNullOrUndefined)(a)?"":a):e=b.getAttribute(a)||"";return e}},{key:"resolvePageProperty",value:function(a,b){if((0,k.isObjectEmpty)(a.pageDetails))return"";var e="",e=a.pageDetails;switch(e.pagePropertyType){case m.PAGE_TRACKING_PROPERTY_TYPES.URL:e=(0,r.resolveUrlProperty)(e,
b);break;case m.PAGE_TRACKING_PROPERTY_TYPES.QUERY_PARAMETER:case m.PAGE_TRACKING_PROPERTY_TYPES.UTM_PARAMETER:e=(0,r.resolveQueryParamProperty)(e,b);break;default:e=""}return e}}]),a}());a["default"]=l},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=b(1),f=b(12),r=b(5),p=b(14),u=b(29),k=b(0),m=b(22);l=new function(){(0,n.isIframe)()&&(this.associateParent=function(a){a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"associateParent",null,a);(0,f.postRequest)(a,window.parent,
!0)},this.guideElementSelected=function(a,b){var d=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"guide",{type:"elementSelected",cssSelector:a,elementText:b});(0,f.postRequest)(d,(0,m.getTopWindow)(),!0)},this.guideElementSelectedForEditorV2=function(a,b){var d=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"guide",{type:"elementSelectedForEditorV2",cssSelector:a,elementText:b});(0,f.postRequest)(d,(0,m.getTopWindow)(),!0)},this.getGuide=function(){var a=r.IframeRequest.getIframeRequest((0,
f.getIframeId)(),"guide",{type:"get"});(0,f.postRequest)(a,(0,m.getTopWindow)(),!0)},this.guideElementNotVisible=function(){},this.selectElementInProductMapper=function(a){(0,f.postRequest)(r.IframeRequest.getIframeRequest({aptrinsicEventType:"element_selector_document_click",content:{selector:a},aptrinsicIframeId:(0,f.getIframeId)()}),(0,m.getTopWindow)())},this.showNextStep=function(a,b){var d=r.IframeRequest.getIframeRequest({aptrinsicEventType:"apt_msg_show_next_step",content:{stepId:a,stepSelector:b},
aptrinsicIframeId:(0,f.getIframeId)()});(0,f.postRequest)(d,(0,m.getTopWindow)(),!0)},this.updateContent=function(a){a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"guide",{type:"updateLastContent",content:a});(0,f.postRequest)(a,(0,m.getTopWindow)(),!0)},this.setSelectorState=function(a){a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"guide",{type:"updateSelectorState",state:a});(0,f.postRequest)(a,(0,m.getTopWindow)(),!0)},this.selectorIconClicked=function(a,b){var d=r.IframeRequest.getIframeRequest((0,
f.getIframeId)(),"guide",{type:"iconClicked",state:a,extraData:b});(0,f.postRequest)(d,(0,m.getTopWindow)(),!0)},this.broadcastElementRect=function(a,b){var d=Object.assign({},a),h=window.parent===(0,m.getTopWindow)()?u.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT_PARENT:u.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT,d=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),h,{elementRect:d},b);(0,f.postRequest)(d,window.parent,!0)},this.broadcastUpBadgesLocation=function(a,b){var d=window.parent===(0,m.getTopWindow)()?
u.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_RESPONSE:u.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_PARENT_IFRAME,d=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),d,{prevIframeId:(0,f.getIframeId)(),badges:a},b);(0,f.postRequest)(d,window.parent,!0)},this.broadcastBadgesStatuses=function(a){var b=p.UUIDGenerator.generateV4Id();a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"apt_msg_badge_post_status",{badges:a},b);(0,f.postRequest)(a,(0,m.getTopWindow)(),!0)},this.sendElementResponse=
function(a,b,d,h,v){a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"elementExistResult",{exist:!!a,isVisible:b,count:d,attributes:v},h);v=v?(0,k.getCircularReplacer)():void 0;(0,f.postRequest)(a,(0,m.getTopWindow)(),!0,v)},this.guideLinkedElementClicked=function(a){a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"apt-msg-element-clicked",{},a);(0,f.postRequest)(a,(0,m.getTopWindow)(),!0)},this.guideExternalElementClicked=function(a){a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),
"apt-msg-external-element-clicked",{},a);(0,f.postRequest)(a,(0,m.getTopWindow)(),!0)},this.isElementVisibleResponse=function(a,b){var d=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"guide",{type:"isElementVisibleResponse",isVisible:b},a);(0,f.postRequest)(d,(0,m.getTopWindow)(),!0)},this.getMapperState=function(a){(0,f.iframeSubscribeCallback)("guide",{type:"getState"},a)},this.getMapperStateForEditorV2=function(a){(0,f.iframeSubscribeCallback)("guide",{type:"getMapperStateForEditorV2"},
a)},this.getAlternateSelectorResponse=function(a,b){var d=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"guide",{type:"alternateSelectorResponse",alternateSelector:b},a);(0,f.postRequest)(d,(0,m.getTopWindow)(),!0)},this.postDifferentSelectorResponse=function(a,b){var d=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"guide",{type:"differentSelectorResponse",selectors:b},a);(0,f.postRequest)(d,(0,m.getTopWindow)(),!0)})};a["default"]=l},function(l,a,b){function n(a){return a&&a.__esModule?
a:{"default":a}}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function r(){T.internalEventListener.dispatchEvent(ea.GLOBAL_CONTEXT_CHANGED,(0,ca.getGlobalContext)())}function p(){(0,Q.getIsNewAPI)()?(0,U.removeWidget)():(0,K.removeWidget)()}function u(a){var b={};if((0,z.isObject)(a)){var c={},d;for(d in a)a.hasOwnProperty(d)&&(-1==wa.indexOf(d)?c[d]=a[d]:b[d]=a[d]);b.customAttributes=c}return b}function k(){(0,w.isIframe)()||(h.UserData.ensureUserData(),
q.eventTrackData[t.cacheSet](q.userIdParameter,h.UserData.getUserId()),q.eventTrackData[t.cacheSet](q.sessionIdParam,h.UserData.getSessionId()),q.eventTrackData[t.cacheSet]("ai",h.UserData.getAptrinisId()),q.eventTrackData[t.cacheSet]("vt",h.UserData.getUserType()))}function m(a){try{h.UserData.changeUserType(h.UserData.userType()),h.UserData.setAptrinsicId(a.ai)?sa.trackEvent("sessionInitialized",null,function(){(0,C.identifyFinished)()}):(0,C.identifyFinished)()}catch(b){y.logger.logInternalError(b,
"failed to run identify call back for response")}}function e(a,b){if(a){if(b&&(0,B.setEngagementSessionId)(b),!(0,I.isExcluded)()&&!G["default"].isEditorMode()&&(0,w.getConfig)("enableBadge")){var c=a.badgeData;try{c&&S["default"].addBadges(c.badges)}catch(d){y.logger.logInternalError(d)}}var c=a.engagement,e=Array.isArray(c);(e&&0<c.length||!e&&c)&&(da=!0,ha=!1);try{A.EngagementDrawer.draw(c)}catch(d){y.logger.logInternalError(d)}}}Object.defineProperty(a,"__esModule",{value:!0});a.identifyCallback=
a.startEngagementBatch=a.externalApi=a.api=void 0;var g=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,g=void 0;try{for(var h,k=a[Symbol.iterator]();!(d=(h=k.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(f){e=!0,g=f}finally{try{!d&&k["return"]&&k["return"]()}finally{if(e)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),d=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=
c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=b(26),v=b(102),q=b(4),w=b(1),t=b(8),x=b(13),A=b(52),B=b(46),y=b(2),c=b(9);l=b(116);var E=n(l),z=b(0),J=b(158);l=b(16);var G=n(l),C=b(27);l=b(51);var O=n(l);l=b(109);var D=n(l),F=b(10),Q=b(34);l=b(40);var S=n(l),L=b(103),T=b(11),H=b(30),U=b(59),K=b(81),Y=b(35),P=b(118),N=b(78),I=b(19),R=b(68),X=b(21),ea=b(6),ca=b(23),
ba=b(33),Z=b(42),la=b(15);l=b(104);var V=n(l),fa=b(43),ga=b(5),ka=0,pa=0,ha=!1,oa=void 0,na=["click","linkClick"],wa="id name trackedSubscriptionId industry numberOfEmployees sicCode website naicsCode plan countryCode countryName stateCode stateName city street continent postalCode regionName timeZone latitude longitude sfdcId parentGroupId".split(" "),qa="identify linkClick LINK_CLICK ENGAGEMENT_DRAWN engagementDrawn engagementView engagementClosed engagementCompleted engagementViewedStep engagementPostRender surveyResponded SURVEY_CLOSED surveyClosed kcSearch articleView kcOpened kcClosed engagementLinkClick engagementResize customButtonClick CUSTOM_BUTTON_CLICK kcTriggered".split(" "),
da=!1,W=function db(a,b,c,d){var e=(d||0)+1;try{if((0,w.getConfig)("enableTag")&&!da){b||(da=!1);var g=(new Date).getTime(),h=(0,w.getConfig)("maxEngagementCalls");if(a>h)return y.logger.log("sent "+h+" engagement calls, not calling again"),ha=!1,oa=void 0,void T.internalEventListener.dispatchEvent("ENGAGEMENT_FETCH");var k=(0,w.getConfig)("engagementCallDelay");if(g-pa<k||g-ka<k||(0,C.isInIdentify)())return void setTimeout(function(){db(a,!0,c,e)},0===ka?k:k-(g-ka));ya.get("engagement",c);ka=g;db(a+
1,!0,c,e)}}catch(f){y.logger.logInternalError(f)}},ta=function Ya(a){try{if((0,w.getConfig)("enableTag")&&!(0,H.hasLiveEngagement)()){var b=!(0,z.isObjectEmpty)(a)&&a.s||void 0,c=(0,w.getConfig)("crossProductEngagement")&&!!q.windowRef.sessionStorage.getItem("apt.localCache");if(!(0,w.featureEnabled)("engagementPull")||ha||c)return b&&oa!==b&&T.internalEventListener.addListener("ENGAGEMENT_FETCH",Ya,void 0,!1,!0),void y.logger.log("we have another engagement batch already running");ha=!0;b&&(oa=b);
da=!1;W(1,null,a,0)}}catch(d){y.logger.logInternalError(d)}},sa=a.api=function(){function a(){f(this,a)}return d(a,null,[{key:"trackEvent",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:void 0,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:void 0,f=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],m=5<arguments.length&&void 0!==arguments[5]?arguments[5]:void 0,v=void 0;b&&b.targetElement&&
(v=b.targetElement,delete b.targetElement);var p={};try{if((0,w.getConfig)("enableTag")&&(0,X.getChannel)(q.eventTrackData[t.cacheGet](q.productIdParameter))!=ea.DESKTOP_CHANNEL&&!("identify"!==a&&(0,I.isExcluded)()||G["default"].isEditorMode())){var u="sessionInitialized"!==a&&!(0,w.isIframe)();if(-1<na.indexOf(a)&&D["default"].try2Match(),f&&k(),"signup"===a&&2>arguments.length)throw Error("sign up event must contain event properties");!(0,w.isIframe)()&&Object.assign(p,q.eventTrackData[t.cacheGetAll]());
(0,w.isIframe)()||0!==p[q.aptrinsicIdParam].indexOf("AP-")||p[q.aptrinsicIdParam]===p[q.userIdParameter]||y.logger.logInternalError(Error("visitor id does not match aptrinsic id for command"),"current cookies: "+ba.Cookie.getCookiesRaw());var r=(0,z.getWindowLocation)(),n=r.protocol+"//",l=r.host,qa=r.pathname,A=r.search,C=q.documentRef.title,E=r.hash,B=q.documentRef.referrer;if("pageview"===a&&b){if(b.url)var Q=(0,c.url2Location)(b.url),n=Q.protocol,l=Q.host,qa=Q.pathname,A=Q.search,E=Q.hash;C=b.title||
C;B=b.referrer||B;qa=b.path||qa;!(0,w.isIframe)()&&(b=void 0)}var f=void 0,J=(0,I.maskUrl)(n,l,qa,A,E,B,C),da=g(J,7),n=da[0],l=da[1],qa=da[2],A=da[3],E=da[4],f=da[5],C=da[6],W=(0,c.getPageHeight)(),Y=(0,c.getPageWidth)(),B={urlPageTitle:C,urlSchema:n,urlReferrer:f,screenHeight:W,screenWidth:Y},S=(0,V["default"])({properties:b,eventType:a,targetElement:v,oobDetails:B}),P=S.iframeIdWhereClickHappened,K=S.unresolvedClickPropertyIds,N=S.resolvedTrackingProperties;Object.assign(p,{et:a,rf:f,sc:n,ho:l,
pa:decodeURIComponent(qa),q:decodeURIComponent(A),ha:decodeURIComponent(E),sch:W,scw:Y,pt:C});e&&Object.assign(p,{cet:e});var ka=(0,ca.getGlobalContext)();if((ka||m)&&(b||(b={})),p=(0,L.addFullStoryInfo)(p),(0,z.isObject)(b)&&!(0,w.isIframe)())"feature"==a?b=b.featureMatches?{fmf:b.featureMatches}:{fmf:[{id:b.id,femr:!0}]}:"custom"===a&&(b={epr:b}),v={},m&&Object.assign(v,m),ka&&Object.assign(v,ka),!(0,z.isObjectEmpty)(v)&&Object.assign(b,{gco:v}),Object.assign(p,{ep:(0,F.jsonStringify)(b)}),-1<["engagementCompletedClosed",
"engagementDroppedClosed"].indexOf(a)&&Object.assign(p,{ei:b.engagementId});u&&(pa=(new Date).getTime());(0,w.isIframe)()?(N&&(b.resolvedTrackingProperties=N,b.iframeId=(0,la.getIframeId)()),O["default"].track(a,b,e,ka)):(0,fa.resolveUnresolvedClickProperties)({unresolvedClickPropertyIds:K,iframeIdWhereClickHappened:P},function(a){var c=b,e=p,g=N;(g=Object.assign({},g,a),(0,z.isObjectEmpty)(g)||(c.tpj=g,Object.assign(e,{ep:(0,F.jsonStringify)(c)})),(0,z.addCacheBuster)(e),(0,w.getConfig)("usePOST"))?
(a={},a[q.productIdParameter]=e[q.productIdParameter],a.et=e.et,delete e.ep,a=(0,z.convert2Parameters)((0,z.addParameters)(a,[])),a=w.commandEndPointV2+"?"+a,g={},(0,z.isObjectEmpty)(c)||(g.ep=c),x.AjaxUtil.postData(a,Object.assign({},e,g),null,d)):(a=w.commandEndpoint+"?"+(0,z.convert2Parameters)((0,z.addParameters)(e,[])),g="identify"===e.et?(0,w.getConfig)("requestTimeoutCritical"):void 0,2083>=a.length?x.AjaxUtil.getData(a,d,void 0,void 0,void 0,void 0,g):(delete e.ep,a=w.commandEndpoint+"?"+
(0,z.convert2Parameters)((0,z.addParameters)(e,[])),x.AjaxUtil.postData(a,c,null,d,void 0,void 0,void 0,g)))});u&&ta({s:h.UserData.getSessionId()});T.internalEventListener.dispatchEvent(a)}}catch(sa){y.logger.logInternalError(sa,"track: "+a+":"+p)}}},{key:"feedback",value:function(a){try{k();var b=Object.assign({},q.eventTrackData[t.cacheGetAll]());Object.assign(b,(0,I.getWebContext)());b.et="feedback";!(0,z.isBlank)(a.category)&&(b.category=a.category);!(0,z.isBlank)(a.subject)&&(b.subject=a.subject);
!(0,z.isBlank)(a.description)&&(b.description=a.description);(0,z.isNotEmptyArr)(a.labels)&&(b.labels=(0,F.arrayFrom)(a.labels,function(a){return a}));(0,z.addCacheBuster)(b);var c=w.serverEndpoint+"/feedback?"+q.productIdParameter+"\x3d"+q.eventTrackData[t.cacheGet](q.productIdParameter);(0,z.isBlank)(a.kcId)||(c+="\x26kcid\x3d"+a.kcId);x.AjaxUtil.postData(c,b,null,null,null,!0)}catch(d){y.logger.logInternalError(d,"failed to send feedback "+JSON.stringify(a))}}}]),a}(),ya=a.externalApi=function(){function a(){f(this,
a)}return d(a,null,[{key:"getRegisteredIframesList",value:function(){var a=(0,ga.getRegisteredIframes)().map(function(a){return a.iframeId});y.logger.log("registered Iframes list of "+a.length+" -- "+a.join(", "))}},{key:"track",value:function(a,b){try{if((0,w.getConfig)("enableTag")){var c="";if(!a||!(0,z.isString)(a)||""===a.trim())return void y.logger.logInternalError(Error("cannot send custom event without event name: "+a+", properties: "+JSON.stringify(b)));"feature"!==a&&(c=a,a="custom");(0,
z.isObject)(b)&&Object.entries(b).forEach(function(a){var c=g(a,2);a=c[0];c=c[1];(0,z.isString)(c)&&c&&1024<c.length?b[a]=c.substr(0,1024):(0,z.isObject)(c)&&1024<JSON.stringify(c).length&&(b[a]=JSON.stringify(c).substr(0,1024))});C.internalApt.call(null,a,b,null,c)}}catch(d){y.logger.logInternalError(d,"custom event track: "+a+", properties: "+b)}}},{key:"get",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{if((0,w.getConfig)("enableTag")&&!(0,I.isExcluded)()&&
!G["default"].isEditorMode()){var c=null,d=void 0,h=void 0,f={};switch(Object.assign(f,q.eventTrackData[t.cacheGetAll](),b||{}),f=(0,L.addFullStoryInfo)(f),a){case "engagement":k();var c=w.getAllInAppEndpoint,m=(0,z.getUrlParts)(),v=g(m,4),p=v[0],u=v[1],r=v[2],n=v[3],l=(0,I.maskUrl)((0,z.getWindowLocation)().protocol+"//",p,u,r,n,null,null),F=g(l,5),h=F[0],p=F[1],u=F[2],r=F[3],n=F[4];Object.assign(f,{sc:h,ho:p,pa:decodeURIComponent(u),q:decodeURIComponent(r),ha:decodeURIComponent(n)});f.u=""+p+f.pa+
f.q+f.ha;var qa=(0,ca.getGlobalContext)();qa&&Object.assign(f,{gcx:JSON.stringify(qa)});var A=f.s,d=function(a){e(a,A)};break;default:return}(0,z.addCacheBuster)(f);c+="?"+(0,z.convert2Parameters)((0,z.addParameters)(f,[]));x.AjaxUtil.getData(c,function(a){try{d.call(this,a)}catch(b){y.logger.logInternalError(b)}})}}catch(C){y.logger.logInternalError(C)}}},{key:"identify",value:function(b,c,d){try{if((0,w.getConfig)("enableTag")&&(0,w.featureEnabled)("identify")){if((0,z.isObject)(d)){var e=new J.IntegrationMapper(b,
c,d);if(e.mapData()&&(b=e.getUserObj(),c=e.getAccountObj()),e.isSegmentGroupCall())return void a._waitForUserIdentify(b,c)}d={};if((0,z.isBlank)(b.id&&b.id.toString()))throw Error("cannot identify without user id. Current user data: "+JSON.stringify(b));d={};d.usf=(0,v.copyUserFields)(b,c);(0,z.isObject)(c)&&(d.acf=u(c));(0,C.internalApt)("identify",d,m);(0,C.identifyStart)()}}catch(g){y.logger.logInternalError(g)}}},{key:"initWithExternalState",value:function(b,c){h.UserData.setAptrinsicId(c);h.UserData.setSessionId(b);
a.get("engagement")}},{key:"_waitForUserIdentify",value:function(b,c,d){d=d||0;var e=!1;try{e=h.UserData.isUser()}catch(g){}!e&&1500>d?setTimeout(function(){a._waitForUserIdentify(b,c,d+250)},250):a.identify(b,c)}},{key:"account",value:function(a){try{if((0,w.getConfig)("enableTag")&&(y.logger.log("Using the account method is deprecated. Please use the identify method instead."),!(0,I.isExcluded)()&&!G["default"].isEditorMode())){k();var b={};(0,z.isObject)(a)&&(b=u(a));var c=w.accountEndpoint+"?";
a=[];a=(0,z.addParameters)(q.eventTrackData[t.cacheGetAll](),a);a=(0,z.addParameter)("acc",JSON.stringify(b),a);c+=(0,z.convert2Parameters)(a);pa=(new Date).getTime();x.AjaxUtil.getData(c)}}catch(d){y.logger.logInternalError(d)}}},{key:"set",value:function(a,b,c){try{if((0,w.getConfig)("enableTag")){switch(a){case "notification":c=[];c=(0,z.addParameters)(q.eventTrackData[t.cacheGetAll](),c);c=(0,z.addParameter)("ni",b,c);c=(0,z.addParameter)("ns",1,c);var d=w.notificationStateEndpoint+"?"+(0,z.convert2Parameters)(c);
try{var e=q.documentRef.createElement("img");e.width=1;e.hight=1;e.src=d}catch(g){y.logger.logInternalError(g)}break;case "user":(0,v.setUser)(b);break;case "globalContext":q.globalContextCache[t.cacheMerge]("apt.gcx",b);r();break;case "eventListener":-1!==["ENGAGEMENT_DRAWN","SURVEY_CLOSED","engagementDrawn","surveyClosed"].indexOf(b)&&null!==c&&"function"==typeof c&&(q.externalEventListeners[b]=c)}T.internalEventListener.dispatchEvent("set",a)}}catch(g){y.logger.logInternalError(g)}}},{key:"setOnce",
value:function(a,b){try{if((0,w.getConfig)("enableTag"))switch(a){case "globalContext":q.globalContextCache[t.cacheMerge]("apt.gcx",b,!0),r()}}catch(c){y.logger.logInternalError(c)}}},{key:"remove",value:function(a,b){try{if((0,w.getConfig)("enableTag"))switch(a){case "globalContext":var c=(0,ca.getGlobalContext)();(0,z.isNotEmptyArr)(b)&&(b.forEach(function(a){c.hasOwnProperty(a)&&delete c[a]}),q.globalContextCache[t.cacheSet]("apt.gcx",c),r())}}catch(d){y.logger.logInternalError(d)}}},{key:"lead",
value:function(a,b){if((0,w.getConfig)("enableTag")){var c={};(0,z.isObject)(b)&&(c=(0,v.copyUserFields)(b));E["default"].trackLead(a,c)}}},{key:"event",value:function(a,b){try{if((0,w.getConfig)("enableTag")){if(!a)return void y.logger.logInternalError(Error("cannot track custom event from segment without event name: "+a+", event attributes: "+JSON.stringify(b)));this.track(a,b)}}catch(c){y.logger.logInternalError(c,"SEGMENT_EVENT Unable to log "+a)}}},{key:"checklog",value:function(){y.logger.debugMode&&
y.logger.logInternalError(Error("Test log from web-sdk"))}},{key:"pageView",value:function(a){(0,C.internalApt)("pageview",a)}},{key:"send",value:function(a){switch(a){case "feedback":if(2>arguments.length||!(0,z.isObject)(arguments[1]))break;sa.feedback(arguments[1]);break;case "click":if(!(2>arguments.length)&&Array.isArray(arguments[1])){var b=arguments[1];(0,Z.decryptElementTreeAttributes)(b).then(function(a){(0,C.internalApt)("click",{elementTree:a})})["catch"](function(a){y.logger.logInternalError(a,
"Failed to decrypt element tree attributes");(0,C.internalApt)("click",{elementTree:b})})}}}},{key:"bot",value:function(a,b){(0,Q.setIsNewAPI)(!1);var c=(0,Q.getIsNewAPI)(),d="API"===(0,w.getConfig)("fetchKcType"),e=b;switch((0,z.isObject)(e)||(e={}),a){case "search":if(!(0,z.isObject)(b))break;(0,w.setKcConfigByName)("labels",b.labels);Q.KnowledgeCenterManager.updateWidgetConfig();break;case "get":if(!1===c){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");
try{(0,K.fetchKcByApi)(e,!1)}catch(g){y.logger.logInternalError(Error("Bot API - get - "+g))}}break;case "show":if(!1===c){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");try{var h=e,k=h.onError,f=h.onDone;d&&(0,K.toggleKcBot)(!0,f,k)}catch(g){y.logger.logInternalError(Error("Bot API - show - "+g))}}break;case "start":if(!1===c){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");
try{(0,K.fetchKcByApi)(e,!0)}catch(g){y.logger.logInternalError(Error("Bot API - start - "+g))}}break;case "hide":if(!1===c){console.log("The Bot api being used is deprecated, please check the documentation on how to use new Bot 'kcb' api");try{var k=e,h=k.onError,m=k.onDone;d&&(0,K.toggleKcBot)(!1,m,h,!0)}catch(g){y.logger.logInternalError(Error("Bot API - hide - "+g))}}}}},{key:"kcb",value:function(a,b){if((0,Q.setIsNewAPI)(!0),(0,Q.getIsNewAPI)()){var c="API"===(0,w.getConfig)("fetchKcType"),d=
b;switch((0,z.isObject)(d)||(d={}),a){case "open":var e=d.onError,g=d.onDone;try{c?(0,Q.getKcIsShownViaAPI)()?Q.KnowledgeCenterManager.checkIsInitialized()&&(0,U.toggleKcBot)(!0,g,e,!0):((0,Y.addCommandToBotQueue)(function(){(0,U.toggleKcBot)(!0,g,e,!0)}),(0,U.initWidgetForAPI)(!0,e),(0,Q.setKcIsShownViaAPI)(!0)):(0,U.toggleKcBot)(!0,g,e,!0)}catch(h){(0,z.isFunction)(e)&&e({message:"Bot API - error occurred"}),y.logger.logInternalError(Error("Bot API - open - "+h))}break;case "close":c=d.onError;
d=d.onDone;try{(0,U.toggleKcBot)(!1,d,c,!0)}catch(h){(0,z.isFunction)(c)&&c({message:"Bot API - error occurred"}),y.logger.logInternalError(Error("Bot API - close - "+h))}break;case "show":var k=d.onError,f=d.onDone;try{c?((0,Y.addCommandToBotQueue)(function(){(0,Q.setKcIsShownViaAPI)(!0);(0,z.isFunction)(f)&&f()}),(0,U.initWidgetForAPI)(!1,k)):((0,z.isFunction)(k)&&k({message:"Bot API - show is only supported in API mode"}),y.logger.log("Bot API - show is only supported in API mode"))}catch(h){(0,
z.isFunction)(k)&&k("Bot API - error occurred"),y.logger.logInternalError(Error("Bot API - show - "+h))}break;case "hide":var m=d.onError,t=d.onDone;try{if(c){var q=function(){var a=(0,w.getKcConfig)();a&&(0,Y.getIsEmbedded)(a)&&(0,U.removeEmbeddedHanldlers)();(0,U.removeWidget)();(0,Q.setKcIsShownViaAPI)(!1)};(0,U.toggleKcBot)(!1,function(a){a=a.kcId;q();(0,z.isFunction)(t)&&t({id:a})},function(){q();(0,z.isFunction)(m)&&m({message:"An error occurred, could not hide the bot."})},!0)}else(0,z.isFunction)(m)&&
m({message:"Bot API - hide is only supported in API mode"}),y.logger.log("Bot API - hide is only supported in API mode")}catch(h){(0,z.isFunction)(m)&&m({message:"Bot API - error occurred"}),y.logger.logInternalError(Error("Bot API - hide - "+h))}break;case "showArticleById":c=d.articleId;d=d.onError;try{Q.KnowledgeCenterManager.openArticleById(c)}catch(h){(0,z.isFunction)(d)&&d({message:"Bot API - error occurred"}),y.logger.logInternalError(Error("Bot API - showArticleById - "+h))}}}}},{key:"reset",
value:function(){(0,Q.productNeedsExtraLogging)((0,X.getProduct)(q.eventTrackData[t.cacheGet](q.productIdParameter)))&&y.logger.reportToServer("reset called");h.UserData.clearUserData();A.EngagementDrawer.clearEngagements(!0);S["default"].removeAllBadges();p()}},{key:"addListener",value:function(a,b){if(0>qa.indexOf(a))return void y.logger.log("trying to listen to event "+a+" that is not allowed in the API");T.internalEventListener.addListener(a,b,null,!0)}},{key:"config",value:function(a,b,c){void 0!==
b&&("tagKey"===a?b!==q.eventTrackData[t.cacheGet](q.productIdParameter)&&(a={},c&&!(0,z.isObjectEmpty)(c.tagConfig)&&(a=c.tagConfig),(0,w.setCachedConfig)(P.tagConfigKeyName,a),q.windowRef[q.aptrinsicGlobalObjName]=N.aptNotReady,(0,C.appNotReady)(),q.eventTrackData[t.cacheSet](q.productIdParameter,b),h.UserData.clearUserData(),A.EngagementDrawer.clearEngagements(),S["default"].removeAllBadges(),D["default"].clearAll(),p(),(0,P.getServerConfiguration)(!1,b,null,(0,w.getCachedConfig)(P.tagConfigKeyName),
null,function(){(0,w.isIframe)()||(h.UserData.initializeUser(b),q.eventTrackData[t.cacheSet](q.userIdParameter,h.UserData.getUserId()),q.eventTrackData[t.cacheSet]("vt",h.UserData.getUserType()),q.eventTrackData[t.cacheSet]("ai",h.UserData.getAptrinisId()),q.eventTrackData[t.cacheSet](q.sessionIdParam,h.UserData.getSessionId()));(0,C.appReady)();(0,N.aptReady)()})):"enableTag"===a&&((0,w.overrideConfig)({enableTag:b},!1,!0,!0),!1===b&&this.reset()))}},{key:"render",value:function(a,b,c){if("engagement"===
a)try{R.eventCache.setdata("trackingPayload",c),e(b,null)}catch(d){y.logger.logInternalError(d,"failed to draw engagement: "+JSON.stringify(b))}}}]),a}();a.startEngagementBatch=ta;a.identifyCallback=m},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=b(1),f=b(12),r=b(5),p=(l=b(16))&&l.__esModule?l:{"default":l},u=b(58),k=b(22);b=new function(){(0,n.isIframe)()&&!p["default"].isEditorMode()&&((0,u.initIframeSetup)(!0),this.track=function(a,b,g,d){a=r.IframeRequest.getIframeRequest((0,
f.getIframeId)(),"track",{aptrinsicEventType:a,properties:b,customEventName:g,passedGlobalContext:d});(0,f.postRequest)(a,(0,k.getTopWindow)(),!0)},this.lead=function(a,b,g,d){a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"lead",{source:a,email:b,userData:g,formFields:d});(0,f.postRequest)(a,(0,k.getTopWindow)(),!0)},this.textElementResponse=function(a,b){var g=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"fetchElementTextResponse",{text:a},b);(0,f.postRequest)(g,(0,k.getTopWindow)(),
!0)},this.textFeatureMatch=function(a){a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"textFeatureMatches",{featureMatchData:a});(0,f.postRequest)(a,(0,k.getTopWindow)(),!0)},this.clickPropertiesResponse=function(a,b){var g=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),"resolvedClickPropertiesResponse",{resolvedProperties:a},b);(0,f.postRequest)(g,(0,k.getTopWindow)(),!0)})};a["default"]=b},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a,b,d,e){R.setIsDarkMode((0,
t.isDarkTheme)(d.contentTheme));R.playGuide(a,b,function(){(0,c.handleEngagementFinish)(d.content.contentType)},e);m();L.internalEventListener.dispatchEvent("engagementView",(0,J.getExternalEvent)(d,"Viewed"))}function r(a,b,c,d,e){try{var g=void 0,h=void 0,h=(0,J.getEngagementTrackPayload)(a,V.CLICK,c,d),h=(0,t.addParameters)({recId:e||null},h);a=b;return(0,D.getConfig)("storageProxyDomain")&&(a=(0,J.replaceImagesSrcFromHtmlString)(b)),g=D.engagementTrackEndpoint+"?",(0,S.resolveUrlsWithPlaceholdersInHTML)(a,
(0,T.isDesktop)()?null:function(a){a=h.concat((0,t.addParameter)("ru",a));return g+(0,t.convert2Parameters)(a)})}catch(k){B.logger.logInternalError(k)}}function p(a){return(0,c.isLocked)(a)?(B.logger.log("Not displaying engagement of type "+a+" because an engagement of this type already displayed"),!1):((0,c.lockEngagementType)(a),!0)}function u(a,b,c,d,e,g){return{errorType:a,errorSubTypes:e,engagementErrorData:{engagementId:c,engagementType:d,stepId:g},flowType:"ENGAGEMENT",exceptionDetails:b,aptrinsicId:A.eventTrackData.data[A.aptrinsicIdParam]||
null,sessionId:A.eventTrackData.data[A.sessionIdParam]||null}}function k(a,b,c,d){a=u("FAILED_HTML_SANITIZATION",""+b,a.engagementId,a.content.contentType,Array.isArray(c)?[].concat.apply([],c):[],d);B.logger.logInternalMessage(a)}function m(){(0,U.toggleKcBot)(!1,void 0,void 0,!0)}function e(a,b){a.content.coreStyling=a.content.coreStyling.replace("https://storage.googleapis.com",b);a.content.engagementCoreStyling=a.content.engagementCoreStyling.replace("https://storage.googleapis.com",b);a.content.overrideStyling=
a.content.overrideStyling.replace("https://storage.googleapis.com",b)}function g(a,b,g){var h=g&&g.recId?g.recId:null;if(Array.isArray(a)&&(1<a.length&&(a=a.sort(function(a,b){return Z[a.content.contentType]-Z[b.content.contentType]})),a=a[0]),a){var q={url:(0,t.getPageUrl)()};if(!(b||C["default"].isPreview()||(0,t.isBlank)(a.rules)||(0,Q.matchMultiTypeRules)(JSON.parse(a.rules),q)))return void B.logger.log("did not have client side match for engagement rules "+a.rules+", current URL: "+q);q=(0,K.validateChecksum)(a.engagementId,
a.content);if(!q.valid)return h=u(q.errorType,q.errorMessage,a.engagementId,a.content.contentType),void B.logger.logInternalMessage(h);a.content.contentTypeId=la[a.content.contentType];q=(0,c.sanitizeEngagement)(a.content,null,!1);ba||(document.addEventListener(P.SET_USER_ATTRIBUTE_EVENT_NAME,function(a){(0,Y.setUser)(a.detail.userAttr)}),ba=!0);var w=(0,D.getConfig)("storageProxyDomain");switch(w&&e(a,w),a.content.contentType){case "IN_APP_DIALOG":p(a.content.contentType)&&(q[0].isValid?(a=fa(a,
h),h=R.checkHasOverlayForCurrentStep()?R.getStepSettings().zIndex:a.content.settings.zIndex,q=R.isRunning()&&R.checkHasOverlayForCurrentStep()?0:a.content.settings.overlayFill,h=Object.assign({},a,{content:Object.assign({},a.content,{settings:Object.assign({},a.content.settings,{zIndex:h,overlayFill:q})})}),ea.drawDialog(h,d,b,g),m(),L.internalEventListener.dispatchEvent("engagementView",(0,J.getExternalEvent)(a,"Viewed"))):k(a,q[0].errors,q[0].errorTypes),v(a.content.contentType,a.rules,b));break;
case "IN_APP_GUIDE":if(p(a.content.contentType)){b=!0;for(w=0;w<a.content.steps.length;w++){var n=a.content.steps[w];if(n.total=a.content.steps.length,!(0,t.isBlank)(n.content))if(q[w].isValid&&b){var l=n.content;(0,D.getConfig)("strictCSP")&&(0,D.getConfig)("cssNonce")&&(l=(0,N.removeStyleAttributesFromHTML)(l),l=(0,N.replaceStepIdPlaceholder)(n.id,l));a.content.steps[w].content=r(a,l,n.id,n.sequenceNumber,h);n.titleHtml&&(a.content.steps[w].titleHtml=r(a,n.titleHtml,n.id,n.sequenceNumber,h))}else b=
!1,k(a,q[w].errors,q[w].errorTypes,n.id)}if(!q.some(function(a){return!a.isValid})){var z=a.content;Object.assign(z,{engagementId:a.engagementId,contentId:a.content.id,matchEventId:a.matchEventId,accountId:a.accountId,executionId:a.executionId,executionTimestamp:a.executionTimestamp,coreStyling:a.content.coreStyling,engagementCoreStyling:a.content.engagementCoreStyling,overrideStyling:a.content.overrideStyling,activationType:a.activationType,contentLocale:a.contentLocale,ideId:a.ideId,engagementName:a.engagementName});
(0,I.encryptStepsSelectors)(a.content.steps).then(function(b){f(b,z,a,g)})["catch"](function(b){B.logger.logInternalError(b,"Error encrypting selectors for guide "+a.engagementId);f(a.content.steps,z,a,g)})}}break;case "IN_APP_CAROUSEL":if(p(a.content.contentType)){w=!0;for(n=0;n<a.content.carouselSlideList.length;n++)l=a.content.carouselSlideList[n],(0,t.isBlank)(l.html)||(w&&q[n].isValid?a.content.carouselSlideList[n].html=r(a,l.html,l.id,l.sequence,h):(w=!1,k(a,q[n].errors,q[n].errorTypes,l.id)));
w&&(X.drawCarousel(a,d,g),m(),L.internalEventListener.dispatchEvent("engagementView",(0,J.getExternalEvent)(a,"Viewed")),v(a.content.contentType,a.rules,b))}break;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":p(a.content.contentType)&&(q.forEach(function(b){b.isValid||k(a,b.errors,b.errorTypes,b.stepId)}),ca.draw(a,d,g).isValid&&(m(),L.internalEventListener.dispatchEvent("engagementView",(0,J.getExternalEvent)(a,
"Viewed")),v(a.content.contentType,a.rules,b)))}}}function d(a,b){["ENGAGEMENT_DRAWN","engagementDrawn"].forEach(function(c){var d=b.getBoundingClientRect(),d={width:d.width,height:d.height};if(A.externalEventListeners[c])try{A.externalEventListeners[c](a.content.contentType,a.engagementId,d)}catch(e){B.logger.logInternalError(e,"Error calling "+c+" event listener")}L.internalEventListener.dispatchEvent(c,a.content.contentType,a.engagementId,d)})}function h(a,b){return function(){var c={url:(0,t.getPageUrl)()};
(0,Q.matchMultiTypeRules)(JSON.parse(a),c)||ga.clearEngagement(b)}}function v(a,b,d){!(0,D.getConfig)("evaluateEngRuleOnNavigation")||d||C["default"].isPreview()||(0,t.isBlank)(b)||(b=h(b,a),(0,c.registerEngagementPageChangedHandler)(a,b))}Object.defineProperty(a,"__esModule",{value:!0});a.guideDrawer=a.EngagementDrawer=void 0;var q=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,
e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();l=b(77);l=n(l);var w=b(140),w=n(w),t=b(0),x=b(9),A=b(4),B=b(2),y=b(13),c=b(30),E=b(145),E=n(E),z=b(152),z=n(z),J=b(17),G=b(16),C=n(G),O=b(44),D=b(1),F=b(34),Q=b(67),S=b(32),L=b(11),T=b(21),H=b(40),U=b(59),K=b(61),Y=b(102),P=b(6),N=b(41),I=b(42),R=new l["default"](null,!0),X=new w["default"],ea=new E["default"],ca=new z["default"],ba=!1,Z={IN_APP_CAROUSEL:1,IN_APP_GUIDE:2,IN_APP_DIALOG:3,IN_APP_SURVEY_NPS:4,IN_APP_CES_SURVEY:5,
IN_APP_BOOLEAN_SURVEY:6,IN_APP_RATING_SURVEY:7,IN_APP_MULTIPLE_QUESTION_SURVEY:8},la={IN_APP_DIALOG:1,IN_APP_GUIDE:2,IN_APP_CAROUSEL:3,IN_APP_SURVEY_NPS:4,IN_APP_CES_SURVEY:5,IN_APP_BOOLEAN_SURVEY:6,IN_APP_RATING_SURVEY:7,IN_APP_MULTIPLE_QUESTION_SURVEY:8},V={CLICK:"ENGAGEMENT_CLICK"},fa=function(a,b){try{var c=void 0;if(a.content.htmlElements)if(Array.isArray(a.content.htmlElements))for(var d=0;d<a.content.htmlElements.length;d++)c=a.content.htmlElements[d],a.content.htmlElements[d]=r(a,c,null,null,
b);else a.content.htmlElements=r(a,a.content.htmlElements,null,null,b);return a}catch(e){B.logger.logInternalError(e)}},ga=a.EngagementDrawer=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return q(a,null,[{key:"draw",value:function(a,b,c){(0,x.addDOMReadyListener)(g,a,b,c)}},{key:"clearEngagements",value:function(a){(a=a||!(0,D.getConfig)("crossProductEngagement"))&&R.close();X.close();ea.close();ca.close();a&&R.clearStepRedirectData()}},
{key:"clearEngagement",value:function(a){switch(a){case "IN_APP_DIALOG":ea.close();break;case "IN_APP_CAROUSEL":X.close();break;case "IN_APP_GUIDE":R.close();R.clearStepRedirectData();break;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":ca.close()}}}]),a}();if(a.guideDrawer=R,!(0,D.isIframe)()&&C["default"].isPreview())C["default"].getAdditionalDetails().kcId?(0,x.addDOMReadyListener)(function(){y.AjaxUtil.getData("https://app-be.aptrinsic.com/api/knowledge/"+
C["default"].getProductKey().split("-")[1],function(a){F.KnowledgeCenterManager.removeWidget();F.KnowledgeCenterManager.initWidget({apiKey:C["default"].getProductKey(),initialConfig:Object.assign(a,{enabled:!0}),isPreview:!0},!0);history.replaceState("",document.title,C["default"].cleanEngagementData())},{Authorization:"Bearer "+C["default"].getToken()},function(a){try{403===a?((0,O.showMessage)("error","Not authorized to preview this knowledge center"),C["default"].exit()):401==a&&((0,O.showMessage)("error",
"Token expired, try to preview again"),C["default"].exit())}catch(b){B.logger.logInternalError(b)}})}):(a=(0,t.parseApiKey)(C["default"].getProductKey()).groupId,y.AjaxUtil.getData(C["default"].getPreviewUrl(),function(a){(0,x.addDOMReadyListener)(function(){history.replaceState("",document.title,C["default"].cleanEngagementData())});var b=a.badgeData;try{if(b&&(0,t.isNotEmptyArr)(b.badges)){var c=b.badges[0].badgeSettings;Object.assign(c,{isPreview:!0,clickCallback:function(){try{"ONCE"===c.qualificationScopeType&&
"ON_CLICK"===c.engagementTrigger&&(0,H.removeBadge)(c.id),g(a.engagement)}catch(b){B.logger.logInternalError(b)}}});(0,H.drawBadges)(b.badges,null,!0)}else g(a.engagement)}catch(d){B.logger.logInternalError(d)}},{Authorization:"Bearer "+C["default"].getToken(),"X-GROUP-ID":a},function(a){try{403===a?((0,O.showMessage)("error","Not authorized to preview this engagement"),C["default"].exit()):401==a&&((0,O.showMessage)("error","Token expired, try to preview again"),C["default"].exit())}catch(b){B.logger.logInternalError(b)}}))},
function(l,a,b){function n(a,b){var f={appendTo:(0,p.getBody)(),zIndex:2147483647,theme:"px-tooltip"};return(0,r["default"])(a,Object.assign(f,b))}Object.defineProperty(a,"__esModule",{value:!0});var f=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var f=[],e=!0,g=!1,d=void 0;try{for(var h,v=a[Symbol.iterator]();!(e=(h=v.next()).done)&&(f.push(h.value),!b||f.length!==b);e=!0);}catch(q){g=!0,d=q}finally{try{!e&&v["return"]&&v["return"]()}finally{if(g)throw d;
}}return f}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.addTooltipToElement=n;a.addTooltipToElements=function(a){return a.map(function(a){a=f(a,2);return n(a[0],a[1])})};var r=(l=b(80))&&l.__esModule?l:{"default":l},p=b(1)},function(l,a,b){var n,f,r,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){"object"===
p(a)&&void 0!==l?l.exports=b():(f=[],n=b,void 0!==(r="function"==typeof n?n.apply(a,f):n)&&(l.exports=r))}(function(){return function k(a,b,g){function d(f,v){if(!b[f]){if(!a[f]){if(h)return h(f,!0);var t=Error("Cannot find module '"+f+"'");throw t.code="MODULE_NOT_FOUND",t;}t=b[f]={exports:{}};a[f][0].call(t.exports,function(b){return d(a[f][1][b]||b)},t,t.exports,k,a,b,g)}return b[f].exports}for(var h=!1,f=0;f<g.length;f++)d(g[f]);return d}({1:[function(a,b,e){"document"in window.self&&("classList"in
document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var a=document.createElement("_");if(a.classList.add("c1","c2"),!a.classList.contains("c2")){var b=function(a){var b=DOMTokenList.prototype[a];DOMTokenList.prototype[a]=function(a){var d,e=arguments.length;for(d=0;d<e;d++)a=arguments[d],b.call(this,a)}};b("add");b("remove")}if(a.classList.toggle("c3",!1),a.classList.contains("c3")){var e=DOMTokenList.prototype.toggle;
DOMTokenList.prototype.toggle=function(a,b){return 1 in arguments&&!this.contains(a)==!b?b:e.call(this,a)}}a=null}():function(a){if("Element"in a){a=a.Element.prototype;var b=Object,e=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},k=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},f=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},m=function(a,b){if(""===b)throw new f("SYNTAX_ERR","An invalid or illegal string was specified");
if(/\s/.test(b))throw new f("INVALID_CHARACTER_ERR","String contains an invalid character");return k.call(a,b)},t=function(a){for(var b=e.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],c=0,d=b.length;c<d;c++)this.push(b[c]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},p=t.prototype=[],r=function(){return new t(this)};if(f.prototype=Error.prototype,p.item=function(a){return this[a]||null},p.contains=function(a){return a+="",-1!==m(this,a)},p.add=function(){var a,
b=arguments,c=0,d=b.length,e=!1;do a=b[c]+"",-1===m(this,a)&&(this.push(a),e=!0);while(++c<d);e&&this._updateClassName()},p.remove=function(){var a,b,c=arguments,d=0,e=c.length,g=!1;do for(a=c[d]+"",b=m(this,a);-1!==b;)this.splice(b,1),g=!0,b=m(this,a);while(++d<e);g&&this._updateClassName()},p.toggle=function(a,b){a+="";var c=this.contains(a),d=c?!0!==b&&"remove":!1!==b&&"add";return d&&this[d](a),!0===b||!1===b?b:!c},p.toString=function(){return this.join(" ")},b.defineProperty){p={get:r,enumerable:!0,
configurable:!0};try{b.defineProperty(a,"classList",p)}catch(n){-2146823252===n.number&&(p.enumerable=!1,b.defineProperty(a,"classList",p))}}else b.prototype.__defineGetter__&&a.__defineGetter__("classList",r)}}(window.self))},{}],2:[function(a,b,e){b.exports=function(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var e=/<([\w:]+)/.exec(a);if(!e)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");e=e[1];if("body"==e)return e=b.createElement("html"),e.innerHTML=
a,e.removeChild(e.lastChild);var e=d[e]||d._default,g=e[0],k=e[1],f=e[2],e=b.createElement("div");for(e.innerHTML=k+a+f;g--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(g=b.createDocumentFragment();e.firstChild;)g.appendChild(e.removeChild(e.firstChild));return g};var g;a=!1;"undefined"!=typeof document&&(g=document.createElement("div"),g.innerHTML='  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d"/a"\x3ea\x3c/a\x3e\x3cinput type\x3d"checkbox"/\x3e',a=
!g.getElementsByTagName("link").length,g=void 0);var d={legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],_default:a?[1,"X\x3cdiv\x3e","\x3c/div\x3e"]:[0,"",""]};d.td=d.th=[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"];d.option=d.optgroup=[1,'\x3cselect multiple\x3d"multiple"\x3e',"\x3c/select\x3e"];
d.thead=d.tbody=d.colgroup=d.caption=d.tfoot=[1,"\x3ctable\x3e","\x3c/table\x3e"];d.polyline=d.ellipse=d.polygon=d.circle=d.text=d.line=d.path=d.rect=d.g=[1,'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1"\x3e',"\x3c/svg\x3e"]},{}],3:[function(a,b,e){function g(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var e=Object(a),g=1;g<arguments.length;g++){var k=arguments[g];if(void 0!==k&&null!==k)for(var f=Object.keys(Object(k)),m=0,p=f.length;m<
p;m++){var r=f[m],n=Object.getOwnPropertyDescriptor(k,r);void 0!==n&&n.enumerable&&(e[r]=k[r])}}return e}b.exports={assign:g,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:g})}}},{}],4:[function(a,b,e){a("classlist-polyfill");a("es6-object-assign").polyfill();var g=a("domify"),d=function(a){if(void 0!==a){var b=document.createElement("div");return b.appendChild(document.createTextNode(a)),b.innerHTML}return""},h=function(a,
b){if("string"==typeof b&&0!==b.length)for(var d=b.split(" "),c=0;c<d.length;c++){var e=d[c];e.length&&a.classList.add(e)}},f=function(){var a=document.createElement("div"),b={WebkitAnimation:"webkitAnimationEnd",MozAnimation:"animationend",OAnimation:"oanimationend",msAnimation:"MSAnimationEnd",animation:"animationend"},d;for(d in b)if(void 0!==a.style[d])return b[d];return!1}(),q={},p=1,t=!1,r={open:function(a){var b=function(a){console.warn('The "'+a+'" property is deprecated in vex 3. Use CSS classes and the appropriate "ClassName" options, instead.');
console.warn("See http://github.hubspot.com/vex/api/advanced/#options")};a.css&&b("css");a.overlayCSS&&b("overlayCSS");a.contentCSS&&b("contentCSS");a.closeCSS&&b("closeCSS");var e={};e.id=p++;q[e.id]=e;e.isOpen=!0;e.close=function(){function a(b){return"none"!==c.getPropertyValue(b+"animation-name")&&"0s"!==c.getPropertyValue(b+"animation-duration")}if(!this.isOpen)return!0;var b=this.options;if(t&&!b.escapeButtonCloses||!1===(!b.beforeClose||b.beforeClose.call(this)))return!1;this.isOpen=!1;var c=
window.getComputedStyle(this.contentEl),d=a("")||a("-webkit-")||a("-moz-")||a("-o-"),e=function Q(){this.rootEl.parentNode&&(this.rootEl.removeEventListener(f,Q),delete q[this.id],this.rootEl.parentNode.removeChild(this.rootEl),b.afterClose&&b.afterClose.call(this),0===Object.keys(q).length&&document.body.classList.remove("vex-open"))}.bind(this);return f&&d?(this.rootEl.addEventListener(f,e),this.rootEl.classList.add("vex-closing")):e(),!0};"string"==typeof a&&(a={content:a});a.unsafeContent&&!a.content?
a.content=a.unsafeContent:a.content&&(a.content=d(a.content));a=e.options=Object.assign({},r.defaultOptions,a);b=e.rootEl=document.createElement("div");b.classList.add("vex");h(b,a.className);var c=e.overlayEl=document.createElement("div");c.classList.add("vex-overlay");h(c,a.overlayClassName);a.overlayClosesOnClick&&c.addEventListener("click",function(a){a.target===c&&e.close()});b.appendChild(c);var k=e.contentEl=document.createElement("div");if(k.classList.add("vex-content"),h(k,a.contentClassName),
k.appendChild(a.content instanceof window.Node?a.content:g(a.content)),b.appendChild(k),a.showCloseButton){var m=e.closeEl=document.createElement("div");m.classList.add("vex-close");h(m,a.closeClassName);m.addEventListener("click",e.close.bind(e));k.appendChild(m)}return document.querySelector(a.appendLocation).appendChild(b),a.afterOpen&&a.afterOpen.call(e),document.body.classList.add("vex-open"),e},close:function(a){if(a.id)a=a.id;else if("string"!=typeof a)throw new TypeError("close requires a vex object or id string");
return!!q[a]&&q[a].close()},closeTop:function(){var a=Object.keys(q);return!!a.length&&q[a[a.length-1]].close()},closeAll:function(){for(var a in q)this.close(a);return!0},getAll:function(){return q},getById:function(a){return q[a]}};window.addEventListener("keyup",function(a){27===a.keyCode&&(t=!0,r.closeTop(),t=!1)});window.addEventListener("popstate",function(){r.defaultOptions.closeAllOnPopState&&r.closeAll()});r.defaultOptions={content:"",showCloseButton:!0,escapeButtonCloses:!0,overlayClosesOnClick:!0,
appendLocation:"body",className:"",overlayClassName:"",contentClassName:"",closeClassName:"",closeAllOnPopState:!0};Object.defineProperty(r,"_escapeHtml",{configurable:!1,enumerable:!1,writable:!1,value:d});r.registerPlugin=function(a,b){var d=a(r),c=b||d.name;if(r[c])throw Error("Plugin "+b+" is already registered.");r[c]=d};b.exports=r},{"classlist-polyfill":1,domify:2,"es6-object-assign":3}]},{},[4])(4)})},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.TOP_WINDOW_ID=void 0;
var n=function(){function a(b,f){for(var k=0;k<f.length;k++){var m=f[k];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=!0);Object.defineProperty(b,m.key,m)}}return function(b,f,k){return f&&a(b.prototype,f),k&&a(b,k),b}}(),f=b(8);l=new (a.TOP_WINDOW_ID="top",function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.store=new f.LocalCache}return n(a,[{key:"setIframeId",value:function(a){this.store.setdata("IFRAME_ID",a)}},
{key:"getIframeId",value:function(){return this.store.getKey("IFRAME_ID")}},{key:"setBotConfig",value:function(a){this.store.setdata("KC_CONFIG",a)}},{key:"getBotConfig",value:function(){return this.store.getKey("KC_CONFIG")}}]),a}());a["default"]=l},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=b(1),f=b(12),r=b(5),p=b(24),u=b(14),k=b(22);l=new function(){(0,n.isIframe)()&&(this.postIframeClosed=function(){if((0,n.isIframe)()){var a=u.UUIDGenerator.generateV4Id(),a=r.IframeRequest.getIframeRequest((0,
f.getIframeId)(),p.EVENTS.BOT,{type:p.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED},a);(0,f.postRequest)(a,(0,k.getTopWindow)(),!0)}},this.postBotFound=function(){if((0,n.isIframe)()){var a=u.UUIDGenerator.generateV4Id(),a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),p.EVENTS.BOT,{type:p.IFRAME_TO_TOP_EVENTS.BOT_FOUND},a);(0,f.postRequest)(a,(0,k.getTopWindow)(),!0)}},this.getBotContent=function(a,b,g,d){(0,f.iframeSubscribeCallback)(p.EVENTS.BOT,{type:p.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT,botId:a,
isBotV2:b},function(a,b){a&&g&&g(a);b&&d&&d(b)})},this.trackBotToggle=function(a,b){if((0,n.isIframe)()){var g=u.UUIDGenerator.generateV4Id(),g=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),p.EVENTS.BOT,{type:p.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE,botId:a,isOpen:b},g);(0,f.postRequest)(g,(0,k.getTopWindow)(),!0)}},this.checkMappedElementIsVisibleResponse=function(a,b){if((0,n.isIframe)()){var g=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),p.EVENTS.BOT,{type:p.IFRAME_TO_TOP_EVENTS.IS_ELEMENT_VISIBLE_RESPONSE,
isVisible:b,iframeId:(0,f.getIframeId)()},a);(0,f.postRequest)(g,(0,k.getTopWindow)(),!0)}},this.getAptrinsicId=function(a){(0,f.iframeSubscribeCallback)(p.EVENTS.BOT,{type:p.IFRAME_TO_TOP_EVENTS.GET_APTRINSIC_ID},a)},this.postClickElement=function(){if((0,n.isIframe)()){var a=u.UUIDGenerator.generateV4Id(),a=r.IframeRequest.getIframeRequest((0,f.getIframeId)(),p.EVENTS.BOT,{type:p.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK},a);(0,f.postRequest)(a,(0,k.getTopWindow)(),!0)}})};a["default"]=l},function(l,
a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=b(1),f=b(12),r=b(5),p=b(14),u=b(24);l=new function(){function a(b,e,g){var d=p.UUIDGenerator.generateV4Id();return r.IframeRequest.getMasterRequst(u.EVENTS.BOT,{type:u.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE,botConfig:b,isInitial:e,shouldOpen:g},d)}this.postBotEvent=function(a,b){var g=p.UUIDGenerator.generateV4Id(),g=r.IframeRequest.getMasterRequst(u.EVENTS.BOT,{type:u.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT,data:b},g);(0,f.postRequestDown)(g,a)};
this.sendBotFound=function(a){if(!(0,n.isIframe)()){var b=p.UUIDGenerator.generateV4Id();a=r.IframeRequest.getMasterRequst(u.EVENTS.BOT,{type:u.TOP_TO_IFRAME_EVENTS.BOT_FOUND,iframeId:a},b);(0,f.propagateDown)(a,(0,r.getRegisteredIframes)())}};this.removeWidgetFromAllIframes=function(){if(!(0,n.isIframe)()){var a=p.UUIDGenerator.generateV4Id(),a=r.IframeRequest.getMasterRequst(u.EVENTS.BOT,{type:u.TOP_TO_IFRAME_EVENTS.REMOVE_BOT},a);(0,f.propagateDown)(a,(0,r.getRegisteredIframes)())}};this.sendBotConfig=
function(b,e){if(!(0,n.isIframe)()){var g=a(b,e);(0,f.propagateDown)(g,(0,r.getRegisteredIframes)())}};this.sendBotConfigToIframe=function(b,e,g,d){(0,n.isIframe)()||(e=a(e,g,d),(0,f.postRequestDown)(e,b))};this.removeBotFromIframe=function(a){if(!(0,n.isIframe)()){var b=p.UUIDGenerator.generateV4Id(),b=r.IframeRequest.getMasterRequst(u.EVENTS.BOT,{type:u.TOP_TO_IFRAME_EVENTS.REMOVE_BOT},b);(0,f.postRequestDown)(b,a)}};this.getBotContentResponse=function(a,b,g,d){(0,n.isIframe)()||(b=r.IframeRequest.getMasterRequst(u.EVENTS.BOT,
{type:u.TOP_TO_IFRAME_EVENTS.GET_BOT_CONTENT_RESPONSE,response:g,error:d},b),(0,f.postRequestDown)(b,a))};this.setBotIsOpen=function(a,b){var g=p.UUIDGenerator.generateV4Id(),g=r.IframeRequest.getMasterRequst(u.EVENTS.BOT,{type:u.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN,isOpen:a},g,b);(0,f.postRequestDown)(g,(0,r.getIframeData)(b))};this.checkMappedElementIsVisible=function(a,b,g){(0,n.isIframe)()||(0,f.createSubscribeCallbackRequest)(u.EVENTS.BOT,{type:u.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE,cssSelector:b},
a,g)};this.addElementClickListener=function(a,b){var g=p.UUIDGenerator.generateV4Id(),g=r.IframeRequest.getMasterRequst(u.EVENTS.BOT,{type:u.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER,cssSelector:b},g);(0,f.postRequestDown)(g,a)};this.getAptrinsicIdResponse=function(a,b,g){(0,n.isIframe)()||(b=r.IframeRequest.getMasterRequst(u.EVENTS.BOT,{type:u.TOP_TO_IFRAME_EVENTS.GET_APTRINSIC_ID_RESPONSE,aptrinsicId:g},b),(0,f.postRequestDown)(b,a))}};a["default"]=l},function(l,a,b){function n(){var a=e.IframeRequest.getIframeRequest((0,
g.getIframeId)(),m.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH,{iframesPath:[(0,g.getIframeId)()]},k.UUIDGenerator.generateV4Id());return new Promise(function(b){(0,e.subscribe)(a.aptrinsicRequestId,function(a){a=r(a,1)[0].iframesPath.reduce(function(a){return a.parent},window);(0,d.setTopWindow)(a);b()});(0,u.retryFunction)(h,v,function(){(0,g.postRequest)(a,window.parent,!0)})})}function f(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0],b=e.IframeRequest.getIframeRequest((0,g.getIframeId)(),
m.EVENT_TYPES.REGISTER,null,k.UUIDGenerator.generateV4Id());(0,u.retryFunction)(h,v,function(){(0,g.setupIframeUnregisterOnUnload)((0,d.getTopWindow)(),window.parent);(0,g.postRequest)(b,(0,d.getTopWindow)(),!0)});a&&(0,u.retryFunction)(h,v,function(){(0,g.postRequest)(b,window.parent,!0)})}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var d=[],e=!0,g=!1,h=void 0;try{for(var c,k=a[Symbol.iterator]();!(e=
(c=k.next()).done)&&(d.push(c.value),!b||d.length!==b);e=!0);}catch(f){g=!0,h=f}finally{try{!e&&k["return"]&&k["return"]()}finally{if(g)throw h;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.initIframeSetup=function(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return new Promise(function(b,e){(0,p.isIframe)()?(0,d.shouldDiscoverTopWindowPath)()?n().then(function(){f(a);b()}):(f(a),b()):e(Error("Not in an iframe"))})};a.setChildIframe=
function(a,b,d){q[a]=new e.IframeData(b,d,a,null)};a.getChildIframeData=function(a){return q[a]};var p=b(1),u=b(15),k=b(14),m=b(29),e=b(5),g=b(12),d=b(22),h=3,v=1E3,q={}},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a){var b=(0,O.getKcConfig)();if(b){var c=b.kcId;ca=c;u(function(){Z=!1;Y.botEventEmmiter.dispatchEvent("WIDGET_LOADED",a,{kcId:c})},function(b){Z=!1;Y.botEventEmmiter.dispatchEvent("WIDGET_FAILED",a,{kcId:c,code:500,message:b})})}}function r(a,b,c){F.KnowledgeCenterManager.initWidget({apiKey:G.eventTrackData.data[G.productIdParameter],
aptId:a,initialConfig:b},!1,la,c)}function p(a,b,c,d,e){c=ba!==b.kcId;var g=!1;(d||ba)&&c&&(F.KnowledgeCenterManager.clearWidgetLoadQueue(),(0,O.setKcConfig)({}));ba=b.kcId;(0,O.setKcConfig)(b);a||c?((0,O.isIframe)()?ea["default"].getAptrinsicId(function(a){r(J(a,1)[0].aptrinsicId,b,e)}):r(G.eventTrackData.data[G.aptrinsicIdParam],b,e),ca?(g=!0,f(e)):ca!==ba?(g=!1,F.KnowledgeCenterManager.registerAfterWidgetLoad(function(){f(e)})):Z=!1):c?(g=!0,Z=!1):(g=!0,u(function(){Z=!1;Y.botEventEmmiter.dispatchEvent("WIDGET_LOADED",
e,{kcId:ba})},function(a){Z=!1;Y.botEventEmmiter.dispatchEvent("WIDGET_FAILED",e,{kcId:ba,code:500,message:a})}));g&&F.KnowledgeCenterManager.updateWidgetConfig()}function u(a,b){F.KnowledgeCenterManager.fetchEntriesAndSendToWidget(G.eventTrackData.data[G.productIdParameter],G.eventTrackData.data[G.aptrinsicIdParam],a,b)}function k(){ha.removeAllHandler()}function m(){ca="";F.KnowledgeCenterManager.removeWidget(ba);(0,K.removeEmbeddedListeners)();ba="";(0,O.setKcConfig)({});Z=!1}function e(a,b,c,
d){var e=d.shouldRemoveWidget,g=d.shouldJustClean,h=d.shouldDispatchEvent;d.shouldRemoveHandlers&&ha.removeAllHandler();e?m():g&&(ba="",(0,O.setKcConfig)({}),F.KnowledgeCenterManager.cleanWidget());Z=!1;h&&Y.botEventEmmiter.dispatchEvent("WIDGET_FAILED",c,{kcId:a,code:b,message:"Could not fetch knowledge center with provided id"})}function g(a,b,c){a?Z=!1:(Q.internalEventListener.dispatchEvent(X.BOT_IFRAME_INTERNAL_EVENTS.BOT_EMPTY_CONFIG),e(b,500,c,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,
shouldRemoveHandlers:!0}))}function d(a){var b=a.knowledgeCenterConfiguration,c=a.isInitializeCall,d=a.ignoreEmptyConfigError,h=a.kcId,k=a.isByApi,f=a.onDone;a=a.currentListenerId;if(b){h=b.invalidate;d="V1"===b.type;if(V=b.kcId,d&&!0===h)return void m();h=Object.assign({},b);if(d&&!(0,I.validateConfigChecksum)(V,h))return void e(V,500,a,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});E(b,c,k,a)}else g(d,h,a);f&&f(b)}function h(a,b,c){var h=3<arguments.length&&
void 0!==arguments[3]&&arguments[3],k=arguments[4],f=C.UserData.isUser(),m=N.UUIDGenerator.generateV4Id();(h&&ka&&pa&&(Y.botEventEmmiter.addListener("WIDGET_LOADED",ka,m),Y.botEventEmmiter.addListener("WIDGET_FAILED",pa,m)),Z&&(S.logger.log(c+" is in progress"),e(ba,500,m,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!1,shouldRemoveHandlers:!1})),!(0,O.getConfig)("widgetEnabled")||!f||D["default"].isPreview()&&D["default"].getAdditionalDetails().kcId||Z)||(Z=!0,f=G.eventTrackData.data[G.productIdParameter],
(0,F.fetchKnowledgeCenterConfig)(f,c,function(e){if(!e)return g(b,c,m),void(k&&k(e));var f=e.type,t=e.v1Config;e=e.v2Config;var q={isInitializeCall:a,ignoreEmptyConfigError:b,kcId:c,isByApi:h,onDone:k,currentListenerId:m};switch(f){case "V1":d(Object.assign(q,{knowledgeCenterConfiguration:Object.assign({type:f},t)}));break;case "V2":d(Object.assign(q,{knowledgeCenterConfiguration:Object.assign({type:f},e)}));break;default:throw Error("Unknown knowledge center type");}},function(a){e(c,404,m,{shouldRemoveWidget:!0,
shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0})}))}function v(a,b,c,d){try{var e=(0,O.getKcConfig)()||{},g=e.kcId;0<Object.keys(e).length&&g?(a?F.KnowledgeCenterManager.open():F.KnowledgeCenterManager.close(d),(0,L.isFunction)(b)&&b({kcId:g})):(0,L.isFunction)(c)&&c({kcId:g,code:404,message:"Not bot was found with id provided"})}catch(h){(0,L.isFunction)(c)&&c({kcId:kcId,code:404,message:"An error occurred"}),S.logger.logInternalError(Error("toggleKcBot - "+h))}}function q(){var a=
document.querySelector("#apt-widget");return a?a&&!a.classList.contains("apt-hidden"):null}function w(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){};try{var d=document.querySelector("#apt-widget"),e=q();d?(a!==e&&(a?d.classList.remove("apt-hidden"):d.classList.add("apt-hidden")),b()):c()}catch(g){c(),S.logger.log("error in togglerBotContainer "+g)}}function t(){var a=document.querySelector("#apt-widget");
return a?!a.querySelector(".apt-widget.apt-widget-window"):!1}function x(){clearInterval(fa);fa=null;clearTimeout(ga);ga=null}function A(a,b){try{x(),t()?(b(),x()):(fa=setInterval(function(){t()&&(b(),x())},200),ga=setTimeout(function(){x();e(ba,500,a,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});S.logger.logInternalError(Error("onWidgetClosed - error - could not close the widget in less than 3 seconds"))},3E3))}catch(c){x(),e(ba,500,a,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,
shouldRemoveHandlers:!0}),S.logger.log("onWidgetClosed - error"+c)}}function B(a,b){v(!1,function(){w(!1,a,b)},b)}function y(a){return"apt-widget"===a.id||1===a.nodeType&&a.querySelector("#apt-widget")}function c(a){var b=!1,c=!1;return a.some(function(a){return a.addedNodes.forEach(function(a){var b=3===a.nodeType;c||b||(c=y(a))}),c||a.removedNodes.forEach(function(a){var c=3===a.nodeType;b||c||(b=y(a))}),!c&&b})}function E(a,b,d,e){function g(){p(b,a,null,d,e)}if((0,Y.getIsEmbedded)(a)){var h=(0,
Y.getElementSelector)(a),k=function(g,k){var f=c(g);f&&m();(f||k)&&oa(b,a,h,d,e)};(0,O.isIframe)()||Q.internalEventListener.dispatchEvent(X.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE,a);var f=(0,Y.getEmbeddedPositionType)(a),f=(0,Y.getIsInline)(f);ba!==a.kcId&&(Z=!1,F.KnowledgeCenterManager.cleanWidget(),f&&(ca="",F.KnowledgeCenterManager.removeWidget()));f=F.KnowledgeCenterManager.checkIsInitialized();F.KnowledgeCenterManager.checkIsInitialized()||F.KnowledgeCenterManager.checkIsInProgress()?f&&(d?(ha.removeAllHandler(),
(0,K.removeEmbeddedListeners)(),z(h,g,function(){ha.addHandlers(k,e,a)})):g()):((0,K.removeEmbeddedListeners)(),ha.removeAllHandler(),z(h,g,function(){ha.addHandlers(k,e,a)}))}else g()}function z(a,b,c){(0,P.addDOMReadyListener)(function(){(0,H.findInAll)(a,(0,U.getRegisteredIframes)(),function(a){a&&b(a);c&&c(a)})})}Object.defineProperty(a,"__esModule",{value:!0});var J=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,g=void 0;try{for(var h,
k=a[Symbol.iterator]();!(d=(h=k.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(f){e=!0,g=f}finally{try{!d&&k["return"]&&k["return"]()}finally{if(e)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.removeEmbeddedHanldlers=k;a.removeWidget=m;a.initKnowledgeCenter=h;a.toggleKcBot=v;a.toggleBotContainer=w;a.closeAndHideBot=B;a.initWidgetForAPI=function(a,b){a&&F.KnowledgeCenterManager.checkIsInitialized()&&(0,Y.runBotCommands)();ka=function(){(0,
Y.runBotCommands)();Z=!1};pa=function(){Z=!1;(0,L.isFunction)(b)&&b();ha.removeAllHandler()};h(!0,!1,null,!0)};var G=b(4),C=b(26),O=b(1);l=b(16);var D=n(l),F=b(34),Q=b(11),S=b(2),L=b(0);l=b(36);var T=n(l),H=b(20),U=b(5),K=b(65),Y=b(35),P=b(9),N=b(14),I=b(66),R=b(18),X=b(24);l=b(129);l=n(l);b=b(56);var ea=n(b),ca=void 0,ba=void 0,Z=!1,la=!1,V="",fa=void 0,ga=void 0,ka=void 0,pa=void 0,ha=new function(){var a=void 0,b=void 0;this.removeAllHandler=function(){b&&(T["default"].removeObserver(b),b=null);
a&&Q.internalEventListener.removeListener("pageview",a)};this.addHandlers=function(d,e,g){a=function(){(0,Y.clearBotCommands)();var a=(0,Y.getEmbeddedPositionType)(g);if((0,Y.getIsInline)(a)){a=(F.KnowledgeCenterManager.getEmbeddedMappedElement()||{element:null}).element;try{!a||a&&!(0,R.elementContainsChild)((0,O.getBody)(),a)?m():w(!1)}catch(b){m()}}else B();d([],!0)};Q.internalEventListener.addListener("pageview",a);b&&this.removeAllHandler();b=T["default"].addObserver(function(){return!0},d,function(a,
b){return c(a)||b})}},oa=(0,L.debounce)(function(a,b,c,d,e){try{var g=(0,Y.getEmbeddedPositionType)(b);(0,K.findWidgetContainer)(c.cssSelector,e,{isNewAPI:!0,positionType:g,fetchKcType:(0,O.getConfig)("fetchKcType"),kcId:b.kcId},{onClick:F.KnowledgeCenterManager.toggleBot,onDone:function(c){V===b.kcId&&(F.KnowledgeCenterManager.updateEmbeddedMappedElement(c),F.KnowledgeCenterManager.checkIsInitialized()||F.KnowledgeCenterManager.checkIsInProgress()?F.KnowledgeCenterManager.checkIsInitialized()&&!1===
q()&&(v(!1),A(e,function(){w(!0)})):p(a,b,c,d,e))},onFailed:function(){V===b.kcId&&(d?m():(B(),Q.internalEventListener.dispatchEvent("BOT_NOT_FOUND")))}})}catch(h){clearInterval(fa),fa=null,S.logger.log("error in updateWidget "+h)}},500);(0,l["default"])(function(){k();m()},function(a,b){V=a.kcId;E(a,b)},F.KnowledgeCenterManager)},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.ENGAGEMENT_CHECKSUM_KEY="engagementChecksum";a.ENGAGEMENT_FIELD_MAPPING_ENABLED_KEY="engFieldMappingEnabled";
a.ENGAGEMENT_CHECKSUM_URL_CONFIG="engagementChecksumFileUrl";a.BOT_CHECKSUM_KEY="botChecksum";a.CHECKSUM_VERSION="checksumVersion"},function(l,a,b){function n(a,b){var c=(0,r.getCachedConfig)(p.CHECKSUM_VERSION);return void 0===c||2>=c?(0,u.filterAndSortEngagementFieldsV1)(a,b):3===c?(0,k.filterAndSortEngagementFieldsV3)(a,b):4===c?(0,m.filterAndSortEngagementFieldsV4)(a,b):5===c?(0,e.filterAndSortEngagementFieldsV5)(a,b):(0,u.filterAndSortEngagementFieldsV1)(a,b)}function f(a){return function(b){var c=
{},e={},g=b.engagementChecksums;(0,d.isNotEmptyArr)(g)&&g.forEach(function(a){c[a.engagementId]=a.validChecksums});var g=b.checksumVersion,h=b.botChecksums;(0,d.isNotEmptyArr)(h)&&h.forEach(function(a){e[a.botId]=a.validContentChecksums.concat(a.validConfigChecksums)});b=b.engFieldMappingEnabled;(0,r.setCachedConfig)(p.ENGAGEMENT_CHECKSUM_KEY,c);(0,r.setCachedConfig)(p.CHECKSUM_VERSION,g);(0,r.setCachedConfig)(p.BOT_CHECKSUM_KEY,e);(0,r.setCachedConfig)(p.ENGAGEMENT_FIELD_MAPPING_ENABLED_KEY,!!b);
(0,d.isFunction)(a)&&a({engagementChecksumMapping:c,checksumVersion:g,botChecksumsMapping:e,engagementFieldMappingEnabled:b||!1})}}Object.defineProperty(a,"__esModule",{value:!0});a.validateChecksum=a.loadChecksumFile=a.filterAndSortEngagementFields=void 0;var r=b(1),p=b(60),u=b(141),k=b(142),m=b(143),e=b(144),g=b(13),d=b(0),h=b(21),v=b(4),q=b(8),w=b(2),t=b(6),x=b(25),A=b(95);a.filterAndSortEngagementFields=n;a.loadChecksumFile=function(a,b){a?g.AjaxUtil.getData(a,f(b),null,function(){(0,d.isFunction)(b)&&
b(void 0)}):(0,d.isFunction)(b)&&b(void 0)};a.validateChecksum=function(a,b,c){var e=(0,h.getEnvironment)(v.eventTrackData[q.cacheGet](v.productIdParameter)),g=(0,r.getConfig)("skipChecksumForEngagementIds"),g=g&&-1!==g.indexOf(a);if(w.logger.debugMode&&e!==t.PROD_ENVIRONMENT||g)return{valid:!0};var g=c?c.engagementChecksumMapping:(0,r.getCachedConfig)(p.ENGAGEMENT_CHECKSUM_KEY),e=c?c.engagementFieldMappingEnabled:(0,r.getCachedConfig)(p.ENGAGEMENT_FIELD_MAPPING_ENABLED_KEY),k=(0,r.getConfig)(p.ENGAGEMENT_CHECKSUM_URL_CONFIG);
if(!k&&!c)return{valid:!0};if(!g&&k)return{valid:!1,errorType:"MISSING_CHECKSUM_FOR_ENGAGEMENT",errorMessage:"Engagement checksum is invalid since there is URL configured but no checksum to validated against"};a=g[a];if(!a&&!Array.isArray(a)||(0,d.isEmptyArr)(a))return{valid:!1,errorType:"MISSING_CHECKSUM_FOR_ENGAGEMENT",errorMessage:"Engagement checksum is invalid since there is URL configured but no checksum to validated against, array is empty"};b=Object.assign({},b);b=n(b,e);b=(0,x.orderAlphabetically)(b);
b=(0,x.removeNullFields)(b);c=JSON.stringify(b);c=c.replaceAll(/(\d+)\.0/g,"$1");c=(0,A.sha256)(c);return(e=-1<a.indexOf(c))?{valid:e}:{valid:!1,errorType:"CHECKSUM_MISMATCH",errorMessage:"the engagement checksum is invalid, js checksum:"+c+". engagement checksums: "+JSON.stringify(a)+" the engagement checksum was done on: "+JSON.stringify(b)}}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.CUSTOM_BUTTON_PREFIX_END_INDEX=15;a.URL_REDIRECTION="URL_REDIRECTION";a.NAVIGATION="NAVIGATION";
a.NEXT="NEXT";a.END="END";a.GO_TO_STEP="GO_TO_STEP";a.END_GUIDE="END_GUIDE"},function(l,a,b){function n(a,b){var n=a.fromScore,k=a.toScore,m=a.labels.map(function(a){return new f["default"](Object.assign({},b,{id:a.id,text:a.text}))});this.render=function(){return m.map(function(a){return a.render()})};this.getSelected=function(){return m.map(function(a){return a.isSelected()?a.getId():null}).filter(function(a){return null!==a})};this.isInRange=function(a){return n<=a&&k>=a};this.setTabIndexes=function(a){var b=
a;return m.forEach(function(a){a.setTabIndex(b);b+=1}),b}}Object.defineProperty(a,"__esModule",{value:!0});var f=(l=b(153))&&l.__esModule?l:{"default":l};a["default"]=function(a,b){var f=null,k=a.map(function(a){return new n(a,b)});b.singleList&&(f=k[0]);this.setTabIndexes=function(a){var b=a;return k.forEach(function(a){b=a.setTabIndexes(b)}),b};this.getLabelElements=function(a){if(b.singleList)return k[0].render();for(var e=0;e<k.length;e++)if(k[e].isInRange(a))return f=k[e],k[e].render()};this.getSelectedLabels=
function(){return f?f.getSelected():[]}}},function(l,a,b){(function(b){function f(a){var b=!1;return function(){b||(b=!0,window.Promise.resolve().then(function(){b=!1;a()}))}}function r(a){var b=!1;return function(){b||(b=!0,setTimeout(function(){b=!1;a()},Z))}}function p(a){var b={};return a&&"[object Function]"===b.toString.call(a)}function u(a,b){if(1!==a.nodeType)return[];var c=a.ownerDocument.defaultView.getComputedStyle(a,null);return b?c[b]:c}function k(a){return"HTML"===a.nodeName?a:a.parentNode||
a.host}function m(a){if(!a)return document.body;switch(a.nodeName){case "HTML":return document.documentElement;case "BODY":return a.ownerDocument.body;case "#document":return a.body}var b=u(a);return/(auto|scroll|overlay)/.test(b.overflow+b.overflowY+b.overflowX)?a:m(k(a))}function e(a){return 11===a?V:10===a?fa:V||fa}function g(a){if(!a)return document.documentElement;for(var b=e(10)?document.body:null,c=a.offsetParent||null;c===b&&a.nextElementSibling;)c=(a=a.nextElementSibling).offsetParent;return(b=
c&&c.nodeName)&&"BODY"!==b&&"HTML"!==b?-1!==["TH","TD","TABLE"].indexOf(c.nodeName)&&"static"===u(c,"position")?g(c):c:a?a.ownerDocument.documentElement:document.documentElement}function d(a){return null!==a.parentNode?d(a.parentNode):a}function h(a,b){if(!(a&&a.nodeType&&b&&b.nodeType))return document.documentElement;var c=a.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_FOLLOWING,e=c?a:b,c=c?b:a,k=document.createRange();k.setStart(e,0);k.setEnd(c,0);k=k.commonAncestorContainer;if(a!==k&&b!==
k||e.contains(c))return e=k.nodeName,"BODY"===e||"HTML"!==e&&g(k.firstElementChild)!==k?g(k):k;e=d(a);return e.host?h(e.host,b):h(a,d(b).host)}function v(a){var b="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",c=a.nodeName;return"BODY"===c||"HTML"===c?(c=a.ownerDocument.documentElement,(a.ownerDocument.scrollingElement||c)[b]):a[b]}function q(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d=v(b,"top"),e=v(b,"left"),c=c?-1:1;return a.top+=
d*c,a.bottom+=d*c,a.left+=e*c,a.right+=e*c,a}function w(a,b){var c="x"===b?"Left":"Top",d="Left"===c?"Right":"Bottom";return parseFloat(a["border"+c+"Width"],10)+parseFloat(a["border"+d+"Width"],10)}function t(a,b,c,d){return Math.max(b["offset"+a],b["scroll"+a],c["client"+a],c["offset"+a],c["scroll"+a],e(10)?parseInt(c["offset"+a])+parseInt(d["margin"+("Height"===a?"Top":"Left")])+parseInt(d["margin"+("Height"===a?"Bottom":"Right")]):0)}function l(a){var b=a.body;a=a.documentElement;var c=e(10)&&
getComputedStyle(a);return{height:t("Height",b,a,c),width:t("Width",b,a,c)}}function A(a){return pa({},a,{right:a.left+a.width,bottom:a.top+a.height})}function B(a){var b={};try{if(e(10)){var b=a.getBoundingClientRect(),c=v(a,"top"),d=v(a,"left");b.top+=c;b.left+=d;b.bottom+=c;b.right+=d}else b=a.getBoundingClientRect()}catch(g){}b={left:b.left,top:b.top,width:b.right-b.left,height:b.bottom-b.top};d="HTML"===a.nodeName?l(a.ownerDocument):{};c=a.offsetWidth-(d.width||a.clientWidth||b.width);d=a.offsetHeight-
(d.height||a.clientHeight||b.height);if(c||d)a=u(a),c-=w(a,"x"),d-=w(a,"y"),b.width-=c,b.height-=d;return A(b)}function y(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],d=e(10),g="HTML"===b.nodeName,h=B(a),k=B(b),f=m(a),t=u(b),p=parseFloat(t.borderTopWidth,10),v=parseFloat(t.borderLeftWidth,10);c&&g&&(k.top=Math.max(k.top,0),k.left=Math.max(k.left,0));h=A({top:h.top-k.top-p,left:h.left-k.left-v,width:h.width,height:h.height});if(h.marginTop=0,h.marginLeft=0,!d&&g)g=parseFloat(t.marginTop,
10),t=parseFloat(t.marginLeft,10),h.top-=p-g,h.bottom-=p-g,h.left-=v-t,h.right-=v-t,h.marginTop=g,h.marginLeft=t;return(d&&!c?b.contains(f):b===f&&"BODY"!==f.nodeName)&&(h=q(h,b)),h}function c(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=a.ownerDocument.documentElement,d=y(a,c),e=Math.max(c.clientWidth,window.innerWidth||0),g=Math.max(c.clientHeight,window.innerHeight||0),h=b?0:v(c),b=b?0:v(c,"left");return A({top:h-d.top+d.marginTop,left:b-d.left+d.marginLeft,width:e,height:g})}
function E(a){var b=a.nodeName;if("BODY"===b||"HTML"===b)return!1;if("fixed"===u(a,"position"))return!0;a=k(a);return!!a&&E(a)}function z(a){if(!a||!a.parentElement||e())return document.documentElement;for(a=a.parentElement;a&&"none"===u(a,"transform");)a=a.parentElement;return a||document.documentElement}function J(a,b,d,e){var g=4<arguments.length&&void 0!==arguments[4]&&arguments[4],f={top:0,left:0},t=g?z(a):h(a,b&&b.referenceNode?b.referenceNode:b);if("viewport"===e)f=c(t,g);else{var q=void 0;
"scrollParent"===e?(q=m(k(b)),"BODY"===q.nodeName&&(q=a.ownerDocument.documentElement)):q="window"===e?a.ownerDocument.documentElement:e;g=y(q,t,g);"HTML"!==q.nodeName||E(t)?f=g:(q=l(a.ownerDocument),t=q.height,q=q.width,f.top+=g.top-g.marginTop,f.bottom=t+g.top,f.left+=g.left-g.marginLeft,f.right=q+g.left)}d=d||0;g="number"==typeof d;return f.left+=g?d:d.left||0,f.top+=g?d:d.top||0,f.right-=g?d:d.right||0,f.bottom-=g?d:d.bottom||0,f}function G(a,b,c,d,e){var g=5<arguments.length&&void 0!==arguments[5]?
arguments[5]:0;if(-1===a.indexOf("auto"))return a;var g=J(c,d,g,e),h={top:{width:g.width,height:b.top-g.top},right:{width:g.right-b.right,height:g.height},bottom:{width:g.width,height:g.bottom-b.bottom},left:{width:b.left-g.left,height:g.height}},g=Object.keys(h).map(function(a){var b=h[a];return pa({key:a},h[a],{area:b.width*b.height})}).sort(function(a,b){return b.area-a.area}),f=g.filter(function(a){var b=a.height;return a.width>=c.clientWidth&&b>=c.clientHeight}),g=0<f.length?f[0].key:g[0].key,
f=a.split("-")[1];return g+(f?"-"+f:"")}function C(a,b,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return y(c,d?z(b):h(b,c&&c.referenceNode?c.referenceNode:c),d)}function O(a){var b=a.ownerDocument.defaultView.getComputedStyle(a),c=parseFloat(b.marginTop||0)+parseFloat(b.marginBottom||0),b=parseFloat(b.marginLeft||0)+parseFloat(b.marginRight||0);return{width:a.offsetWidth+b,height:a.offsetHeight+c}}function D(a){var b={left:"right",right:"left",bottom:"top",top:"bottom"};
return a.replace(/left|right|bottom|top/g,function(a){return b[a]})}function F(a,b,c){c=c.split("-")[0];a=O(a);var d={width:a.width,height:a.height},e=-1!==["right","left"].indexOf(c),g=e?"top":"left",h=e?"left":"top",f=e?"height":"width";return d[g]=b[g]+b[f]/2-a[f]/2,d[h]=c===h?b[h]-a[e?"width":"height"]:b[D(h)],d}function Q(a,b){return Array.prototype.find?a.find(b):a.filter(b)[0]}function S(a,b,c){if(Array.prototype.findIndex)return a.findIndex(function(a){return a[b]===c});var d=Q(a,function(a){return a[b]===
c});return a.indexOf(d)}function L(a,b,c){return(void 0===c?a:a.slice(0,S(a,"name",c))).forEach(function(a){a["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var c=a["function"]||a.fn;a.enabled&&p(c)&&(b.offsets.popper=A(b.offsets.popper),b.offsets.reference=A(b.offsets.reference),b=c(b,a))}),b}function T(a,b){return a.some(function(a){var c=a.name;return a.enabled&&c===b})}function H(a){for(var b=[!1,"ms","Webkit","Moz","O"],c=a.charAt(0).toUpperCase()+a.slice(1),
d=0;d<b.length;d++){var e=b[d],e=e?""+e+c:a;if(void 0!==document.body.style[e])return e}return null}function U(a){return(a=a.ownerDocument)?a.defaultView:window}function K(a,b,c,d){var e="BODY"===a.nodeName||"HTML"===a.nodeName;a=e?a.ownerDocument.defaultView:a;a.addEventListener(b,c,{passive:!0});e||K(m(a.parentNode),b,c,d);d.push(a)}function Y(a,b){return U(a).removeEventListener("resize",b.updateBound),b.scrollParents.forEach(function(a){a.removeEventListener("scroll",b.updateBound)}),b.updateBound=
null,b.scrollParents=[],b.scrollElement=null,b.eventsEnabled=!1,b}function P(a){return""!==a&&!isNaN(parseFloat(a))&&isFinite(a)}function N(a,b){Object.keys(b).forEach(function(c){var d="";-1!=="width height top right bottom left".split(" ").indexOf(c)&&P(b[c])&&(d="px");a.style[c]=b[c]+d})}function I(a,b){Object.keys(b).forEach(function(c){!1!==b[c]?a.setAttribute(c,b[c]):a.removeAttribute(c)})}function R(a,b){var c=a.offsets,d=c.popper,e=Math.round,g=Math.floor,h=function(a){return a},c=e(c.reference.width),
f=e(d.width),k=-1!==["left","right"].indexOf(a.placement),t=-1!==a.placement.indexOf("-"),g=b?k||t||c%2==f%2?e:g:h,e=b?e:h;return{left:g(1==c%2&&1==f%2&&!t&&b?d.left-1:d.left),top:e(d.top),bottom:e(d.bottom),right:g(d.right)}}function X(a,b,c){var d=Q(a,function(a){return a.name===b});a=!!d&&a.some(function(a){return a.name===c&&a.enabled&&a.order<d.order});if(!a){var e="`"+b+"`";console.warn("`"+c+"` modifier is required by "+e+" modifier in order to work, be sure to include it before "+e+"!")}return a}
function ea(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=na.indexOf(a),c=na.slice(c+1).concat(na.slice(0,c));return b?c.reverse():c}function ca(a,b,c,d){var e=[0,0],g=-1!==["right","left"].indexOf(d);a=a.split(/(\+|\-)/).map(function(a){return a.trim()});d=a.indexOf(Q(a,function(a){return-1!==a.search(/,|\s/)}));a[d]&&-1===a[d].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var h=/\s*,\s*|\s+/;a=-1!==d?[a.slice(0,d).concat([a[d].split(h)[0]]),
[a[d].split(h)[1]].concat(a.slice(d+1))]:[a];return a=a.map(function(a,d){var e=(1===d?!g:g)?"height":"width",h=!1;return a.reduce(function(a,b){return""===a[a.length-1]&&-1!==["+","-"].indexOf(b)?(a[a.length-1]=b,h=!0,a):h?(a[a.length-1]+=b,h=!1,a):a.concat(b)},[]).map(function(a){var d;var g=a.match(/((?:\-|\+)?\d*\.?\d*)(.*)/);d=+g[1];g=g[2];if(d)if(0===g.indexOf("%")){a=void 0;switch(g){case "%p":a=b;break;default:a=c}d*=A(a)[e]/100}else d="vh"===g||"vw"===g?("vh"===g?Math.max(document.documentElement.clientHeight,
window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*d:d;else d=a;return d})}),a.forEach(function(a,b){a.forEach(function(c,d){P(c)&&(e[b]+=c*("-"===a[d-1]?-1:1))})}),e}Object.defineProperty(a,"__esModule",{value:!0});var ba="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,Z=function(){for(var a=["Edge","Trident","Firefox"],b=0;b<a.length;b+=1)if(ba&&0<=navigator.userAgent.indexOf(a[b]))return 1;return 0}(),la=ba&&window.Promise?
f:r,V=ba&&!(!window.MSInputMethodContext||!document.documentMode),fa=ba&&/MSIE 10/.test(navigator.userAgent),ga=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),ka=function(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a},pa=Object.assign||function(a){for(var b=
1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},ha=ba&&/Firefox/i.test(navigator.userAgent),oa="auto-start auto auto-end top-start top top-end right-start right right-end bottom-end bottom bottom-start left-end left left-start".split(" "),na=oa.slice(3),wa=function(){function a(b,c){var d=this,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.scheduleUpdate=function(){return requestAnimationFrame(d.update)};this.update=la(this.update.bind(this));this.options=pa({},a.Defaults,e);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=b&&b.jquery?b[0]:b;this.popper=c&&c.jquery?c[0]:c;this.options.modifiers={};Object.keys(pa({},a.Defaults.modifiers,e.modifiers)).forEach(function(b){d.options.modifiers[b]=pa({},a.Defaults.modifiers[b]||{},e.modifiers?e.modifiers[b]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(a){return pa({name:a},
d.options.modifiers[a])}).sort(function(a,b){return a.order-b.order});this.modifiers.forEach(function(a){a.enabled&&p(a.onLoad)&&a.onLoad(d.reference,d.popper,d.options,a,d.state)});this.update();var g=this.options.eventsEnabled;g&&this.enableEventListeners();this.state.eventsEnabled=g}return ga(a,[{key:"update",value:function(){if(!this.state.isDestroyed){var a={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};a.offsets.reference=C(this.state,this.popper,this.reference,
this.options.positionFixed);a.placement=G(this.options.placement,a.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);a.originalPlacement=a.placement;a.positionFixed=this.options.positionFixed;a.offsets.popper=F(this.popper,a.offsets.reference,a.placement);a.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";a=L(this.modifiers,a);this.state.isCreated?this.options.onUpdate(a):(this.state.isCreated=!0,this.options.onCreate(a))}}},
{key:"destroy",value:function(){return this.state.isDestroyed=!0,T(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[H("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}},{key:"enableEventListeners",value:function(){if(!this.state.eventsEnabled){var a=
this.reference,b=this.state;b.updateBound=this.scheduleUpdate;U(a).addEventListener("resize",b.updateBound,{passive:!0});a=m(a);this.state=(K(a,"scroll",b.updateBound,b.scrollParents),b.scrollElement=a,b.eventsEnabled=!0,b)}}},{key:"disableEventListeners",value:function(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=Y(this.reference,this.state))}}]),a}();wa.Utils=("undefined"!=typeof window?window:b).PopperUtils;wa.placements=oa;wa.Defaults={placement:"bottom",positionFixed:!1,
eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(a){var b=a.placement,c=b.split("-")[0];if(b=b.split("-")[1]){var d=a.offsets,e=d.reference,d=d.popper,g=-1!==["bottom","top"].indexOf(c),c=g?"left":"top",g=g?"width":"height",e={start:ka({},c,e[c]),end:ka({},c,e[c]+e[g]-d[g])};a.offsets.popper=pa({},d,e[b])}return a}},offset:{order:200,enabled:!0,fn:function(a,b){var c=b.offset,d=a.offsets,e=d.popper,d=d.reference,g=a.placement.split("-")[0],
h=void 0;return h=P(+c)?[+c,0]:ca(c,e,d,g),"left"===g?(e.top+=h[0],e.left-=h[1]):"right"===g?(e.top+=h[0],e.left+=h[1]):"top"===g?(e.left+=h[0],e.top-=h[1]):"bottom"===g&&(e.left+=h[0],e.top+=h[1]),a.popper=e,a},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(a,b){var c=b.boundariesElement||g(a.instance.popper);a.instance.reference===c&&(c=g(c));var d=H("transform"),e=a.instance.popper.style,h=e.top,f=e.left,k=e[d];e.top="";e.left="";e[d]="";var t=J(a.instance.popper,a.instance.reference,
b.padding,c,a.positionFixed);e.top=h;e.left=f;e[d]=k;b.boundaries=t;var m=a.offsets.popper,q={primary:function(a){var c=m[a];return m[a]<t[a]&&!b.escapeWithReference&&(c=Math.max(m[a],t[a])),ka({},a,c)},secondary:function(a){var c="right"===a?"left":"top",d=m[c];return m[a]>t[a]&&!b.escapeWithReference&&(d=Math.min(m[c],t[a]-("right"===a?m.width:m.height))),ka({},c,d)}};return b.priority.forEach(function(a){var b=-1!==["left","top"].indexOf(a)?"primary":"secondary";m=pa({},m,q[b](a))}),a.offsets.popper=
m,a},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(a){var b=a.offsets,c=b.popper,b=b.reference,d=a.placement.split("-")[0],e=Math.floor,g=-1!==["top","bottom"].indexOf(d),d=g?"right":"bottom",h=g?"left":"top",g=g?"width":"height";return c[d]<e(b[h])&&(a.offsets.popper[h]=e(b[h])-c[g]),c[h]>e(b[d])&&(a.offsets.popper[h]=e(b[d])),a}},arrow:{order:500,enabled:!0,fn:function(a,b){var c=void 0;if(!X(a.instance.modifiers,
"arrow","keepTogether"))return a;var d=b.element;if("string"==typeof d){if(!(d=a.instance.popper.querySelector(d)))return a}else if(!a.instance.popper.contains(d))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),a;var e=a.placement.split("-")[0],g=a.offsets,h=g.popper,f=g.reference,k=-1!==["left","right"].indexOf(e),e=k?"height":"width",t=k?"Top":"Left",g=t.toLowerCase(),m=k?"left":"top",q=k?"bottom":"right",k=O(d)[e];f[q]-k<h[g]&&(a.offsets.popper[g]-=h[g]-(f[q]-
k));f[g]+k>h[q]&&(a.offsets.popper[g]+=f[g]+k-h[q]);a.offsets.popper=A(a.offsets.popper);var f=f[g]+f[e]/2-k/2,p=u(a.instance.popper),q=parseFloat(p["margin"+t],10),t=parseFloat(p["border"+t+"Width"],10),t=f-a.offsets.popper[g]-q-t;return t=Math.max(Math.min(h[e]-k,t),0),a.arrowElement=d,a.offsets.arrow=(c={},ka(c,g,Math.round(t)),ka(c,m,""),c),a},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(a,b){if(T(a.instance.modifiers,"inner")||a.flipped&&a.placement===a.originalPlacement)return a;
var c=J(a.instance.popper,a.instance.reference,b.padding,b.boundariesElement,a.positionFixed),d=a.placement.split("-")[0],e=D(d),g=a.placement.split("-")[1]||"",h=[];switch(b.behavior){case "flip":h=[d,e];break;case "clockwise":h=ea(d);break;case "counterclockwise":h=ea(d,!0);break;default:h=b.behavior}return h.forEach(function(f,k){if(d!==f||h.length===k+1)return a;d=a.placement.split("-")[0];e=D(d);var t=a.offsets.popper,m=a.offsets.reference,q=Math.floor,m="left"===d&&q(t.right)>q(m.left)||"right"===
d&&q(t.left)<q(m.right)||"top"===d&&q(t.bottom)>q(m.top)||"bottom"===d&&q(t.top)<q(m.bottom),p=q(t.left)<q(c.left),v=q(t.right)>q(c.right),r=q(t.top)<q(c.top),q=q(t.bottom)>q(c.bottom),t="left"===d&&p||"right"===d&&v||"top"===d&&r||"bottom"===d&&q,n=-1!==["top","bottom"].indexOf(d),u=!!b.flipVariationsByContent&&(n&&"start"===g&&v||n&&"end"===g&&p||!n&&"start"===g&&q||!n&&"end"===g&&r),p=!!b.flipVariations&&(n&&"start"===g&&p||n&&"end"===g&&v||!n&&"start"===g&&r||!n&&"end"===g&&q)||u;(m||t||p)&&(a.flipped=
!0,(m||t)&&(d=h[k+1]),p&&(g="end"===g?"start":"start"===g?"end":g),a.placement=d+(g?"-"+g:""),a.offsets.popper=pa({},a.offsets.popper,F(a.instance.popper,a.offsets.reference,a.placement)),a=L(a.instance.modifiers,a,"flip"))}),a},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(a){var b=a.placement,c=b.split("-")[0],d=a.offsets,e=d.popper,d=d.reference,g=-1!==["left","right"].indexOf(c),h=-1===["top","left"].indexOf(c);
return e[g?"left":"top"]=d[c]-(h?e[g?"width":"height"]:0),a.placement=D(b),a.offsets.popper=A(e),a}},hide:{order:800,enabled:!0,fn:function(a){if(!X(a.instance.modifiers,"hide","preventOverflow"))return a;var b=a.offsets.reference,c=Q(a.instance.modifiers,function(a){return"preventOverflow"===a.name}).boundaries;if(b.bottom<c.top||b.left>c.right||b.top>c.bottom||b.right<c.left){if(!0===a.hide)return a;a.hide=!0;a.attributes["x-out-of-boundaries"]=""}else{if(!1===a.hide)return a;a.hide=!1;a.attributes["x-out-of-boundaries"]=
!1}return a}},computeStyle:{order:850,enabled:!0,fn:function(a,b){var c=b.x,d=b.y,e=a.offsets.popper,h=Q(a.instance.modifiers,function(a){return"applyStyle"===a.name}).gpuAcceleration;void 0!==h&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var h=void 0!==h?h:b.gpuAcceleration,f=g(a.instance.popper),k=B(f),e={position:e.position},t=R(a,2>window.devicePixelRatio||!ha),c="bottom"===c?"top":"bottom",d="right"===
d?"left":"right",m=H("transform"),q=void 0,p=void 0;(p="bottom"===c?"HTML"===f.nodeName?-f.clientHeight+t.bottom:-k.height+t.bottom:t.top,q="right"===d?"HTML"===f.nodeName?-f.clientWidth+t.right:-k.width+t.right:t.left,h&&m)?(e[m]="translate3d("+q+"px, "+p+"px, 0)",e[c]=0,e[d]=0,e.willChange="transform"):(e[c]=p*("bottom"===c?-1:1),e[d]=q*("right"===d?-1:1),e.willChange=c+", "+d);return a.attributes=pa({},{"x-placement":a.placement},a.attributes),a.styles=pa({},e,a.styles),a.arrowStyles=pa({},a.offsets.arrow,
a.arrowStyles),a},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(a){return N(a.instance.popper,a.styles),I(a.instance.popper,a.attributes),a.arrowElement&&Object.keys(a.arrowStyles).length&&N(a.arrowElement,a.arrowStyles),a},onLoad:function(a,b,c,d,e){d=C(e,b,a,c.positionFixed);a=G(c.placement,d,b,a,c.modifiers.flip.boundariesElement,c.modifiers.flip.padding);return b.setAttribute("x-placement",a),N(b,{position:c.positionFixed?"fixed":"absolute"}),c},gpuAcceleration:void 0}}};
a["default"]=wa}).call(a,b(157))},function(l,a,b){function n(a,b,c,e){var h=e.onDone,f=e.onFailed,k=e.onClick;try{var t=c.positionType;a={matchCssSelector:!0,cssSelector:a,matchTextRule:!1,textRuleOperator:null,textRuleValues:null};(0,m.findInAll)(a,null,function(a){if(a&&a.element){var d=!("fixed"===t||"absolute"===t),e=a.element;z=e;!d&&(0,g.isElementVisible)(e)||d?(u(c,b,k),h&&h(a)):(r(),f&&f())}else f&&f()})}catch(q){d.logger.logInternalError(Error("findWidgetContainer - error "+q)),f&&f()}}function f(a){if((0,
c.getEventTarget)(a)===z)return a.preventDefault(),a.stopImmediatePropagation(),!1}function r(){C.forEach(function(a){(0,g.removeEventListener)(document,a,f)})}function p(){C.forEach(function(a){(0,g.removeEventListener)(document,a,f);(0,g.addEventListener)(document,a,f)})}function u(a,b,c){var d="API"===a.fetchKcType,e=!0===a.isNewAPI,g=!("fixed"===a.positionType||"absolute"===a.positionType);!d||e?(O=function(b){b=b.kcId;b===a.kcId&&(G=b,k(c,d,e),e?((0,v.runBotCommands)(),v.botEventEmmiter.removeListener("WIDGET_LOADED")):
h.botEventEmmiter.removeListener("WIDGET_LOADED"))},e?v.botEventEmmiter.addListener("WIDGET_LOADED",O,b):h.botEventEmmiter.addListener("WIDGET_LOADED",O,b),G!==a.kcId||g?G===a.kcId&&g||r():k(c,d,e)):r()}function k(a,b,h){try{(0,g.removeEventListener)(document,"click",J),J=function(b){try{var g=(0,c.getEventTarget)(b);if(g===z||(0,c.elementContainsChild)(z,g)){b.preventDefault();b.stopImmediatePropagation();var h=(0,A.isIframe)()?(0,B.getIframeId)():y.TOP_WINDOW_ID;e.internalEventListener.dispatchEvent(x.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,
h);a()}else{var f;try{f=-1<["TUUD4GR54UIT","FR6WJFXU3UWQ"].indexOf((0,q.getProduct)(w.eventTrackData[t.cacheGet](w.productIdParameter)))}catch(k){f=(d.logger.log("isTrimble "+k),!1)}f&&e.internalEventListener.dispatchEvent(x.BOT_INTERNAL_EVENTS.BOT_CLICK_OUTSIDE)}return!1}catch(k){d.logger.log("Embedded bot click event "+k)}},b&&!h||(p(),(0,g.addEventListener)(document,"click",J))}catch(f){d.logger.logInternalError(Error("addClickListenerToMappedElement - error "+f))}}Object.defineProperty(a,"__esModule",
{value:!0});a.findWidgetContainer=n;a.removeEmbeddedListeners=r;a.injectWidgetToTargetElement=function(a,b,c,e){var g=e.onDone,f=e.onFound,k=e.onClick;e=e.onFailed;try{"string"!=typeof a&&d.logger.logInternalError(Error("injectWidgetToTargetElement - cssSelector should be a string "+a)),c.isNewAPI?v.botEventEmmiter.removeListener("WIDGET_FAILED"):h.botEventEmmiter.removeListener("WIDGET_FAILED"),D=function(a){a.kcId===c.kcId&&(G="",r())},c.isNewAPI?v.botEventEmmiter.addListener("WIDGET_FAILED",D,
b):h.botEventEmmiter.addListener("WIDGET_FAILED",D,b),n(a,b,c,{onClick:k,onDone:function(a){f&&f(a);var b={onDone:g};try{var e=b.onDone,h=b.onFound,k=(b.onClick,b.onFailed,c.positionType),b=!("fixed"===k||"absolute"===k),t=a.element;h&&h(a);var m=document.querySelector("#apt-widget");if(m&&e){m.classList.remove("apt-hidden");m.style.position=b?"relative":"absolute";m.style.width="0px";m.style.height="0px";m.style.left="0px";m.style.top="0px";var q=c.zIndex;if(m.style.zIndex="number"!=typeof q?E:q,
b){if(b){var p=t.tagName.toLowerCase();/br|input|img|select|textarea/.test(p)?m.parentNode===t.parentNode||t.parentNode.appendChild(m):t!==m.parentNode&&t.appendChild(m)}}else m.parentNode!==(0,A.getBody)()&&(0,A.getBody)().appendChild(m);e&&e(a)}}catch(v){d.logger.logInternalError(Error("injectWidget - "+v))}},onFailed:e})}catch(t){d.logger.logInternalError(Error("injectWidgetToTargetElement - error "+t))}};a.addClickListenerToMappedElement=k;var m=b(20),e=b(11),g=b(0),d=b(2),h=b(96),v=b(35),q=b(21),
w=b(4),t=b(8),x=b(24),A=b(1),B=b(12),y=b(55),c=b(18),E="99998",z=null,J=null,G="",C=["dblclick","mousedown","mouseover"],O=void 0,D=void 0},function(l,a,b){function n(a,b){if((0,k.isBlank)(a)||!b)return!0;var c=(0,g.getEnvironment)(d.eventTrackData[h.cacheGet](d.productIdParameter));if(u.logger.debugMode&&c!==v.PROD_ENVIRONMENT)return!0;var c=(0,r.getCachedConfig)(p.BOT_CHECKSUM_KEY),f=(0,r.getConfig)(p.ENGAGEMENT_CHECKSUM_URL_CONFIG);if(!f)return!0;if(!c&&f)return u.logger.logInternalError(Error("the bot checksum is invalid since there is URL configured but no checksum to validated against")),
!1;c=c[a];if(!c&&!Array.isArray(c)||(0,k.isEmptyArr)(c))return u.logger.logInternalError(Error("the bot checksum is invalid since there is URL configured but no checksum to validated against, array is empty")),!1;var f=(0,m.orderAlphabetically)(b),t=(0,e.sha256)(JSON.stringify(f)),q=-1<c.indexOf(t);return q||(u.logger.logInternalError(Error("the bot checksum is invalid, js checksum: "+t+". engagement checksums:\n         "+JSON.stringify(c))),u.logger.logInternalError(Error("the bot checksum was done on: "+
JSON.stringify(f)))),q}function f(a,b,c){for(var d=0;d<c.length;d++)if(!0===n(a,c[d](b)))return!0;return!1}Object.defineProperty(a,"__esModule",{value:!0});a.validateContentChecksum=a.validateConfigChecksum=void 0;var r=b(1),p=b(60),u=b(2),k=b(0),m=b(25),e=b(95),g=b(21),d=b(4),h=b(8),v=b(6),q=b(161);l=b(159);var w=l.filterKcConfigV1,t=l.filterKcContentV1;b=b(160);var x=b.filterKcConfigV2,A=b.filterKcContentV2;a.validateConfigChecksum=function(a,b){var c=(0,r.getCachedConfig)(p.CHECKSUM_VERSION),d=
void 0;return d=void 0===c||2>=c?[x,w]:3===c?[q.filterKcConfigV3]:[x,w],f(a,b,d)};a.validateContentChecksum=function(a,b){var c=(0,r.getCachedConfig)(p.CHECKSUM_VERSION),d=void 0;return d=void 0===c||2>=c?[A,t]:3===c?[q.filterKcContentV3]:[A,t],f(a,b,d)}},function(l,a,b){function n(a,b){var f=r[a.type];return f.matchRules(a.rules,a.operator,b[f.getAttribute()])}Object.defineProperty(a,"__esModule",{value:!0});a.matchMultiTypeRules=void 0;l=(l=b(163))&&l.__esModule?l:{"default":l};var f=b(0),r={URL:l["default"]};
a.matchMultiTypeRules=function(a,b){var k=a.rules;return!!(0,f.isEmptyArr)(k)||("all"===a.operator?k.every(function(a){return n(a,b)}):k.some(function(a){return n(a,b)}))}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.eventCache=void 0;l=b(8);a.eventCache=new l.LocalCache},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a){if(Array.isArray(a)){for(var b=0,d=Array(a.length);b<a.length;b++)d[b]=a[b];return d}return Array.from(a)}Object.defineProperty(a,
"__esModule",{value:!0});l=b(164);var r=n(l);l=b(165);var p=n(l),u=b(100);l=b(166);var k=n(l),m=b(6),e=b(2),g=b(15);b=b(43);var d=n(b);b=function(a){function b(a){var c=a.compiledRules,d=a.mappedElementId,e=!1,g=!1;return(a.scopeRules||[]).forEach(function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(a.urlScope){var b=(0,u.compileUrlRule)(a.urlScope,a.urlCondition);c.push(b);if(b.cond===m.URL_CONDITION_IS)if(e=!0,a={regex:b.regex,suffix:b.suffix,mappedElementId:d},b.prefix&&
b.prefix.length){var h="/"===b.prefix.charAt(b.prefix.length-1);if(t.insert(b.prefix,a),h)b=b.prefix.substring(0,b.prefix.length-1),0<b.length&&t.insert(b,a)}else l.push(a);else g=!0}}),{hasPositive:e,hasNegative:g}}function q(a){(a.allMappedElements||[]).forEach(function(c,d){var e=a.featureId,g=c||{},h=g.id||e+"::"+d,f;f=g.urlLogicalOperator===m.URL_SCOPES_CONDITION_OR||!g.urlLogicalOperator;var k=[],t=b({compiledRules:k,scopeRules:g.scopeRules||[],mappedElementId:h}),g=t.hasPositive,t=t.hasNegative;
f=(A[h]={featureId:e,isOr:f,rules:k},{isOr:f,hasPositive:g,hasNegative:t});e=f.hasPositive;(f=f.hasNegative)&&B.push(h);!e&&f&&y.push(h)})}var n=new r["default"]((a||{}).cacheCapacity),t=new p["default"],l=[],A={},B=[],y=[],c={};return{buildFeatureTree:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];try{n=new r["default"](n.capacity),t=new p["default"],l=[],A={},B=[],y=[],c={},a.forEach(function(a){a&&a.featureId&&(c[a.featureId]=a,q(a))}),d["default"].syncTrackingPropertiesMetaData()}catch(b){e.logger.log("Build feature tree error: "+
b)}},getFeaturesForUrl:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"pageview";try{var d=(0,u.normalizeUrlToKey)(a),h=(0,u.getCacheKey)(d,b),m=n.get(h);if(void 0!==m)return m;var q=[].concat(f(t.collectByPrefix(d)),f(l)),p=(0,k["default"])(q,d),v=new Set([].concat(f(p),f(B))),r=(0,u.buildMatchedFeaturesMap)({mappedElementsToEvaluate:v,urlKey:d,positiveMappedElementHits:p,mappedElementRulesById:A}),y=(0,u.splitFeaturesByType)(r,c),L=y.pageViewFeatures,T=y.clickEventFeatures;
return n.set((0,u.getCacheKey)(d,"pageview"),L),n.set((0,u.getCacheKey)(d,"click"),T),(0,g.isPageViewEvent)(b)?L:T}catch(H){return e.logger.log("Get features for url error: "+H),[]}},getFeaturesMetadata:function(a){return a.map(function(a){return c[a]}).filter(Boolean)}}}({cacheCapacity:1E4});a["default"]=b},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.matchExpression=function(a,b,p){var u=void 0;switch(b){case "is":u=a===p;break;case "isNot":u=a!==p;break;case "isEmpty":u=(0,
n.isBlank)(a);break;case "isNotEmpty":u=!(0,n.isBlank)(a);break;case "startsWith":u=0===a.indexOf(p);break;case "notStartsWith":p=a.indexOf(p);u=(0,n.isBlank)(a)||0>p||0<p;break;case "endsWith":u=a.indexOf(p)===a.length-p.length;break;case "contains":u=-1<a.indexOf(p);break;case "notEndsWith":b=a.indexOf(p);u=(0,n.isBlank)(a)||0>b||b+p.length<a.length;break;case "notContains":u=(0,n.isBlank)(a)||0>a.indexOf(p);break;default:throw Error("unsupported operator type "+b);}return u};var n=b(0)},function(l,
a,b){Object.defineProperty(a,"__esModule",{value:!0});a.LocalStorageCookie=void 0;var n=function(){function a(b,f){for(var k=0;k<f.length;k++){var m=f[k];m.enumerable=m.enumerable||!1;m.configurable=!0;"value"in m&&(m.writable=!0);Object.defineProperty(b,m.key,m)}}return function(b,f,k){return f&&a(b.prototype,f),k&&a(b,k),b}}(),f=b(10);a.LocalStorageCookie=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return n(a,null,[{key:"setCookie",value:function(a,
b,k){var m=void 0;k&&(m=Date.now()+k);b={value:encodeURIComponent(b),expires:m};localStorage.setItem(a,(0,f.jsonStringify)(b))}},{key:"getCookie",value:function(a){var b=localStorage.getItem(a);if(!b)return null;b=JSON.parse(b);return b.expires&&Date.now()>b.expires?(localStorage.removeItem(a),null):decodeURIComponent(b.value)}},{key:"getAllCookieVal",value:function(b){return(b=a.getCookie(b))?[b]:null}},{key:"deleteCookie",value:function(a){localStorage.removeItem(a)}},{key:"getCookiesRaw",value:function(){return""}}]),
a}()},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.NativeCookie=void 0;var n=function(){function a(b,g){for(var d=0;d<g.length;d++){var h=g[d];h.enumerable=h.enumerable||!1;h.configurable=!0;"value"in h&&(h.writable=!0);Object.defineProperty(b,h.key,h)}}return function(b,g,d){return g&&a(b.prototype,g),d&&a(b,d),b}}(),f=b(4),r=b(1),p=b(9),u=encodeURIComponent,k=decodeURIComponent;a.NativeCookie=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
}return n(a,null,[{key:"setCookie",value:function(a,b,d,h,k){if(!(0,r.isIframe)()){var m=void 0;h=h||((0,r.getConfig)("fullDomainCookie")?window.location.hostname:(0,p.getDomain)());if(d){var n=Date.now(),m=new Date;m.setTime(n+d)}k||(d=(0,r.getConfig)("fullDomainCookie")?(0,p.getDomain)():window.location.hostname,this.deleteCookie(a,d));f.documentRef.cookie=a+"\x3d"+u(b)+(m?"; expires\x3d"+m.toUTCString():"")+"; path\x3d/"+(h&&0<h.trim().length?"; domain\x3d"+h:"")+(0,p.getSameSiteCookieSuffix)()}}},
{key:"getCookieValues",value:function(a){for(var b=f.documentRef.cookie.split(";"),d=void 0,h=[],d=void 0,k=0;k<b.length;k++)d=b[k],d=d.trim(),d=d.split("\x3d"),2===d.length&&d[0]===a&&h.push(d[1]);return h}},{key:"getCookie",value:function(b,g){var d=a.getCookieValues(b);return 0<d.length&&g&&d.every(function(a){return a===d[0]})?k(d[0].trim()):1===d.length?k(d[0].trim()):null}},{key:"getAllCookieVal",value:function(b){b=a.getCookieValues(b);if(0<b.length)for(var g=0;g<b.length;g++)b[g]=k(b[g].trim());
return 0<b.length?b:null}},{key:"deleteCookie",value:function(b,g){a.setCookie(b,null,-1,g,!0)}},{key:"getCookiesRaw",value:function(){return f.documentRef.cookie}}]),a}()},,,function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.MAPPER_NAMESPACE="mapper";a.RESOLVED_CLICK_PROPERTY_RESPONSE="resolvedClickPropertyResponse";a.IFRAME_TO_MASTER_MESSAGES={GET_MAPPER_STATE:"getMapperState",KEYBOARD_MAPPING_TOGGLED:"keyboardMappingToggled"};a.MASTER_TO_IFRAME_MESSAGES={SET_MAPPER_STATE:"setMapperState",
MAPPER_STATE_RESPONSE:"mapperStateResponse"}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.PRODUCT_MAPPER_V2_HIGHLIGHT_ALL="PRODUCT_MAPPER_V2_HIGHLIGHT_ALL";a.PRODUCT_MAPPER_V2_HIGHLIGHT_ALL_FOR_FEATURE="PRODUCT_MAPPER_V2_HIGHLIGHT_ALL_FOR_FEATURE";a.PRODUCT_MAPPER_V2_REMOVE_ALL_HIGHLIGHTED="PRODUCT_MAPPER_V2_REMOVE_ALL_HIGHLIGHTED";a.PRODUCT_MAPPER_V2_REMOVE_HIGHLIGHTED="PRODUCT_MAPPER_V2_REMOVE_HIGHLIGHTED";a.PRODUCT_MAPPER_V2_RESOLVE_CLICK_PROPERTY="PRODUCT_MAPPER_V2_RESOLVE_CLICK_PROPERTY";
a.INTERNAL_IFRAME_EVENTS={HIGHLIGHT_ALL:"PRODUCT_MAPPER_V2_HIGHLIGHT_ALL",HIGHLIGHT_ALL_FOR_FEATURE:"PRODUCT_MAPPER_V2_HIGHLIGHT_ALL_FOR_FEATURE",REMOVE_ALL_HIGHLIGHTED:"PRODUCT_MAPPER_V2_REMOVE_ALL_HIGHLIGHTED",REMOVE_HIGHLIGHTED:"PRODUCT_MAPPER_V2_REMOVE_HIGHLIGHTED"};a.INTERNAL_MASTER_EVENTS={POST_ICON_CLICKED:"PRODUCT_MAPPER_V2_POST_ICON_CLICKED",KEYBOARD_MAPPING_TOGGLED:"PRODUCT_MAPPER_V2_KEYBOARD_MAPPING_TOGGLED"}},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a,
b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function r(a){var b=(0,k.removeFromQueryParam)(ea),b=(0,k.removeFromQueryParam)(ca);(0,K.canUseSessionStorageForRedirect)()&&a&&K.GuideQueryParms.clear();b!==g.windowRef.location.href&&history.replaceState("",document.title,b)}function p(a){var b=a.querySelector(".apt-guide-content-wrapper");(a=a.querySelector((0,J.getSelectorByVersion)(document,"apt-step-footer")))?(a=a.getBoundingClientRect(),
b.style.maxHeight="calc(90vh - "+a.height+"px)"):b.style.maxHeight="90vh";b.style.overflowY="auto"}Object.defineProperty(a,"__esModule",{value:!0});a.getSelectorByVersion=a.GuideDrawerIframe=void 0;var u=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,g=void 0;try{for(var h,f=a[Symbol.iterator]();!(d=(h=f.next()).done)&&(c.push(h.value),!b||c.length!==b);d=!0);}catch(k){e=!0,g=k}finally{try{!d&&f["return"]&&f["return"]()}finally{if(e)throw g;
}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),k=b(0);l=b(38);var m=n(l),e=b(13),g=b(4),d=b(8),h=b(2),v=b(9),q=b(110),w=b(11),t=b(5),x=b(20),A=n(x);l=b(16);var B=n(l),y=b(7),c=b(32);l=b(101);var E=n(l),z=b(1),J=b(148),G=n(J),C=b(146),O=b(62);l=b(86);var D=n(l),F=b(17),Q=b(6),S=b(149),L=b(18),T=b(23),H=b(19),U=b(120),K=b(41),Y=b(147),P=b(31),N=b(105),I=b(37);I.defaultOptions.className="vex-theme-os";I.defaultOptions.closeAllOnPopState=!1;var R=Q.TAB_INDEX_START,
X=void 0,ea="aptGuideId",ca="aptActivationType";b=new function(){this.getElementBoundingRect=function(a){try{var b=(0,y.findElementInWindow)(a,document),c=b.getBoundingClientRect(),d=(0,k.isElementVisible)(b,!0);return{top:c.top,right:c.right,bottom:c.bottom,left:c.left,width:c.width,height:c.height,x:c.x,y:c.y,isVisible:d}}catch(e){return h.logger.logInternalError(e),null}}};a["default"]=function(a,b,n,l){function fa(){return!(0,z.getConfig)("tooltipDynamicReposition")&&Va}function ga(){return yb||
(0,z.getBody)()}function ka(a){-1!==[Ha,Ia,Ma,Na].indexOf(a.target)&&a.stopImmediatePropagation()}function pa(){["click","mousedown","mouseup","touchstart"].forEach(function(a){(0,k.addEventListener)(g.documentRef,a,ka)})}function ha(){["click","mousedown","mouseup","touchstart"].forEach(function(a){(0,k.removeEventListener)(g.documentRef,a,ka)})}function oa(){var a=g.eventTrackData[d.cacheGetAll](),b=JSON.parse((0,P.getGuideStateValue)("apt.localCache"));return(0,z.getConfig)("crossProductEngagement")&&
b&&(a=b),a}function na(a){var b=z.trackMultiStepEndpoint;if(Va&&!0!==E["default"].wasCompletedTracked(ra.executionId)){2===a&&E["default"].markCompletedTracked(ra.executionId);var c=[],c=(0,k.addParameters)(oa(),c);(0,k.addParameters)({ei:ra.engagementId||null,ecoi:ra.contentId||null,ems:a||null,evi:ra.matchEventId||null,ent:2,acci:ra.accountId,exi:ra.executionId,ext:ra.executionTimestamp,cl:ra.contentLocale,at:ra.activationType||"a"},c);Fb&&"kc"===ra.activationType&&(0,k.addParameters)(Fb,c);(a=
(0,T.getGlobalContext)())&&(0,k.addParameters)({gcx:JSON.stringify(a)},c);c=(0,k.addParameters)((0,H.getWebContext)(),c);b+="?"+(0,k.convert2Parameters)(c);e.AjaxUtil.getData(b)}}function wa(){if(Va&&E["default"].wasCompletedTracked(ra.executionId)){var a={engagementId:ra.engagementId};(0,N.trackEngagementCompletedClosed)(a)}}function qa(){wa()}function da(a,b){if(Va&&!E["default"].wasStepTracked(ra.executionId,a)){E["default"].markStepTracked(ra.executionId,a);(0,z.getConfig)("clientSideEngagementTracking")&&
0===b&&na(1);var c=z.trackStepEndpoint,d=[],d=(0,k.addParameters)(oa(),d);(0,k.addParameters)({ei:ra.engagementId,ecoi:ra.contentId,cosi:a,evi:ra.matchEventId,cossn:b,ent:2,acci:ra.accountId,exi:ra.executionId,ext:ra.executionTimestamp,cl:ra.contentLocale,at:ra.activationType||"a"},d);var g=(0,T.getGlobalContext)();g&&(0,k.addParameters)({gcx:JSON.stringify(g)},d);d=(0,k.addParameters)((0,H.getWebContext)(),d);c+="?"+(0,k.convert2Parameters)(d);e.AjaxUtil.getData(c);c=(0,F.toExternalEventGuide)(ra,
"Viewed Step");c.stepNumber=b+1;w.internalEventListener.dispatchEvent("engagementViewedStep",c)}}function W(a){return-1<["TOOLTIP","HOTSPOT"].indexOf(a.type)&&a.elementSelector||"DIALOG"===a.type&&("BAR"===a.dialogViewType&&a.barPosition||a.positionHorizontal&&a.positionVertical)}function ta(a){Object.keys(ub).forEach(function(a){var b=ub[a],c=b.element,d=b.event,b=b.handler;(0,k.removeEventListener)(c,d,b);delete ub[a]})}function sa(a){ta();a&&a.isDom&&cb&&a&&a.isDom&&((0,K.removeClickListener)(a.element,
cb),(0,k.removeEventListener)(a.element,"contextmenu",cb),(0,k.removeEventListener)(a.element,"mouseenter",cb),Gb(a),zb&&(0,k.removeEventListener)(a.element,"keydown",zb));!(0,z.isIframe)()&&a&&!a.isDom&&a.iframeSource&&A["default"].removeElementHandlers(a.iframeSource);S.hotspotEventHandler.removeListener()}function ya(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0;a||(a=ga().querySelector(".apt-hotspot-element"));a&&a.parentNode&&ga().removeChild(a)}function Ka(){Fa[0]&&Fa.pop().close();
sa();ya();Oa&&Oa()}function db(a,b){Ra(a.elementSelector,a.type,function(c,d){if((0,K.isMappedStepType)(d)&&null===c)return void(a.skippable?(0,K.hasGuideBranching)(a)?Pa(b):Aa(b):(Ab(),Oa&&Oa(a.elementSelector)));Ea(c,ra.footer,a.content,ra,a)},void 0,a.autoScroll,a.searchTimeout,a.skippable)}function Ya(a,b){try{b&&0<b||(0,K.isMappedStepType)(a.type)?setTimeout(function(){db(a,b)},b||0):Ea(null,ra.footer,a.content,ra,a)}catch(c){throw ua(),aa(),c;}}function Aa(a){var b=Xa;xa=Xa=Ja;ya();mb=!1;0<
Fa.length&&Fa.pop().close();mb=!0;sa();for(var c=ma[xa];xa<ma.length&&!W(c);)c=ma[++xa];if(void 0===c)return Fa[0]&&Fa.pop().close(),sa(),ya(),void(Oa&&Oa());Ja=xa+1;for(var d=ma[Ja];Ja<ma.length&&!W(d);)d=ma[++Ja];try{a&&0<a?setTimeout(function(){Ra(c.elementSelector,c.type,function(d,e){"TOOLTIP"!==e&&"HOTSPOT"!==e||null!==d?Ea(d,ra.footer,c.content,ra,c):c.skippable?(0,K.hasGuideBranching)(c)?(Xa=b,Pa(a)):Aa(a):(Ab(),Oa&&Oa(c.elementSelector))},void 0,c.autoScroll,c.searchTimeout,c.skippable)},
a):-1<["TOOLTIP","HOTSPOT"].indexOf(c.type)?setTimeout(function(){Ra(c.elementSelector,c.type,function(d,e){-1<["TOOLTIP","HOTSPOT"].indexOf(e)&&null===d?c.skippable?(0,K.hasGuideBranching)(c)?(Xa=b,Pa(a)):Aa(a):(Ab(),Oa&&Oa(c.elementSelector)):Ea(d,ra.footer,c.content,ra,c)},void 0,c.autoScroll,c.searchTimeout,c.skippable)},0):Ea(null,ra.footer,c.content,ra,c)}catch(e){throw ua(),aa(),e;}}function $a(a){var b=a.timeout,c=a.nextStepId;a=a.wasSkippedBefore;ya();mb=!1;0<Fa.length&&Fa.pop().close();
mb=!0;sa();a||(Xa=xa);Ja=ma.findIndex(function(a){return a.id===c});a=(0,K.getLinkedStepFromIndex)(ma,Ja);var d=a.step;if(xa=a.index,void 0===d)return void Ka();Ja=xa+1;Ja=(0,K.getLinkedStepFromIndex)(ma,Ja).index;Ya(d,b)}function La(a){var b=JSON.parse((0,P.getGuideStateValue)("apt.prevStepMap"));b||(b={});b[ma[xa].id]={id:ma[Xa].id,url:g.windowRef.location.href};(0,P.setGuideStateValue)("apt.prevStepMap",JSON.stringify(b));if(a){a=ma[xa];var b=ma[Xa],c=JSON.parse((0,P.getGuideStateValue)("apt.prevStepMapBranching"));
c||(c={});c[a.id]={id:b.id,url:g.windowRef.location.href};(0,P.setGuideStateValue)("apt.prevStepMapBranching",JSON.stringify(c))}}function Pa(a){var b=(0,K.getBranchingSkipToStepId)(ma,xa);b?($a({timeout:a,nextStepId:b,wasSkippedBefore:!0}),La(!0)):Aa(a)}function Sa(a){if((0,K.hasGuideBranching)(ma[xa])){var b=(0,K.getNextStepForNavigation)(ma,xa,Ja);b&&($a({timeout:a,nextStepId:b}),La(!0))}else Aa(a)}function Ta(a,b){try{var c=ra.engagementId,d=a?a.cssSelector:"MISSING",e=c+"_"+d;Rb[e]||(Rb[e]=!0,
h.logger.logInternalMessage({entityId:c,errorType:"ENGAGEMENT_MISSING_ELEMENT",engagementErrorData:{mappedElementId:d,engagementId:c,engagementType:"IN_APP_GUIDE",stepId:ma[xa]&&ma[xa].id||""},flowType:"ENGAGEMENT",exceptionDetails:"element is not found after: "+b,aptrinsicId:g.eventTrackData.data[g.aptrinsicIdParam]||null,sessionId:g.eventTrackData.data[g.sessionIdParam]||null}))}catch(f){h.logger.log("error sending element not found log.\n"+f.message),aa()}}function Ra(a,b,c,d,e,g,h){var f=0<g?
g:gc;if(-1===["TOOLTIP","HOTSPOT"].indexOf(b))return void c(null,b);var m=(new Date).getTime(),q=void 0;(0,x.findInAll)(a,(0,t.getRegisteredIframes)(),function(p){d=d||m;var v=m-d;if(v>f)return Va&&!h&&Ta(a,v),void c(null,b);if(p||setTimeout(function(){Ra(a,b,c,d,e,g,h)},500),p&&p.element){if(q=p.element,(0,k.isElementVisible)(q,!1,null)&&v<=f)return void c({isDom:!0,element:q,isVisible:p.isVisible},b);setTimeout(function(){Ra(a,b,c,d,e,g,h)},500)}else p&&p.iframeData&&setTimeout(function(){A["default"].getElementLocation(p.iframeData,
a,function(a){c({isDom:!1,elementRect:a[0],iframeSource:p.iframeData,isVisible:p.isVisible,iframeOrigin:t.IframeData.iframeOrigin},b)})},e?800:0)},!1,!1,e)}function aa(){try{Bb&&clearInterval(Bb)}catch(a){}}function ua(){Ha&&(Ha.style.display="none",Ha.style.visibility="hidden");Ia&&(Ia.style.display="none",Ia.style.visibility="hidden");Ma&&(Ma.style.display="none",Ma.style.visibility="hidden");Na&&(Na.style.display="none",Na.style.visibility="hidden")}function za(a,b){xa=ma.findIndex(function(a){return a.id===
b});a&&(Xa=ma.findIndex(function(b){return b.id===a}));Ja=Xa+1;xa=(0,K.getPrevLinkedStepFromIndex)(ma,Xa).index;var c=ma[xa];Ra(c.elementSelector,c.type,function(d){if(null===d&&"DIALOG"!==c.type)return void za(a,b);var e=(0,P.getGuideStateValue)("apt.prevStepMapBranching"),e=JSON.parse(e);delete e[b];(0,P.setGuideStateValue)("apt.prevStepMapBranching",JSON.stringify(e));try{Ea(d,ra.footer,c.content,ra,c)}catch(g){throw ua(),aa(),g;}},void 0,c.autoScroll,c.searchTimeout,c.skippable)}function Ba(){var a=
(0,P.getGuideStateValue)("apt.prevStepMapBranching"),a=JSON.parse(a),b=ma[xa].id;(a=(a=a&&a[b])?a.id:"")?za(a,ma[xa].id):va()}function va(){Ja=xa;for(var a=ma[--xa];!W(a);)a=ma[--xa];Xa=xa-1;for(var b=ma[Xa];-1<Xa&&!W(b);)b=ma[--Xa];Ra(a.elementSelector,a.type,function(b){if(null===b&&"DIALOG"!==a.type)return void Ba();try{Ea(b,ra.footer,a.content,ra,a)}catch(c){throw ua(),aa(),c;}},void 0,a.autoScroll,a.searchTimeout,a.skippable)}function Ua(a,b,c){b.classList.contains("apt-guide-arrow-bottom")&&
b.classList.remove("apt-guide-arrow-bottom");b.classList.contains("apt-guide-arrow-top")&&b.classList.remove("apt-guide-arrow-top");b.classList.contains("apt-guide-arrow-right")&&b.classList.remove("apt-guide-arrow-right");b.classList.contains("apt-guide-arrow-left")&&b.classList.remove("apt-guide-arrow-left");b.classList.remove("apt-guide-arrow-top-left");b.classList.remove("apt-guide-arrow-top-right");b.classList.remove("apt-guide-arrow-bottom-right");b.classList.remove("apt-guide-arrow-bottom-left");
b.classList.remove("apt-guide-arrow-top-center");b.classList.remove("apt-guide-arrow-center");if((0,k.isNotEmptyArr)(a)){var d="",e="",g="";"top"===a[1]?(d="apt-guide-arrow-bottom",c&&(e=c+" transparent transparent transparent"),"right"===a[0]?(b.style.borderBottomLeftRadius="0",g="apt-guide-arrow-bottom-left"):"left"===a[0]?(b.style.borderBottomRightRadius="0",g="apt-guide-arrow-bottom-right"):g="apt-guide-arrow-center"):"bottom"===a[1]?(d="apt-guide-arrow-top",c&&(e="transparent transparent "+c+
" transparent"),"right"===a[0]?(b.style.borderTopLeftRadius="0",g="apt-guide-arrow-top-left"):"left"===a[0]?(b.style.borderTopRightRadius="0",g="apt-guide-arrow-top-right"):g="apt-guide-arrow-center"):"left"===a[0]?(d="apt-guide-arrow-right",c&&(e="transparent transparent transparent "+c)):(d="apt-guide-arrow-left",c&&(e="transparent "+c+" transparent transparent"));b.classList.add(d);""!==g&&b.classList.add(g);""!==e&&(a="."+d+"::after{border-color:"+e+";}",b=document.getElementById("apt-guide-arrow-style"),
null===b?b=(0,k.createStyle)(a,"apt-guide-arrow-style"):b.styleSheet?b.styleSheet.cssText=a:(b.innerHTML="",b.appendChild(document.createTextNode(a))),ga().appendChild(b))}}function ab(a,b,c,d,e,g,h){d||(d=0);var f=(0,v.detectIE)(),t=f&&79>f,m=a.isDom?a.element.getBoundingClientRect():a.elementRect,q=(0,v.getPageWidth)(),p=(0,v.getPageHeight)();a=t?Math.floor(m.height):m.height;var f=t?Math.floor(m.width):m.width,n=t?Math.floor(m.left):m.left,r=t?Math.floor(m.top):m.top,w=t?Math.ceil(m.bottom):m.bottom,
t=t?Math.ceil(m.right):m.right,m=0<=n-d?n-d:0;Ha.style.left=m+"px";Ha.style.top="0px";Ha.style.height=(0===r?0:0<r-d?r-d:0)+"px";b&&(Ha.style.background=(0,k.hexToRgba)(b,c?c/100:0));Ia.style.top=r+d+a+"px";Ia.style.height=(0===w?0:p-parseInt(Ia.style.top))+"px";b&&(Ia.style.background=(0,k.hexToRgba)(b,c?c/100:0));Ma.style.left="0px";Ma.style.top="0px";Ma.style.height=p+"px";w=0===n?0:m;Ma.style.width=w+"px";b&&(Ma.style.background=(0,k.hexToRgba)(b,c?c/100:0));m=n+f+d;if(Na.style.left=m+"px",Na.style.top=
"0px",Na.style.height=p+"px",Na.style.width=(0===t?0:q-m)+"px",b&&(Na.style.background=(0,k.hexToRgba)(b,c?c/100:0)),Ha.style.width=m-w+"px",Ia.style.width=m-w+"px",Ha.style.left=w+"px",Ia.style.left=w+"px",Ha.style.display="block",Ha.style.visibility="visible",Ia.style.display="block",Ia.style.visibility="visible",Ma.style.display="block",Ma.style.visibility="visible",Na.style.display="block",Na.style.visibility="visible",0<h?(Ha.style.setProperty("z-index",h),Ia.style.setProperty("z-index",h),Ma.style.setProperty("z-index",
h),Na.style.setProperty("z-index",h)):(Ha.style.removeProperty("z-index"),Ia.style.removeProperty("z-index"),Ma.style.removeProperty("z-index"),Na.style.removeProperty("z-index")),g)b=(0,k.createElement)("div","apt-guide-target-block"),b.style.left=n-d+"px",b.style.width=f+2*d+"px",b.style.height=a+2*d+"px",b.style.top=r-d+"px",e.appendChild(b)}function Ga(a,b){var c=void 0;if(c=JSON.parse((0,P.getGuideStateValue)("apt.prevStepMap")),c||(c={}),c[b.id]={id:a.id,url:g.windowRef.location.href},(0,P.setGuideStateValue)("apt.prevStepMap",
JSON.stringify(c)),(0,P.setGuideStateValue)("apt.stepId",b.id),(ra.engagementId||!1===Va)&&(0,P.setGuideStateValue)("apt.guideId",ra.engagementId),(0,z.getConfig)("crossProductEngagement"))(0,P.getGuideStateValue)("apt.localCache")||(0,P.setGuideStateValue)("apt.localCache",JSON.stringify(g.eventTrackData[d.cacheGetAll]()))}function eb(){(0,P.deleteGuideStateValue)("apt.currentGuideId");(0,P.deleteGuideStateValue)("apt.stepId");(0,P.deleteGuideStateValue)("apt.guideId")}function Ea(a,b,c,d,e,g,f,
k){!0!==g&&(ya(),mb=!1,0<Fa.length&&Fa.pop().close(),sa(a),D["default"].removeAllHandlers(),mb=!0,Cb=a);switch(e.type){case "TOOLTIP":case "DIALOG":return hc(a,b,c,d,e,g,f,k);case "HOTSPOT":return ib(a,d,e,g,f,k);case "BADGE":break;default:h.logger.logInternalError(Error("Unsupported step type "+e.type))}}function fb(a){a=(0,K.buildHotspotStyle)(a);var b=document.getElementById("apt-hotspot-style");b?b.styleSheet?b.styleSheet.cssText=a:(b.innerHTML="",b.appendChild(document.createTextNode(a))):b=
(0,k.createStyle)(a,"apt-hotspot-style");ga().appendChild(b)}function wb(a,b,c,d,e){a.setAttribute("tabindex",R);d=function(){clearInterval(Db);ya(a);aa();qb(b,c);wa()};(0,k.addEventListener)(a,"click",d);(0,y.disableFocusOnClick)(a);(0,k.addEnterKeyDownListener)(a,d);b.hotspotSettings.elementClickTrigger&&S.hotspotEventHandler.addListener(e,b.elementSelector,d)}function ia(a,b,c){w.internalEventListener.addListener("pageview",function fc(){setTimeout(function(){(0,x.findInAll)(a.elementSelector,
(0,t.getRegisteredIframes)(),function(a){a&&(a.element||a.iframeData)&&!1!==a.isVisible||((0,L.elementContainsChild)(ga(),b)&&ya(b),!c.preview&&Oa&&Oa());w.internalEventListener.removeListener("pageview",fc);aa()})},500)});Db=setInterval(function(){try{(0,x.findInAll)(a.elementSelector,(0,t.getRegisteredIframes)(),function(a){a&&(a.element||a.iframeData)&&b.parentElement&&!1!==a.isVisible||(b.parentElement&&ya(b),clearInterval(Db),aa(),!c.preview&&Oa&&Oa())})}catch(d){clearInterval(Db),aa(),h.logger.logInternalError(d)}},
500)}function ob(a,b,c,d){c="TOOLTIP"===d.type&&Qa(c,d);b?(a.style.display="block",c&&(Ha.style.display="block",Ha.style.visibility="visible",Ia.style.display="block",Ia.style.visibility="visible",Ma.style.display="block",Ma.style.visibility="visible",Na.style.display="block",Na.style.visibility="visible")):(a.style.display="none",c&&ua())}function hb(a,b,c,d,e,g,h,f){var t=Ca.getElementPosition(c),m=a[0]!==b[0]||a[1]!==b[1]||a[2]!==b[2]||a[3]!==b[3];f=t[0]!==f[0]||t[1]!==f[1]||t[2]!==f[2]||t[3]!==
f[3];m=m||!m&&f;f=!1;return f=d.isDom?(0,k.isElementVisible)(d.element,!0,!0):d.elementRect.isVisible?(0,k.isElementInIframeVisible)(d.elementRect,d.iframeSource.domElement):void 0===d.elementRect.isVisible&&d.isVisible,ob(c,f,h,e),m&&(b=a,Ca.positionElement(c,d,e.positionHorizontal,e.positionVertical,e.positionTopDelta,e.positionLeftDelta,"HOTSPOT"===e.type,fa()),"TOOLTIP"===e.type&&gb(g,h,e,d)),b}function tb(a,b,c,d,e,g){var f=!0,k=Ca.getElementPosition(c);if(g.preview||Va){var m=function(d){if(d)if(d.element){var h=
Ca.getElementPosition(d.element);d.isDom=!0;b=hb(h,b,c,d,a,e,g,k);k=Ca.getElementPosition(c)}else h=function(h){h={isDom:!1,elementRect:Array.isArray(h)?h[0]:h,isVisible:d.isVisible,iframeSource:d.iframeData,iframeOrigin:t.IframeData.iframeOrigin};var f=Ca.getElementDataPosition(h);b=hb(f,b,c,h,a,e,g,k);k=Ca.getElementPosition(c)},d.elementRect?h(d.elementRect):A["default"].getElementLocation(d.iframeData,a.elementSelector,h)},q=setInterval(function(){try{if(d&&d.isDom&&d.element&&!(0,L.elementContainsChild)(ga(),
d.element)){var b=JSON.stringify(a.elementSelector);h.logger.logInternalError(Error("Guide "+g.id+" on step "+a.id+" with selector "+b+" was closed, mapped element was there and then removed"));lb(a,g)}else(0,x.findInAll)(a.elementSelector,(0,t.getRegisteredIframes)(),m,!1,!1,f&&a.autoScroll),f=!1}catch(c){clearInterval(q),aa(),h.logger.logInternalError(c)}},0<a.repositionInterval?a.repositionInterval:1E3);return q}return null}function ib(a,b,c,d,e,g){(d=c.autoScroll&&a&&a.element&&(0,k.needToScroll)(a.element))&&
(0,k.scrollElementToCenter)(a.element,function(a){return h.logger.logInternalError(a)});fb(c);var f=(0,k.createElement)("span",["apt-hotspot-element","apt-hotspot-dynamic"]);f.setAttribute("data-apt-disable-selector",!0);f.style.display=a.isVisible?"block":"none";(0,k.appendElements)(ga(),[f]);var t=function(){var d=null;if(c&&c.positionHorizontal&&c.positionVertical){var d=Ca.positionElement(f,a,c.positionHorizontal,c.positionVertical,c.positionTopDelta,c.positionLeftDelta,!0,fa()),h=Ca.getElementDataPosition(a);
Bb=tb(c,h,f,a,null,b)}(null===d&&(d=Sb(f,a,c.positionTopDelta,c.positionLeftDelta,!0)),g)||(wb(f,c,b,e,a),ia(c,f,b),h=(0,K.isLastStep)(ma,c,Ja),ma&&(h||1===ma.length)&&na(Q.COMPLETED_TRACKED),c&&da(c.id,c.sequenceNumber));vb&&vb(d);Va&&(0,K.isLastStep)(ma,c,Ja)&&w.internalEventListener.dispatchEvent("engagementCompleted",(0,F.toExternalEventGuide)(ra,"Completed"))};d?setTimeout(t,800):t()}function Qa(a,b){var c=b.overlay&&1>b.overlay.fill&&!b.showOverlay;return(b.overlay&&b.overlay.modal||a.modal)&&
!c}function gb(a,b,c,d,e){var g=a.querySelector(".apt-vex.apt-popup-disable-overlay .vex-overlay"),h=void 0,f=void 0,t=void 0,m=0,q=c.overlay&&c.overlay.modal||b.modal;if(!(c.overlay&&1>c.overlay.fill)||c.showOverlay){q&&(h=ga(),h.classList.contains("apt-non-scroll")||document.documentElement.classList.contains("apt-non-scroll")||(f=(0,v.detectIE)(),(f&&f<=Q.LAST_IE_VERSION?document.documentElement:(0,z.getBody)()).classList.add("apt-non-scroll"),(0,z.getConfig)("enableModalBodyScroll")&&h.classList.add("apt-non-scroll")),
h=c.overlay&&c.overlay.modal&&c.overlay.color||b.overlayColor,f=c.overlay&&c.overlay.modal&&!isNaN(c.overlay.fill)?c.overlay.fill:b.overlayFill,t=c.overlay&&c.overlay.modal&&(c.overlay.padding||0===c.overlay.padding)?c.overlay.padding:b.overlayPadding,m=c.zIndex||c.zindex);if(b&&"TOOLTIP"===c.type){var p=c.overlay&&c.overlay.modal&&c.overlay.blockElement&&!kb(c.navigation.nextStepTrigger);e||ab(d,h,f,t,a,p,m);q||ua()}b&&"DIALOG"===c.type&&(q?(g.style.background=(0,k.hexToRgba)(h,f?f/100:0),g.style.display=
"block"):g.style.display="none")}}function jb(a,b){var d=(0,c.resolveUrlWithPlaceholders)(g.windowRef.location.href,a);if(!((0,K.canUseHistoryReplaceState)()||(0,z.getConfig)("supportAutoHashChangeDetection")&&(0,k.isOnlyHashChanged)(g.windowRef.location.href,d))){var e={aptShowGuide:"1"},h=f({},ea,b.engagementId);Va&&(h[ca]=b.activationType);(0,K.canUseSessionStorageForRedirect)()?b.preview?K.GuideQueryParms.set(e):K.GuideQueryParms.set(h):Object.entries(Da?e:h).forEach(function(a){var b=u(a,2);
a=b[0];b=b[1];d=(0,k.addParameterToUrl)(d,a,b)})}return d}function xb(a,b){return{closeCallback:function(){Hb(b.activationType,b.snoozeButton,b.activationTypes)&&na(Q.COMPLETED_TRACKED);lb(a,b)},startOverGuideCallback:function(a){return Tb(b,a)},customButtonNextCallback:function(d){var e=Va;d.onNavigationNextAction===O.URL_REDIRECTION&&(0,c.resolveUrlWithPlaceholders)(window.location.href,d.url)!==g.windowRef.location.href?(r(e),e=jb(d.url,b),e!==g.windowRef.location.href&&a.sequenceNumber<a.total-
1&&(Ga(a,ma[xa+1]),d.actionType===O.NAVIGATION&&d.onNavigationNextAction===O.URL_REDIRECTION&&d.navigationType===O.NEXT&&d.openNewTab&&pb()),(0,K.redirect)(e,void 0,!1,d.openNewTab)):Aa(null);aa()},customButtonGoToStepCallback:function(a){(a=(0,K.getBranchNextStepIdForCustomButton)(ma,xa,a))?($a({timeout:null,nextStepId:a}),La(!0)):Aa(null)},showPreviousStepCallback:function(c){return Ub(a,b,a&&c)}}}function pb(){(0,U.copySessionStorageToLocalStorageGuideKeys)();lb()}function qb(a,b){if("REDIRECT"===
a.navigation.nextButtonAction&&a.navigation.nextStepUrl&&(0,c.resolveUrlWithPlaceholders)(window.location.href,a.navigation.nextStepUrl)!==g.windowRef.location.href){r(Va);var d=jb(a.navigation.nextStepUrl,b);d!==g.windowRef.location.href&&a.sequenceNumber<a.total-1&&(Ga(a,ma[xa+1]),a.navigation.openInNewTab&&pb());(0,K.redirect)(d,function(){Aa(null)},(0,K.canUseHistoryReplaceState)(),a.navigation.openInNewTab)}else a.navigation.nextButtonAction===O.GO_TO_STEP?Sa(null):a.navigation.nextButtonAction===
O.END_GUIDE?Ka():Aa(null)}function kb(a){return-1<["ELEMENT_CLICK","ELEMENT_HOVER","INPUT_TEXT_COMPLETION"].indexOf(a)}function Qb(a,b){var d=a.total-1;xa>=d&&-1!==["REDIRECT","REPLACE"].indexOf(b.completionClosingAction)&&b.completionClosingRedirectUrl?(d=(0,c.resolveUrlWithPlaceholders)(g.windowRef.location.href,b.completionClosingRedirectUrl),d!==g.windowRef.location.href&&(0,K.redirect)(d,void 0,"REPLACE"===b.completionClosingAction,!1)):xa<d&&"REDIRECT"===b.interruptClosingAction&&b.interruptClosingRedirectUrl&&
(d=(0,c.resolveUrlWithPlaceholders)(g.windowRef.location.href,b.interruptClosingRedirectUrl),d!==g.windowRef.location.href&&(0,K.redirect)(d,void 0,(0,K.canUseHistoryReplaceState)(),!1))}function ic(a){(0,z.getConfig)("guideAdvanceOnHover")&&((0,k.addEventListener)(a.element,"mouseleave",nb,!1),(0,k.addEventListener)(a.element,"mouseout",nb,!1),a.element.nextElementSibling&&((0,k.addEventListener)(a.element.nextElementSibling,"mouseleave",nb,!1),(0,k.addEventListener)(a.element.nextElementSibling,
"mouseout",nb,!1)))}function Gb(a){(0,z.getConfig)("guideAdvanceOnHover")&&((0,k.removeEventListener)(a.element,"mouseleave",nb),(0,k.removeEventListener)(a.element,"mouseout",nb),a.element.nextElementSibling&&((0,k.removeEventListener)(a.element.nextElementSibling,"mouseleave",nb,!1),(0,k.removeEventListener)(a.element.nextElementSibling,"mouseout",nb,!1)))}function Vb(a,b){var c=jc(b);return a.sequenceNumber===c}function Ib(a){return a&&a.reduce(function(a,b){return Math.max(a,b.sequenceNumber)},
a[0].sequenceNumber)}function jc(a){return a&&a.reduce(function(a,b){return Math.min(a,b.sequenceNumber)},a[0].sequenceNumber)}function kc(a){var b=ma&&ma.filter(function(a){return"DIALOG"===a.type});return b&&b.length&&Vb(a,b)}function lc(a){var b=ma&&ma.filter(function(a){return"DIALOG"===a.type});return b&&0<b.length?(b=Ib(b),a.sequenceNumber===b):!1}function mc(a,b,c,d,e){var g=this.contentEl.querySelector(".apt-step-new-index")||this.contentEl.querySelector(".px-step-new-index");g&&1<a.total&&
(g.classList.add("px-step-numbers"),c=c?" "+c+" ":" of ",a=(0,k.createElement)("div",null,{text:b+1+c+a.total}),d&&(a.style.color=d),e&&(a.style.fontSize=e+"px"),g.appendChild(a))}function Tb(a,b){var c=(0,P.getGuideStateValue)("aptCurrentGuideUrl");if(g.windowRef.location.href===c)Ja=0,Xa=-1,xa=0,Aa(0);else{var d=(0,z.getConfig)("supportAutoHashChangeDetection")&&(0,k.isOnlyHashChanged)(g.windowRef.location.href,c);(0,K.redirect)(jb(c,a),function(){d&&(Ja=0,Xa=-1,xa=0);Aa(0)},b,!1)}}function lb(a,
b,c){(0,P.deleteGuideStateValue)("aptCurrentGuideUrl");eb();(0,P.deleteGuideStateValue)("apt.localCache");aa();(0,P.deleteGuideStateValue)("apt.prevStepMap");(0,P.deleteGuideStateValue)("apt.prevStepMapBranching");!c&&Oa&&Oa();0<Fa.length&&Fa.pop().close();sa();a&&b&&Qb(a,b);D["default"].removeAllHandlers();ha();ya();(0,F.removeTabbableEnterListener)();clearTimeout(Jb);clearTimeout(Kb);Kb=Jb=null}function Wb(a,b,c){a.style&&((0,y.addStyleTag)(c,a.style,"px-engagement-wrapper-guide #step-"+b.id,".apt-vex.vex.vex-theme-os"),
(a=a.style.match(/.px-close-button\s*{[^}]*}/))&&(0,y.addStyleTag)(c,".aptr-step-close-button-"+b.id+a[0],"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"))}function Hb(a,b,c){a=(0,F.isSingleStepWithSnooze)(ma.length,a,b,c);return ma&&a&&(Ja>=ma.length||1===ma.length)}function hc(a,b,d,e,f,t,m,q){var v=function(){try{Hb(e.activationType,e.snoozeButton,e.activationTypes)&&na(Q.COMPLETED_TRACKED),ua(),(0,P.deleteGuideStateValue)("aptCurrentGuideUrl"),eb(),(0,P.deleteGuideStateValue)("apt.prevStepMapBranching"),
(0,P.deleteGuideStateValue)("apt.prevStepMap"),aa(),sa(a),Oa&&Oa(),Qb(f,e)}catch(b){h.logger.logInternalError(b,"Error on closing guide")}},r=(0,k.getEscHandlerCallback)(v);(bb=f,(0,y.isElement)(d))||(t=document.createElement("div"),t.innerHTML=(0,y.addNonceToDomString)(d),d=t,d.classList.add("apt-step-wrapper"));var u=0<d.querySelectorAll("#px-editor-v2-content").length;(rb=(0,F.setTabIndexes)(d,M),Lb=rb,Xb=rb+1,Yb=rb+2,Mb=rb+3,rb+=4,u||!bb.titleHtml||(0,y.isElement)(bb.titleHtml))||(t=document.createElement("div"),
t.innerHTML=(0,y.addNonceToDomString)(bb.titleHtml),bb.titleHtml=t);(0,y.isElement)(b)||(t=document.createElement("div"),t.innerHTML=(0,y.addNonceToDomString)(b),b=t.firstChild);t=(0,k.createElement)("div",["apt-step-content","apt-sdk"]);var l=(0,k.createElement)("div",["apt-guide-content-wrapper"]);t.setAttribute("id","step-"+bb.id);t.classList.toggle("px-dialog-container","DIALOG"===f.type);t.classList.toggle("px-tooltip-container","TOOLTIP"===f.type);t.classList.toggle("px-start-guide-dialog",
kc(f));t.classList.toggle("px-end-guide-dialog",lc(f));t.classList.toggle("px-first-step",Vb(f,ma));t.classList.toggle("px-last-step",(0,K.isLastStep)(ma,f,Ja));!u&&bb.titleHtml&&bb.showTitle&&l.insertBefore(bb.titleHtml,l.firstChild);"TOOLTIP"!==f.type||bb.titleHtml||u||(bb.navigation.useElementListener&&kb(bb.navigation.nextStepTrigger)?l.classList.add("apt-guide-tooltip-content"):l.classList.add("apt-guide-tooltip-content-navigation"));d&&b&&(l.appendChild(d),(0,k.appendElements)(t,[l,b]));var x=
null;(b=f.autoScroll&&a&&a.element&&(0,k.needToScroll)(a.element))&&(0,k.scrollElementToCenter)(a.element,function(a){return h.logger.logInternalError(a)});var E=void 0,Y=a&&a.isDom?a.element:null,S=ga();d=S.id;var N={appendLocation:(0,z.getConfig)("framesetMode")?"html":d?"#"+d:"body",enableModalBodyScroll:(0,z.getConfig)("enableModalBodyScroll"),disableTransitionEffect:f.disableTransitionEffect,closeClassName:"aptr-engagement-close-btn px-close-button aptr-step-close-button-"+f.id,unsafeContent:t.outerHTML,
overlayClosesOnClick:!1,closeAllOnPopState:!1,showCloseButton:!0,disableAutoFocus:n||B["default"].isEngagementEditorV2(),afterOpen:function(){function b(a){-1!==[13,9].indexOf(a.keyCode)&&a.currentTarget===Y&&(qb(f,e),(0,k.removeEventListener)(Y,"keydown",b))}var d=this,t=function(a){return(0,y.disableFocusOnClick)(a,d.contentEl)};this.rootEl.style.display="none";(0,z.getConfig)("enableModalBodyScroll")&&S.classList.add("apt-vex");this.rootEl.classList.add("apt-vex");this.rootEl.setAttribute("data-apt-ignore-visible",
!0);this.contentEl.setAttribute("data-apt-disable-selector",!0);ja=this.contentEl;Zb=this.rootEl;$b=this.overlayEl;this.rootEl.classList.add("apt-popup-disable-overlay");this.contentEl.classList.add("apt-guide-popup");this.contentEl.classList.add("guide-initial-position");this.contentEl.classList.add("apt-popup-content-disable-overlay");this.contentEl.classList.add("px-engagement-wrapper-guide");this.contentEl.classList.add("px-engagement-wrapper");var n=f.zindex||f.zIndex||e.zIndex||sb;this.rootEl.style.zIndex=
n;this.contentEl.style.zIndex=n;(f.zindex||f.zIndex||0===n)&&(this.overlayEl.style.zIndex=n);(0,y.addStyleTag)(this.contentEl,e.cssLibraryStyle,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");(0,y.addStyleTag)(this.contentEl,e.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os");(0,y.addStyleTag)(this.contentEl,e.engagementCoreStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");(0,F.addGlobalSettings)(this.contentEl,e.engagementCoreStyling,bb.id,f.paddingSettings);
(0,y.addStyleTag)(this.contentEl,e.overrideStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");n=Nb?e.darkThemeStyle:e.lightThemeStyle;(0,y.addStyleTag)(this.contentEl,n,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");var l=-1<m?m:xa,n=ma[l];Wb(n,f,this.contentEl);e.showStepCounter&&f.showStepCounter&&mc.call(this,f,l,e.stepCounterLabelText,e.stepCounterFontColor,e.stepCounterFontSize);q&&!e.preview||(D["default"].removeAllHandlers(),D["default"].addNavigationHandler(a,f,
e,function(a,b){lb(a,b)}));f&&(f.backgroundImage&&ac(this.contentEl,f.backgroundImage),f.backgroundColor&&(this.contentEl.style.backgroundColor=f.backgroundColor,f.backgroundFill&&(this.contentEl.style.backgroundColor=(0,k.hexToRgba)(f.backgroundColor,f.backgroundFill/100),(0,k.checkDarkColor)(f.backgroundColor)&&this.contentEl.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright"))));f.autoHeight||(f&&f.height&&(this.contentEl.style.height=f.height+"px"),f&&
f.height&&(this.contentEl.querySelector(".apt-step-content").style.height=f.height+"px"));f&&f.width&&(this.contentEl.style.width=f.width+"px");e&&e.borderRadius&&(this.contentEl.style.borderRadius=e.borderRadius+"px");var l=this.contentEl.querySelectorAll((0,J.getSelectorByVersion)(this.contentEl,"apt-step-footer-buttons")),l=l[l.length-1],B=this.closeEl;(0,k.isNullOrUndefined)(f.navigation.showNavigation)||G["default"].setButtonsVisibility(this.contentEl,f.navigation.showNavigation);(0,k.addEventListener)(B,
"click",v);(0,k.addEventListener)(document,"keydown",r);f.shadow&&(0,F.setShadow)(this.contentEl,f.shadowSettings);var I=this.contentEl.querySelector((0,J.getSelectorByVersion)(this.contentEl,"apt-step-footer-next")),P=this.contentEl.querySelector((0,J.getSelectorByVersion)(this.contentEl,"apt-step-footer-button")),N=this.contentEl.querySelector((0,J.getSelectorByVersion)(this.contentEl,"apt-step-footer"));f.isFirstStepNonHotspot&&(G["default"].addSkipButton(N,e.skipButton,f.navigation.backgroundRadius,
!q,function(a,b){return function(){lb(a,b)}}(f,e),e.skipButtonText,t,Mb),(0,F.isSnoozeButtonEnabled)(e.activationType,e.snoozeButton,e.activationTypes)&&G["default"].addSnoozeButton(N,e.snoozeButton,!q,function(a,b){return function(){(0,F.trackSnooze)(ra,a.id,a.sequenceNumber);lb(a,b)}}(f,e),e.snoozeButtonText,t,Lb,u));var V=B=null,L=null,R=null;e.navigationV2&&f.backButton&&(B=f.backButton.text,V=f.backButton.className,L=f.nextButton.text,R=f.nextButton.className);P.innerText=B||e.backButtonText||
"Previous";V=V||e.backButton.className||"";P.setAttribute("tabindex",Xb);P.setAttribute("role","button");V&&P.classList.add(V);I.innerText=L||e.nextButtonText||"Next";R=R||e.nextButton.className||"";I.setAttribute("tabindex",Yb);I.setAttribute("role","button");R&&I.classList.add(R);P.classList.add("apt-step-footer-prev");"TOOLTIP"===f.type&&(a&&a.isDom?(0,k.isEnterAllowedElement)(Y)&&(ub[f.id]={element:Y,event:"keydown",handler:b},(0,k.addEventListener)(Y,"keydown",b)):a&&!a.isDom&&a.iframeSource&&
A["default"].addElementHandler(a.iframeSource,f.elementSelector,f.navigation.nextStepTrigger,function(){qb(f,e)}));B=(0,K.isLastStep)(ma,f,Ja);V=f.nextButton;L=f.backButton;if(f&&!f.navigation.useElementListener||q||!kb(f.navigation.nextStepTrigger)){if(0===f.sequenceNumber&&("DIALOG"!==f.type&&"TOOLTIP"!==f.type||(I.innerText=e.getStartedButtonText||e.startButton&&e.startButton.text||"Get Started",V=e.startButton,I.style.width="")),0!==f.sequenceNumber&&f.showPreviousButton||(q?P.style.display="none":
P.parentNode===l&&l.removeChild(P)),B&&(I.innerText=e.endButtonText||"End Tour",V=e.endButton,1<f.total&&(P.innerText=e.restartButtonText||"Start Over",L=e.restartButton)),!q&&e)if(B){var R=function(){T||(T=!0,Hb(e.activationType,e.snoozeButton,e.activationTypes)&&na(Q.COMPLETED_TRACKED),lb(f,e))},T=!1;(0,k.addEventListener)(I,"click",R);(0,k.addEnterKeyDownListener)(I,R);t(I);R=function(){return Tb(e,(0,K.canUseHistoryReplaceState)())};(0,k.addEventListener)(P,"click",R);(0,k.addEnterKeyDownListener)(P,
R);t(P)}else{var H=!1,R=function(){if(H)return void h.logger.log("next already clicked");H=!0;qb(f,e);aa()};(0,k.addEventListener)(I,"click",R);(0,k.addEnterKeyDownListener)(I,R);t(I);R=function(){return Ub(f,e,f&&f.navigation&&"HISTORY_BACK"==f.navigation.previousButtonAction)};(0,k.addEnterKeyDownListener)(P,R);t(P);(0,k.addEventListener)(P,"click",R)}t=xb(f,e);(0,C.setCustomButtonEventListener)(this.contentEl,f.customAction,t,ra,f.id);t=N.querySelector(".px-step-navigation-skip");R=N.querySelector(".px-step-navigation-snooze");
G["default"].setStepNavigationV2Style({guideSettings:e,stepSettings:f,nextButton:I,prevButton:P,skipButtonDom:t,snoozeButtonDom:R,footerElement:N,stepPrevButtonStyleSettings:L,stepNextButtonStyleSettings:V,navigation:f.navigation});(q&&f.navigation.useElementListener||kb(f.navigation.nextStepTrigger))&&(e.showStepCounter&&f.showStepCounter||(N.style.display="none"),l.style.display="none",I.style.display="none",P.style.display="none")}else e.showStepCounter&&f.showStepCounter||(N.style.display="none"),
l.style.display=I.style.display=P.style.display="none";if((kb(f.navigation.nextStepTrigger)||f.navigation.useElementListener)&&!q&&a){var Z=function(){f.navigation.nextButtonAction===O.GO_TO_STEP?Sa(1E3):f.navigation.nextButtonAction===O.END_GUIDE?Ka():Aa(1E3);a.isDom&&("ELEMENT_CLICK"===f.navigation.nextStepTrigger&&((0,k.removeEventListener)(a.element,"keydown",zb),(0,K.removeClickListener)(a.element,cb,Ob),(0,k.removeEventListener)(a.element,"contextmenu",cb)),"ELEMENT_HOVER"===f.nextStepTrigger&&
((0,k.removeEventListener)(a.element,"mouseenter",cb),Gb(a)));U=!1},U=!0;Ob=function(a){bc=a.target};cb=function(b){if(!(0,k.isEnterAllowedElement)(a.element)&&("pointerup"!==b.type||(0,y.checkIfSameElement)(bc,b.target))&&U)if(D["default"].removeAllHandlers(),-1<["ELEMENT_CLICK","INPUT_TEXT_COMPLETION"].indexOf(f.navigation.nextStepTrigger)&&f.navigation.nextStepUrl&&("REDIRECT"===f.navigation.nextButtonAction&&g.windowRef.location.href!==f.navigation.nextStepUrl||"SHOW_ON_NEXT_PAGE"===f.navigation.nextButtonAction)){if(b=
-1<m?m:xa,b<f.total-1&&(Ga(f,ma[xa+1]),f.navigation.openInNewTab&&pb()),"REDIRECT"===f.navigation.nextButtonAction){var d=(0,c.resolveUrlWithPlaceholders)(g.windowRef.location.href,f.navigation.nextStepUrl);b=b<f.total-1?jb(d,e):d;(0,K.redirect)(b,Z,(0,K.canUseHistoryReplaceState)(),f.navigation.openInNewTab)}}else Z()};a.isDom?("ELEMENT_CLICK"===f.navigation.nextStepTrigger&&((0,K.addClickListener)(a.element,cb,Ob),(0,k.addEventListener)(a.element,"contextmenu",cb)),"ELEMENT_HOVER"===f.navigation.nextStepTrigger&&
((0,k.addEventListener)(a.element,"mouseenter",cb,!1),ic(a)),"ELEMENT_CLICK"!==f.navigation.nextStepTrigger&&"ELEMENT_HOVER"!==f.navigation.nextStepTrigger||(zb=(0,k.addEnterKeyDownListener)(a.element,function(b){cb(b);a.element.blur()}))):A["default"].addElementHandler(a.iframeSource,f.elementSelector,f.navigation.nextStepTrigger,cb)}("DIALOG"===f.type&&"BAR"===f.dialogViewType&&(this.contentEl.style.position="absolute",this.contentEl.classList.add("apt-dialog-bar"),this.contentEl.style.width="100%"),
this.rootEl.style.display="block","DIALOG"!==f.type&&a&&(ob(this.contentEl,a.isVisible,e,f),void 0===a.isVisible&&h.logger.log("showContentStep - get isVisible undefined")),!nc&&f.autoHeight&&"DIALOG"===f.type&&p(this.contentEl),"DIALOG"===f.type&&"BAR"===f.dialogViewType)?(t="bottom",l=0,"TOP"===f.barPosition&&(t="top",l=f.barOffset||0),x=Ca.positionElement(this.contentEl,a,"center",t,l,f.positionLeftDelta),"BOTTOM"===f.barPosition&&(this.contentEl.style.bottom=(f.barOffset||0)+"px",this.contentEl.style.left=
"0px")):f&&f.positionHorizontal&&f.positionVertical&&(x=Ca.positionElement(this.contentEl,a,f.positionHorizontal,f.positionVertical,f.positionTopDelta,f.positionLeftDelta,!1,!(0,z.getConfig)("tooltipDynamicReposition")&&(Va||e.preview)));if(null===x&&(x=a||"DIALOG"!==f.type?Sb(this.contentEl,a,f.positionTopDelta,f.positionLeftDelta):Ca.positionElement(this.contentEl,a,"center","center",f.positionTopDelta,f.positionLeftDelta,!1,fa())),"TOOLTIP"===f.type)null===x?Va&&h.logger.logInternalError(Error("Could not find linked element after attempting to position it, element might be not visible.\nLinked element css selector:"+
f.elementSelector)):(this.contentEl.classList.add("apt-guide-tooltip"),Ua(x,this.contentEl,f&&f.backgroundColor?f.backgroundColor:"#ffffff"),a&&a.isDom&&(E=Za.getFollowScrollHandler(a.element,this.contentEl),Za.handleScrollEvent(Y,E)),t=Ca.getElementDataPosition(a),Bb=tb(f,t,this.contentEl,a,this.rootEl,e));if(gb(this.rootEl,e,f,a),(0,F.removeCicularTabsWrapperListener)(X),Qa(e,f)&&(Va||e.preview))t=function(){var a=d.contentEl.querySelector("[tabindex]");a&&(0,y.focusElement)(a)},X="TOOLTIP"===f.type?
(0,F.addCircularTabListenerForTooltips)(t,a&&a.element,n.id):(0,F.addCircularTabListener)(t,null,n.id);f&&da(f.id,f.sequenceNumber);t=(0,F.isSingleStepWithSnooze)(ma.length,e.activationType,e.snoozeButton,e.activationTypes);ma&&!t&&(B||1===ma.length)&&na(Q.COMPLETED_TRACKED);(0,F.listenToLinksClicks)(this.rootEl,e,{stepId:n.id});Va&&B&&w.internalEventListener.dispatchEvent("engagementCompleted",(0,F.toExternalEventGuide)(ra,"Completed"))},beforeClose:function(){var b;if(b=!mb){b=ma[xa];var c=!1;b=
(b&&"HOTSPOT"!==b.type&&(c=b.overlay&&b.overlay.modal?0<b.overlayFill:e&&e.modal&&0<e.overlayFill),c)}b||(S.classList.remove("apt-vex"),S.classList.remove("apt-non-scroll"),document.documentElement.classList.remove("apt-non-scroll"));aa();ua();Za.clearScrollEventListenerFromParents(Y);(0,k.removeEventListener)(document,"keydown",r);sa(a);(0,F.removeCicularTabsWrapperListener)(X);Eb&&Eb();mb&&!e.preview&&Oa&&Oa()}};N.afterClose=qa;d=function(){var a=I.open(N);Fa.push(a);vb&&vb(x)};b?setTimeout(d,800):
d()}function Sb(a,b,c,d,e){function g(f,h){return Ca.positionElement(a,b,f,h,c,d,e,fa())}return g("right","top")||g("center","top")||g("right","center")||g("right","bottom")||g("center","bottom")||g("left","bottom")||g("left","center")||g("left","top")}function Ab(){aa();ua();cc();ya();Fa=[];Cb&&Gb(Cb);Cb=void 0}function ac(a,b){a&&(a.style.backgroundPosition="center",a.style.backgroundRepeat="no-repeat",a.style.backgroundSize="cover",a.style.backgroundImage="url("+b+")")}function cc(){for(var a=
0;a<Fa.length;a++)Fa[a].close();a=document.querySelectorAll(".vex-closing");0<a.length&&a.forEach(function(a){return ga().removeChild(a)})}function dc(a,b,c,d){ec(a,b,c,d);0<b.timeout&&(Kb=setTimeout(function(){lb()},b.timeout*k.MILLISEC))}var Wa=this,yb=l,Ca=a||new m["default"],Va=!(n||B["default"].isEditorMode()),Da=n||!!B["default"].isEditorMode(),nc=!B["default"].isEditorMode()&&n,gc=15*k.MILLISEC,Za=new q.ScrollEventBinder,sb=b||void 0,M=Q.TAB_INDEX_START+1,ub={},Rb={},Nb=!1,Fa=[],Xa=-1,Ja=0,
xa=0,ma=null,ra=null,Oa=null,Eb=null,vb=null,bb=null,Bb=void 0,Cb=void 0,cb=null,Ob=null,bc=null,zb=null,ja=null,Zb=null,$b=null,rb=void 0,Mb=void 0,Lb=void 0,Xb=void 0,Yb=void 0,Pb=!1,mb=!0,Ha=void 0,Ia=void 0,Ma=void 0,Na=void 0,Db=void 0,Fb=null,Jb=null,Kb=null;(0,v.addDOMReadyListener)(function(){document.querySelector(".apt-guide-overlay-top")?Ha=document.querySelector(".apt-guide-overlay-top"):(Ha=document.createElement("div"),Ha.className="apt-guide-overlay-top",Ha.style.display="none",Ha.style.visibility=
"hidden");document.querySelector(".apt-guide-overlay-bottom")?Ia=document.querySelector(".apt-guide-overlay-bottom"):(Ia=document.createElement("div"),Ia.className="apt-guide-overlay-bottom",Ia.style.display="none",Ia.style.visibility="hidden");document.querySelector(".apt-guide-overlay-left")?Ma=document.querySelector(".apt-guide-overlay-left"):(Ma=document.createElement("div"),Ma.className="apt-guide-overlay-left",Ma.style.display="none",Ma.style.visibility="hidden");document.querySelector(".apt-guide-overlay-right")?
Na=document.querySelector(".apt-guide-overlay-right"):(Na=document.createElement("div"),Na.className="apt-guide-overlay-right",Na.style.display="none",Na.style.visibility="hidden");var a=ga();a.appendChild(Ha);a.appendChild(Ia);a.appendChild(Ma);a.appendChild(Na)});this.hideOverlay=ua;this.showOverlay=ab;this.showOverlayForStep=gb;this.showStepById=function(a){ma.forEach(function(b,c){b.id===a&&(Ja=c)});Aa()};this.findElementInPage=Ra;var nb=function(a){a.stopImmediatePropagation()};this.checkHasOverlayForCurrentStep=
function(){if(ma){var a=ma[xa];return!!a&&Qa(ra,a)}return!1};this.getStepSettings=function(){return ma[xa]};var Ub=function(a,b,c){var d=!0;if(c)history.back();else{c=JSON.parse((0,P.getGuideStateValue)("apt.prevStepMap"));var e=null;if(c&&(e=c[a.id]),e)if(aa(),eb(),(0,P.setGuideStateValue)("apt.stepId",e.id),a=e.url,r(Va),a!==g.windowRef.location.href)d=!1,b=(0,z.getConfig)("supportAutoHashChangeDetection")&&(0,k.isOnlyHashChanged)(g.windowRef.location.href,a)?a:(0,k.addParameterToUrl)(a,b.preview?
"aptShowGuide":"aptGuideId",b.preview?"1":b.engagementId),(0,K.redirect)(b,Ba,(0,K.canUseHistoryReplaceState)(),!1)}d&&Ba()};this.setHotspotStyle=function(a){fb(a)};this.setDialogStyle=function(a,b){if(ja&&(a&&(ja.style.borderRadius=a.borderRadius+"px"),b)){if(b.backgroundImage)ac(ja,b.backgroundImage);else{var c=ja;c&&(c.style.removeProperty("background-position"),c.style.removeProperty("background-repeat"),c.style.removeProperty("background-size"),c.style.removeProperty("background-image"))}b.backgroundColor&&
(b.backgroundFill?(ja.style.backgroundColor=(0,k.hexToRgba)(b.backgroundColor,b.backgroundFill/100),(0,k.checkDarkColor)(b.backgroundColor)&&ja.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright")):ja.style.backgroundColor=b.backgroundColor);!b.autoHeight&&b.height?(ja.style.height=b.height+"px",ja.querySelector(".apt-step-content").style.height=b.height+"px"):(ja.style.height="unset",ja.querySelector(".apt-step-content").style.height="unset");b.width&&(ja.style.width=
b.width+"px");b.shadow&&b.shadow.enable?(0,F.setShadow)(ja,b.shadow):(ja.style.removeProperty("filter"),ja.style.removeProperty("-webkit-filter"));c=b.zIndex;Zb.style.zIndex=c;ja.style.zIndex=c;$b.style.zIndex=c}};this.editSkipButton=function(a,b){b&&b.remove();var c=Object.assign({},a.navigation.skipButton,{enabled:a.navigation.skipButton.visible});Wa.toggleSkip(a.navigation.skipButton.visible,c,a.navigation.skipButton.text)};this.editSnoozeButton=function(a,b,c){b&&b.remove();b=Object.assign({},
a,{enabled:a.visible});Wa.toggleSnooze(a.visible,b,a.text,c)};this.setEngNavigationStyle=function(a){var b=a.guideSettings;a=a.stepStyle;if(a.navigation){var c=b.steps[a.navigation.currentStepIndex],d=c.nextButton,e=c.backButton,g=1===a.navigation.stepLength,f=0===a.navigation.currentStepIndex&&!g,h=(0,K.isLastStep)(b.steps,c,a.navigation.currentStepIndex+1),k=!f&&!h&&!g,t=0<ja.querySelectorAll("#px-editor-v2-content").length,m=ja.querySelector((0,J.getSelectorByVersion)(ja,"apt-step-footer")),q=
G["default"].getNavigationButtons(ja),p=ja.querySelector((0,J.getSelectorByVersion)(ja,"apt-step-footer-button")),v=ja.querySelector((0,J.getSelectorByVersion)(ja,"apt-step-footer-next")),p=-1<p.className.indexOf("snooze")?ja.querySelectorAll((0,J.getSelectorByVersion)(ja,"apt-step-footer-button"))[1]:p,n=m.querySelector(".px-step-navigation-skip");Wa.editSkipButton(a,n);(n=m.querySelector(".px-step-navigation-skip"))&&(a.navigation.isFirstStepNonHotspot?n.style.display="block":n.style.display="none");
var r=m.querySelector(".px-step-navigation-snooze");if(Wa.editSnoozeButton(a.navigation.snoozeButton,r,t),r=m.querySelector(".px-step-navigation-snooze"),r&&(r.style.display=a.navigation.isFirstStepNonHotspot?"block":"none"),f&&!h?(v&&(v.innerText=a.navigation.startButton.text,d=b.guideSettings.startButton),p.style.display=f||!a.navigation.showPreviousButton?"none":"block"):k?(p.style.display=a.navigation.showPreviousButton?"block":"none",p.innerText=e.text,v.innerText=d.text,e=c.backButton):g?v&&
(v.innerText=a.navigation.endButton.text,d=b.guideSettings.endButton):h&&(v.innerText=a.navigation.endButton.text,d=b.guideSettings.endButton,p.style.display=a.navigation.showPreviousButton?"block":"none",p.innerText=a.navigation.restartButton.text,e=b.guideSettings.restartButton),m&&p&&v&&a&&a.navigation)g=kb(a.navigation.type),h=!a.showStepCounter&&!c.navigation.showNavigation,f=!c.navigation.showNavigation||g,h=g&&!(b.guideSettings.showStepCounter&&a.showStepCounter)||h,v.style.display=g?"none":
"block",m.style.display=h?"none":"flex",q.style.display=f?"none":"",G["default"].setStepNavigationV2Style({guideSettings:b.guideSettings,stepSettings:c,nextButton:v,prevButton:p,skipButtonDom:n,snoozeButtonDom:r,footerElement:m,stepPrevButtonStyleSettings:e,stepNextButtonStyleSettings:d,navigation:a.navigation})}};this.setEngStyleTag=function(a,b,c){if(ja){var d=ja.querySelectorAll("style");if(d&&d.forEach(function(a){a.remove()}),a)(0,y.addStyleTag)(ja,a.cssLibraryStyle,"px-engagement-wrapper-guide",
".apt-vex.vex.vex-theme-os"),(0,y.addStyleTag)(ja,a.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os"),(0,y.addStyleTag)(ja,a.engagementCoreStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"),(0,y.addStyleTag)(ja,a.overrideStyling,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os"),d=Nb?a.darkThemeStyle:a.lightThemeStyle,(0,y.addStyleTag)(ja,d,"px-engagement-wrapper-guide",".apt-vex.vex.vex-theme-os");b&&Wb(b,b,ja);(0,F.addGlobalSettings)(ja,a.engagementCoreStyling,
void 0,c)}};this.positionDialogAndTooltipInCenter=function(){var a=this.getTargetContainer().getBoundingClientRect();Ca.positionElement(ja,{isDom:!1,elementRect:{left:0,top:0,height:a.height,width:a.width}},"center","center",0,0)};this.updateDialogViewPosition=function(a,b){"DIALOG"===a.type&&(ja.classList.toggle("px-dialog-bar","BAR"===a.position.dialogViewType),"BAR"===a.position.dialogViewType?(ja.style.position="fixed",ja.style.width="100%",ja.style.left="0px","BOTTOM"===a.position.barPosition?
(ja.style.bottom=(a.position.barOffset||0)+"px",ja.style.top="unset"):(ja.style.top=(a.position.barOffset||0)+10+"px",ja.style.bottom="unset")):(ja.style.bottom="unset",ja.style.right="unset",b?Wa.positionDialogAndTooltipInCenter():(ja.style.position="",ja.style.width=a.width+"px")))};this.updateTargetContainer=function(a){yb=a;[Ha,Ia,Ma,Na].forEach(function(a){a&&yb.appendChild(a)})};this.getTargetContainer=ga;this.setStepNavigationVisibility=function(a){G["default"].setButtonsVisibility(ja,a)};
this.setStepCounterVisibility=function(a,b){G["default"].setCounterVisibility(ja,a,b)};this.updateDialogStyle=function(a){var b=a.guideSettings,c=a.stepSettings,d=a.engStyle,e=a.elementData;a=a.dontReposition;ja&&ja.parentElement&&(Wa.setEngStyleTag(d&&d.styleTags,c.styleTag,c.padding),Wa.setDialogStyle(d,c),Wa.setEngNavigationStyle({guideSettings:b,stepStyle:c}),Wa.updateDialogViewPosition(c,a),"TOOLTIP"===c.type&&e?gb(ja.parentElement,b.guideSettings,c,e,a):gb(ja.parentElement,b.guideSettings,c),
!c.overlay||!c.overlay.blockElement)&&(b=ja.parentElement.querySelector(".apt-guide-target-block"))&&ja.parentElement.removeChild(b)};this.changePositionWithFallback=function(a){var b=a.elementData,c=a.stepSettings;a=a.callback;var d=parseInt(c.position.positionTopDelta)||0,e=parseInt(c.position.positionLeftDelta)||0,g=Wa.changePosition(b,c.position.positionHorizontal,c.position.positionVertical,d,e),c=!g;if(ja&&b&&!g)var f=b.element,g=ja.getBoundingClientRect(),h=f.getBoundingClientRect(),f=Math.abs(g.left-
h.left),g=Math.abs(g.right-h.right),g=f>g?"left":f===g?"center":"right",h=b.element,f=ja.getBoundingClientRect(),k=h.getBoundingClientRect(),h=Math.abs(f.top-k.top),f=Math.abs(f.bottom-k.bottom),g=Wa.changePosition(b,g,h>f?"top":h===f?"center":"bottom",d,e);a&&a(g,c)};this.updateStepStyleForDialog=function(a){var b=a.stepSettings,c=a.callback,d=a.skipReposition;Wa.updateDialogStyle({guideSettings:a.guideSettings,stepSettings:b,engStyle:a.engStyle,elementData:null,dontReposition:a.dontReposition});
d||Wa.changePositionWithFallback({elementData:null,stepSettings:b,callback:c})};this.updateStepStyle=function(a,b,c,d,e,g,f,h){var k=f||"BAR"===b.position.dialogViewType,t=function(d){Y.updateTooltipAndHotspotStyle.apply(Wa,[{guideDrawerLocalVariables:{dialog:Fa,currentStepSettings:bb,setTooltipArrowPosition:Ua,setHotspotStyle:fb},elementData:d,guideSettings:a,stepSettings:b,engStyle:c,callback:g,skipReposition:k,dontReposition:f}])};b?("DIALOG"===b.type?Wa.updateStepStyleForDialog({guideSettings:a,
stepSettings:b,engStyle:c,callback:g,dontReposition:f,skipReposition:k}):h?(e=(0,Y.getDummyElementCenter)(yb),t(e)):Ra(e,b.type,t,void 0,!0),ja&&G["default"].setCounterVisibility(ja,d,a.guideSettings.showStepCounter&&b.showStepCounter)):g&&g()};this.showStep=function(a,b,c,d,e,g,f,h,k,t,m){Oa=g;f&&(Eb=f);m&&(vb=m);ma=k;k.sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});g=Ib(k);k=G["default"].populateNavigationFlags(k,g);k.forEach(function(a){a.sequenceNumber===e.sequenceNumber&&(e.showStepCounter=
a.showStepCounter,e.isFirstStepNonHotspot=a.isFirstStepNonHotspot)});g=-1;f=!1;for(m=0;m<k.length;m++)k[m].id===e.id&&(g=m),"BADGE"===k[m].type&&(f=!0);return f&&(--g,--e.total),Ea(a,b,c,d,e,h,g,t)};this.changePosition=function(a,b,c,d,e){var g=null;if(Fa[0]){if((g=Ca.positionElement(Fa[0].contentEl,a,b,c,d,e,!1,fa()))&&0<g.length)return a&&Ua([b,c],Fa[0].contentEl,bb.backgroundColor),g}else{var f=document.querySelector(".apt-hotspot-element");if(f&&(g=Ca.positionElement(f,a,b,c,d,e,!0,fa),0<g.length))return g}return null};
this.changeBarPosition=function(a,b){var c="bottom",d=0;"TOP"===a&&(c="top",d=b);Ca.positionElement(Fa[0].contentEl,null,"center",c,d,0);"BOTTOM"===a&&(Fa[0].contentEl.style.bottom=b+"px")};var ec=function(a,b,c,d){Pb=!0;d&&(Fb=d);a.sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});d=Ib(a);a=G["default"].populateNavigationFlags(a,d);cc();ya();Fa=[];Xa=-1;Ja=0;vb=Eb=void 0;Oa=function(a){c(a);Pb=!1};ma=a;ra=b;xa=0;aa();(0,F.addTabbableEnterListener)();var e=(0,P.getGuideStateValue)("apt.stepId")||
b.startStepId;e&&(Ja=a=a.findIndex(function(a){return a.id===e}),Xa=a-1);(0,P.deleteGuideStateValue)("apt.stepId");(0,P.deleteGuideStateValue)("apt.guideId");pa();!e&&(0,P.setGuideStateValue)("aptCurrentGuideUrl",g.windowRef.location.href);Aa(e?1E3:0)};this.playGuide=function(a,b,c,d){b.activationType===Q.ACTIVATION_TYPE_AUTOMATIC||b.activationTypes&&-1<b.activationTypes.indexOf(Q.EDITOR_ACTIVATION_TYPE_AUTOMATIC)?0<b.delay?Jb=setTimeout(function(){dc(a,b,c,d)},b.delay*k.MILLISEC):dc(a,b,c,d):ec(a,
b,c,d)};this.setIsDarkMode=function(a){Nb=a};this.toggleSkip=function(a,b,c){if(0<Fa.length){var d=Fa[0].contentEl,d=d.querySelector((0,J.getSelectorByVersion)(d,"apt-step-footer"));G["default"].toggle(d,a,b,c,y.disableFocusOnClick,Mb)}};this.toggleSnooze=function(a,b,c,d){if(0<Fa.length){var e=Fa[0].contentEl,e=e.querySelector((0,J.getSelectorByVersion)(e,"apt-step-footer"));G["default"].toggleSnooze(e,a,b,c,y.disableFocusOnClick,d,Lb)}};this.showAll=function(a,b){a.sort(function(a,b){return a.sequenceNumber-
b.sequenceNumber});ma=a;for(var c=0;c<a.length;c++)!function(c){W(a[c])&&(0,x.findInAll)(a[c].elementSelector,(0,t.getRegisteredIframes)(),function(d){if(d){var e={};d.element?(e.isDom=!0,e.element=d.element,Ea(e,b.footer,a[c].content,b,a[c],!0,c,!0)):d.iframeData&&(e.isDom=!1,A["default"].getElementLocation(d.iframeData,a[c].elementSelector,function(d){d&&1===d.length&&(e.elementRect=d[0],Ea(e,b.footer,a[c].content,b,a[c],!0,c,!0))}))}})}(c)};this.isRunning=function(){return Pb};this.hideAll=function(){Ab()};
this.setDefaultPaddingTop=function(b){a.setDefaultTopOffset((0,z.getConfig)("dockMapper")?0:b)};this.clearStepRedirectData=function(){eb()};this.close=function(a){lb(void 0,void 0,a)}};a.GuideDrawerIframe=b;a.getSelectorByVersion=J.getSelectorByVersion},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.initKnowledgeCenterWrapper=a.aptReady=a.aptNotReady=a.aptExternal=void 0;var n=b(1),f=b(4),r=(l=b(117))&&l.__esModule?l:{"default":l},p=b(81),u=b(59),k=b(34),m=b(30),e=b(0),g=[],d=
function(){r["default"].call([arguments])};d.validateEngagementSecurity=function(a,b,d,g){if(!(0,e.isFunction)(g))throw"cannot run validation without callback function";if((0,e.isEmptyArr)(d))throw"cannot run validation for empty engagement array";(0,m.validateEngagements)(a,b,d,g)};a.aptExternal=d;a.aptNotReady=function(){(0,n.getConfig)("enableTag")&&g.push(arguments)};a.aptReady=function(){for(;g&&0<g.length;)r["default"].callCommand(g.shift());f.windowRef[f.aptrinsicGlobalObjName]=d};a.initKnowledgeCenterWrapper=
function(a,b,d){"API"===(0,n.getConfig)("fetchKcType")||(0,k.setIsNewAPI)(!0);if((0,k.getIsNewAPI)()){if(!(0,n.isIframe)()){var e="API"===(0,n.getConfig)("fetchKcType");(!e||e&&(0,k.getKcIsShownViaAPI)())&&(0,u.initKnowledgeCenter)(a,b,null,!1,d)}}else if(!(0,n.isIframe)()){var e="automatic"===(0,n.getConfig)("fetchKcType"),g=null;e||k.KcSessionStorage.getIsDefaultKc()||(g=k.KcSessionStorage.getKcId());(e||!e&&g)&&(0,p.initKnowledgeCenter)(a,b,g,!1,d)}}},function(l,a,b){function n(){throw Error("setTimeout has not been defined");
}function f(){throw Error("clearTimeout has not been defined");}function r(a){if(g===setTimeout)return setTimeout(a,0);if((g===n||!g)&&setTimeout)return g=setTimeout,setTimeout(a,0);try{return g(a,0)}catch(b){try{return g.call(null,a,0)}catch(d){return g.call(this,a,0)}}}function p(a){if(d===clearTimeout)return clearTimeout(a);if((d===f||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(a);try{return d(a)}catch(b){try{return d.call(null,a)}catch(e){return d.call(this,a)}}}function u(){q&&h&&(q=
!1,h.length?v=h.concat(v):w=-1,v.length&&k())}function k(){if(!q){var a=r(u);q=!0;for(var b=v.length;b;){h=v;for(v=[];++w<b;)h&&h[w].run();w=-1;b=v.length}h=null;q=!1;p(a)}}function m(a,b){this.fun=a;this.array=b}function e(){}var g,d;l=l.exports={};try{g="function"==typeof setTimeout?setTimeout:n}catch(t){g=n}try{d="function"==typeof clearTimeout?clearTimeout:f}catch(t){d=f}!0;var h,v=[],q=!1,w=-1;l.nextTick=function(a){var b=Array(arguments.length-1);if(1<arguments.length)for(var d=1;d<arguments.length;d++)b[d-
1]=arguments[d];v.push(new m(a,b));1!==v.length||q||r(k)};m.prototype.run=function(){this.fun.apply(null,this.array)};l.title="browser";l.browser=!0;l.env={};l.argv=[];l.version="";l.versions={};l.on=e;l.addListener=e;l.once=e;l.off=e;l.removeListener=e;l.removeAllListeners=e;l.emit=e;l.prependListener=e;l.prependOnceListener=e;l.listeners=function(a){return[]};l.binding=function(a){throw Error("process.binding is not supported");};l.cwd=function(){return"/"};l.chdir=function(a){throw Error("process.chdir is not supported");
};l.umask=function(){return 0}},function(l,a,b){(function(n){function f(){var a=(0,k.a)();return a.className=k.B,(0,k.s)([a],"hidden"),a}function r(a,b){var d=b?a.offsetWidth:a.offsetHeight;return{size:d,x:b?d:0,y:b?0:d}}function p(a,b,d){if(2>d.length||null===a)return b;switch(a){case "top":case "bottom":b=d[0];var f=d[d.length-1],k="top"===a;d=b.top;var m=f.bottom,p=k?b.left:f.left;b=k?b.right:f.right;return{top:d,bottom:m,left:p,right:b,width:b-p,height:m-d};case "left":case "right":var t=Math.min.apply(Math,
d.map(function(a){return a.left})),n=Math.max.apply(Math,d.map(function(a){return a.right}));d=d.filter(function(b){return"left"===a?b.left===t:b.right===n});b=d[0].top;d=d[d.length-1].bottom;return{top:b,bottom:d,left:t,right:n,width:n-t,height:d-b};default:return b}}function l(a,b){return!a||!b||a.top!==b.top||a.right!==b.right||a.bottom!==b.bottom||a.left!==b.left}Object.defineProperty(a,"__esModule",{value:!0});a.sticky=a.inlinePositioning=a.followCursor=a.delegate=a.createSingleton=a.animateFill=
a.roundArrow=a.hideAll=a["default"]=a.createTippyWithPlugins=void 0;var k=b(124);Object.defineProperty(a,"createTippyWithPlugins",{enumerable:!0,get:function(){return k.m}});Object.defineProperty(a,"default",{enumerable:!0,get:function(){return k.t}});Object.defineProperty(a,"hideAll",{enumerable:!0,get:function(){return k.l}});Object.defineProperty(a,"roundArrow",{enumerable:!0,get:function(){return k.R}});b(64);var m={mouseover:"mouseenter",focusin:"focus",click:"click"};a.animateFill={name:"animateFill",
defaultValue:!1,fn:function(a){var b=a.popperChildren,d=b.tooltip,h=b.content,m=a.props.animateFill&&!k.b?f():null;return{onCreate:function(){m&&(a.popperChildren.backdrop=m,d.insertBefore(m,d.firstElementChild),d.setAttribute("data-animatefill",""),d.style.overflow="hidden",a.setProps({animation:"shift-away",arrow:!1}))},onMount:function(){if(m){var a=d.style.transitionDuration,b=Number(a.replace("ms",""));h.style.transitionDelay=Math.round(b/10)+"ms";m.style.transitionDuration=a;(0,k.s)([m],"visible");
"production"!==n.env.NODE_ENV&&((0,k.w)("absolute"!==getComputedStyle(m).position,"The `tippy.js/dist/backdrop.css` stylesheet has not been\n              imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."),(0,k.w)("none"===getComputedStyle(d).transform,"The `tippy.js/animations/shift-away.css` stylesheet has not\n              been imported!\n              \n              The `animateFill` plugin requires this stylesheet to work."))}},onShow:function(){m&&
(m.style.transitionDuration="0ms")},onHide:function(){m&&(0,k.s)([m],"hidden")},onAfterUpdate:function(){a.popperChildren.backdrop=m}}}};a.createSingleton=function(a,b,d){void 0===b&&(b={});void 0===d&&(d=[]);"production"!==n.env.NODE_ENV&&(0,k.e)(!Array.isArray(a),["The first argument passed to createSingleton() must be an array of tippy instances. The passed value was",String(a)].join(" "));d=b.plugins||d;a.forEach(function(a){a.disable()});var f,m,q=(0,k._)({},k.d,{},b).aria,p=!1,t=a.map(function(a){return a.reference});
return(0,k.t)((0,k.a)(),(0,k._)({},b,{plugins:[{fn:function(b){function d(a){if(f){var e="aria-"+f;a&&!b.props.interactive?m.setAttribute(e,b.popperChildren.tooltip.id):m.removeAttribute(e)}}return{onAfterUpdate:function(a,d){var c=d.aria;void 0!==c&&c!==q&&(p?(p=!0,b.setProps({aria:null}),p=!1):q=c)},onDestroy:function(){a.forEach(function(a){a.enable()})},onMount:function(){d(!0)},onUntrigger:function(){d(!1)},onTrigger:function(g,k){var c=k.currentTarget,p=t.indexOf(c);c!==m&&(m=c,f=q,b.state.isVisible&&
d(!0),b.popperInstance.reference=c,b.setContent(a[p].props.content))}}}}].concat(d),aria:null,triggerTarget:t}))};a.delegate=function(a,b,d){function f(a){if(a.target){var d=a.target.closest(u);if(d){var e=d.getAttribute("data-tippy-trigger")||b.trigger||k.d.trigger;(0,k.i)(e,m[a.type])&&(a=(0,k.t)(d,c))&&(l=l.concat(a))}}}function p(a,b,c,d){void 0===d&&(d=!1);a.addEventListener(b,c,d);t.push({node:a,eventType:b,handler:c,options:d})}function q(a){a=a.reference;p(a,"mouseover",f);p(a,"focusin",f);
p(a,"click",f)}function r(){t.forEach(function(a){a.node.removeEventListener(a.eventType,a.handler,a.options)});t=[]}void 0===d&&(d=[]);"production"!==n.env.NODE_ENV&&(0,k.e)(!(b&&b.target),"You must specity a `target` prop indicating a CSS selector string matching the target elements that should receive a tippy.");d=b.plugins||d;var t=[],l=[],u=b.target,B=(0,k.r)(b,["target"]),y=(0,k._)({},B,{plugins:d,trigger:"manual"}),c=(0,k._)({},B,{plugins:d,showOnCreate:!0});a=(0,k.t)(a,y);return(0,k.n)(a).forEach(function(a){var b=
a.destroy;a.destroy=function(a){void 0===a&&(a=!0);a&&l.forEach(function(a){a.destroy()});l=[];r();b()};q(a)}),a};a.followCursor={name:"followCursor",defaultValue:!1,fn:function(a){function b(a){Object.keys(a).forEach(function(b){C[b]=(0,k.u)(a[b],C[b])})}function d(){var b="manual"===a.props.trigger.trim()||null!==J&&!(0===J.clientX&&0===J.clientY);return a.props.followCursor&&b}function f(){return k.f.isTouch||"initial"===a.props.followCursor&&a.state.isVisible}function m(){a.popperInstance&&E&&
(a.popperInstance.reference=E)}function q(){if(d()||a.props.placement!==C.placement){var b=C.placement,c=b.split("-")[1];G=!0;a.setProps({placement:d()&&c?b.replace(c,"start"===c?"end":"start"):b});G=!1}}function p(){a.popperInstance&&d()&&(f()||!0!==a.props.followCursor)&&a.popperInstance.disableEventListeners()}function t(){d()&&l(u)}function n(){z.removeEventListener("mousemove",l)}function l(b){var d=u=b,g=d.clientX,m=d.clientY;if(a.popperInstance&&a.state.currentPlacement){b=(0,k.h)(b.target,
function(a){return a===y});var t=y.getBoundingClientRect(),d=a.props.followCursor,q="horizontal"===d,p="vertical"===d,v=(0,k.i)(["top","bottom"],(0,k.j)(a.state.currentPlacement)),d=r(c,v),w=d.size,z=d.x,C=d.y;!b&&a.props.interactive||(null===E&&(E=a.popperInstance.reference),a.popperInstance.reference={referenceNode:y,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return{width:v?w:0,height:v?0:w,top:(q?t.top:m)-C,bottom:(q?t.bottom:m)+C,left:(p?t.left:g)-z,right:(p?t.right:g)+z}}},
a.popperInstance.update());f()&&n()}}var u,y=a.reference,c=a.popper,E=null,z=(0,k.g)(a.props.triggerTarget||y),J=null,G=!1,C=a.props;return{onAfterUpdate:function(a,c){G||(b(c),c.placement&&q());c.placement&&p();requestAnimationFrame(t)},onMount:function(){t();p()},onShow:function(){"manual"===a.props.trigger.trim()&&(u=J={clientX:0,clientY:0},q(),d()?z.addEventListener("mousemove",l):m())},onTrigger:function(a,b){J||((0,k.c)(b)&&(J={clientX:b.clientX,clientY:b.clientY},u=b),q(),d()?z.addEventListener("mousemove",
l):m())},onUntrigger:function(){a.state.isVisible||(n(),J=null)},onHidden:function(){n();m();J=null}}}};a.inlinePositioning={name:"inlinePositioning",defaultValue:!1,fn:function(a){var b=a.reference;return{onHidden:function(){a.props.inlinePositioning&&(a.popperInstance.reference=b)},onShow:function(){a.props.inlinePositioning&&(a.popperInstance.reference={referenceNode:b,clientWidth:0,clientHeight:0,getBoundingClientRect:function(){return p(a.state.currentPlacement&&(0,k.j)(a.state.currentPlacement),
b.getBoundingClientRect(),(0,k.k)(b.getClientRects()))}})}}}};a.sticky={name:"sticky",defaultValue:!1,fn:function(a){function b(){var p=!0===a.props.sticky||"reference"===a.props.sticky?(a.popperInstance?a.popperInstance.reference:d).getBoundingClientRect():null,t=!0===a.props.sticky||"popper"===a.props.sticky?f.getBoundingClientRect():null;(p&&l(k,p)||t&&l(m,t))&&a.popperInstance.update();k=p;m=t;a.state.isMounted&&requestAnimationFrame(b)}var d=a.reference,f=a.popper,k=null,m=null;return{onMount:function(){a.props.sticky&&
b()}}}}}).call(a,b(79))},function(l,a,b){function n(a){var b=(0,c.getKcConfig)();if(b){var d=b.kcId;Y=d;r(function(){N=!1;S.botEventEmmiter.dispatchEvent("WIDGET_LOADED",a,{kcId:d})},function(b){N=!1;S.botEventEmmiter.dispatchEvent("WIDGET_FAILED",a,{kcId:d,code:500,message:b})})}}function f(a,b,d,e,g){d=!1;var f=P!==b.kcId;((e||P)&&f&&(z.KnowledgeCenterManager.clearWidgetLoadQueue(),(0,c.setKcConfig)({})),P=b.kcId,(0,c.setKcConfig)(b),a||f)?(z.KnowledgeCenterManager.initWidget({apiKey:B.eventTrackData.data[B.productIdParameter],
aptId:B.eventTrackData.data[B.aptrinsicIdParam],initialConfig:b},!1,I,g),Y?(d=!0,n(g)):Y!==P?(d=!1,z.KnowledgeCenterManager.registerAfterWidgetLoad(function(){return n(g)})):N=!1):f?(d=!0,N=!1):(d=!0,r(function(){N=!1;S.botEventEmmiter.dispatchEvent("WIDGET_LOADED",g,{kcId:P})},function(a){N=!1;S.botEventEmmiter.dispatchEvent("WIDGET_FAILED",g,{kcId:P,code:500,message:a})}));d&&z.KnowledgeCenterManager.updateWidgetConfig()}function r(a,b){z.KnowledgeCenterManager.fetchEntriesAndSendToWidget(B.eventTrackData.data[B.productIdParameter],
B.eventTrackData.data[B.aptrinsicIdParam],a,b)}function p(){Y="";z.KnowledgeCenterManager.removeWidget(P);(0,Q.removeEmbeddedListeners)();P="";(0,c.setKcConfig)({});N=!1}function u(a,b,d,e){var g=e.shouldRemoveWidget,f=e.shouldJustClean,h=e.shouldDispatchEvent;e.shouldRemoveHandlers&&Z.removeAllHandler();g?p():f&&(P="",(0,c.setKcConfig)({}),z.KnowledgeCenterManager.cleanWidget());N=!1;h&&S.botEventEmmiter.dispatchEvent("WIDGET_FAILED",d,{kcId:a,code:b,message:"Could not fetch knowledge center with provided id"})}
function k(a,b,d){var e=3<arguments.length&&void 0!==arguments[3]&&arguments[3],g=arguments[4],f=y.UserData.isUser(),h=T.UUIDGenerator.generateV4Id();(e&&ca&&ba&&(S.botEventEmmiter.addListener("WIDGET_LOADED",ca,h),S.botEventEmmiter.addListener("WIDGET_FAILED",ba,h)),N&&(G.logger.log(d+" is in progress"),u(P,500,h,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!1,shouldRemoveHandlers:!1})),!(0,c.getConfig)("widgetEnabled")||!f||E["default"].isPreview()&&E["default"].getAdditionalDetails().kcId||
N)||(N=!0,f=B.eventTrackData.data[B.productIdParameter],(0,z.fetchKnowledgeCenterConfig)(f,d,function(c){if(c){if(R=c.kcId,!0===c.invalidate)return void p();var f=Object.assign({},c);if(!(0,H.validateConfigChecksum)(R,f))return void u(d,500,h,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});x(c,a,e,h)}else b?N=!1:u(d,500,h,{shouldRemoveWidget:!0,shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});g&&g(c)},function(a){u(d,404,h,{shouldRemoveWidget:!0,
shouldJustClean:!1,shouldDispatchEvent:!0,shouldRemoveHandlers:!0})}))}function m(a,b,d){var e=d.onDone,g=d.onError;d="API"===(0,c.getConfig)("fetchKcType");N&&G.logger.log(a+" is in progress");d&&(ca=function(a){a=a.kcId;b&&z.KnowledgeCenterManager.open();N=!1;e&&"function"==typeof e&&e({id:a})},ba=function(a){var b=a.kcId,c=a.code;a=a.message;N=!1;g&&"function"==typeof g&&g({id:b,code:c,message:a});Z.removeAllHandler()},k(!0,!0,a,!0))}function e(a,b,d,e){var g=(0,c.getKcConfig)()||{},f=g.kcId;0<
Object.keys(g).length&&f?(a?z.KnowledgeCenterManager.open():z.KnowledgeCenterManager.close(e),"function"==typeof b&&b({kcId:f})):"function"==typeof d&&d({kcId:f,code:404,message:"Not bot was found with id provided"})}function g(){var a=document.querySelector("#apt-widget");return a?a&&!a.classList.contains("apt-hidden"):null}function d(a){try{var b=document.querySelector("#apt-widget"),c=g();b&&a!==c&&(a?b.classList.remove("apt-hidden"):b.classList.add("apt-hidden"))}catch(d){G.logger.log("error in togglerBotContainer "+
d)}}function h(){var a=document.querySelector("#apt-widget");return a?!a.querySelector(".apt-widget.apt-widget-window"):!1}function v(){clearInterval(X);X=null;clearTimeout(ea);ea=null}function q(a,b){try{v(),h()?(b(),v()):(X=setInterval(function(){h()&&(b(),v())},200),ea=setTimeout(function(){v();u(P,500,a,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0});G.logger.logInternalError(Error("onWidgetClosed - error - could not close the widget in less than 3 seconds"))},3E3))}catch(c){v(),
u(P,500,a,{shouldRemoveWidget:!0,shouldDispatchEvent:!0,shouldRemoveHandlers:!0}),G.logger.log("onWidgetClosed - error"+c)}}function w(a){return"apt-widget"===a.id||1===a.nodeType&&a.querySelector("#apt-widget")}function t(a){var b=!1,c=!1;return a.some(function(a){return a.addedNodes.forEach(function(a){var b=3===a.nodeType;c||b||(c=w(a))}),c||a.removedNodes.forEach(function(a){var c=3===a.nodeType;b||c||(b=w(a))}),!c&&b})}function x(a,b,c,d){function e(){f(b,a,null,c,d)}var g=(0,K.getElementSelector)(a),
h=function(e,f){var h=t(e);h&&p();(h||f)&&la(b,a,g,c,d)};if((0,K.getIsEmbedded)(a)){var k="injection"===getEmbeddedPositionType(a);P!==a.kcId&&(N=!1,z.KnowledgeCenterManager.cleanWidget(),k&&(Y="",z.KnowledgeCenterManager.removeWidget()));k=z.KnowledgeCenterManager.checkIsInitialized();z.KnowledgeCenterManager.checkIsInitialized()||z.KnowledgeCenterManager.checkIsInProgress()?k&&c&&(Z.removeAllHandler(),(0,Q.removeEmbeddedListeners)(),A(g,e,function(){Z.addHandlers(h,d)})):((0,Q.removeEmbeddedListeners)(),
Z.removeAllHandler(),A(g,e,function(){Z.addHandlers(h,d)}))}else e()}function A(a,b,c){(0,L.addDOMReadyListener)(function(){(0,D.findInAll)(a,(0,F.getRegisteredIframes)(),function(a){a&&b(a);c&&c(a)})})}Object.defineProperty(a,"__esModule",{value:!0});a.removeWidget=p;a.initKnowledgeCenter=k;a.fetchKcByApi=function(a,b){if((0,C.isObject)(a)){var c=function(){I=!1;m(null,b,{onDone:g,onError:e})},d=a.id,e=a.onError,g=a.onDone,f=a.fetchDefault;d?(I=!0,m(d,b,{onDone:g,onError:function(a){!0===f?c():"function"==
typeof e&&e(a)}})):!0===f&&c()}};a.toggleKcBot=e;var B=b(4),y=b(26),c=b(1),E=(l=b(16))&&l.__esModule?l:{"default":l},z=b(34),J=b(11),G=b(2),C=b(0),O=(l=b(36))&&l.__esModule?l:{"default":l},D=b(20),F=b(5),Q=b(65),S=b(96),L=b(9),T=b(14),H=b(66),U=b(18),K=b(35),Y=void 0,P=void 0,N=!1,I=!1,R="",X=void 0,ea=void 0,ca=void 0,ba=void 0,Z=new function(){var a=void 0,b=void 0;this.removeAllHandler=function(){b&&(O["default"].removeObserver(b),b=null);a&&J.internalEventListener.removeListener("pageview",a)};
this.addHandlers=function(g,f){a=function(){if("injection"===getEmbeddedPositionType((0,c.getKcConfig)())){var a=(z.KnowledgeCenterManager.getEmbeddedMappedElement()||{element:null}).element;try{!a||a&&!(0,U.elementContainsChild)((0,c.getBody)(),a)?p():d(!1)}catch(b){p()}}else e(!1),d(!1);g([],!0)};J.internalEventListener.addListener("pageview",a);b=O["default"].addObserver(function(){return!0},g,function(a,b){return t(a)||b})}},la=(0,C.debounce)(function(a,b,h,k,m){try{var t=getEmbeddedPositionType(b);
(0,Q.findWidgetContainer)(h.cssSelector,m,{isNewAPI:!1,positionType:t,fetchKcType:(0,c.getConfig)("fetchKcType"),kcId:b.kcId},{onClick:z.KnowledgeCenterManager.toggleBot,onDone:function(c){R===b.kcId&&(z.KnowledgeCenterManager.updateEmbeddedMappedElement(c),z.KnowledgeCenterManager.checkIsInitialized()||z.KnowledgeCenterManager.checkIsInProgress()||k?z.KnowledgeCenterManager.checkIsInitialized()&&!1===g()&&(e(!1),q(m,function(){d(!0)})):f(a,b,c,k,m))},onFailed:function(){R===b.kcId&&(k?p():(e(!1),
d(!1)))}})}catch(n){clearInterval(X),X=null,G.logger.log("error in updateWidget "+n)}},500)},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function a(b,f){for(var e=0;e<f.length;e++){var g=f[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,f,e){return f&&a(b.prototype,f),e&&a(b,e),b}}();l=b(8);var f=b(1),r=window.localStorage,p=new l.LocalCache;b=function(){function a(){if(!(this instanceof
a))throw new TypeError("Cannot call a class as a function");}return n(a,null,[{key:"storeBadges",value:function(a,b,e){var g=JSON.parse(r.getItem("px.badge"))||{};g.sid!==a&&(g={bgl:[]});g.sid=a;g.bgl=e?b:g.bgl.concat(b);r.setItem("px.badge",JSON.stringify(g))}},{key:"fetchBadges",value:function(a){if(!(0,f.isIframe)()){var b=JSON.parse(r.getItem("px.badge"))||{};return b.sid===a?b.bgl:[]}}},{key:"storeBadge",value:function(a,b){var e=this.fetchBadges(a),g=b.badgeSettings.id,e=e.filter(function(a){return a.badgeSettings.id!==
g});e.push(b);this.storeBadges(a,e,!0)}},{key:"clearAll",value:function(){r.removeItem("px.badge")}},{key:"getBadgesOfIframe",value:function(a){var b=p.getKey("iframeBadges");return b?b[a]?b[a]:[]:(p.setdata("iframeBadges",{}),[])}},{key:"addBadgeToIframe",value:function(b,f){-1<a.getAllBadgesInIframes().indexOf(f)&&a.removeBadgeFromIframe(f);var e=p.getKey("iframeBadges");if(e||p.setdata("iframeBadges",{}),e=p.getKey("iframeBadges"),e[b]){var g=e[b];-1===g.indexOf(f)&&g.push(f);e[b]=g}else e[b]=
[f];p.setdata("iframeBadges",e)}},{key:"getIframeIdOfBadge",value:function(a){var b=p.getKey("iframeBadges"),e=void 0;if(b)for(var g=Object.keys(b),d=0;d<g.length;d+=1){var f=g[d],n=b[f];if(0<n.length&&-1<n.indexOf(a)){e=f;break}}return e}},{key:"removeBadgeFromIframe",value:function(a){var b=p.getKey("iframeBadges");b||p.setdata("iframeBadges",{});b=p.getKey("iframeBadges");Object.keys(b).forEach(function(e){var g=b[e],d=g.indexOf(a);-1<d&&g.splice(d,1);b[e]=g});p.setdata("iframeBadges",b)}},{key:"getAllBadgesInIframes",
value:function(){var a=p.getKey("iframeBadges");return(a?Object.values(a):[]).reduce(function(a,b){return a.concat(b)},[])}},{key:"setIsPreview",value:function(a){p.setdata("isPreview",a)}},{key:"getIsPreview",value:function(){return p.getKey("isPreview")}}]),a}();a["default"]=b},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function r(a){var b=document.createElement("div");
return b.innerHTML=a,1===b.children.length}function p(){var a=document.querySelector(".apt-hotspot-element"),b=document.querySelector(".apt-guide-popup");return!!a||!!b}function u(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1],c=a.positionTopDelta,d=a.positionLeftDelta,e=a.positionVertical,g=a.positionHorizontal,e=e.toLowerCase(),g=g.toLowerCase();"middle"===e&&(e="center");b="center"===e?g:"center"===g?e:e+"-"+(g===(b?"left":"right")?"end":"start");g=("center"===e&&"left"===g?d=
0-d:"top"===e&&(c=0-c),"center"===e?c+", "+d:d+", "+c);return{position:b,offset:g}}function k(a,b){return Element.prototype.matches?a.matches(b):Element.prototype.msMatchesSelector?a.msMatchesSelector(b):(y.logger.log("returning true since matches functionality is missing"),!0)}function m(a,b,d){var e=a.elementSelector,g=a.id,f=e.matchCssSelector,h=e.selector;a=e.cssSelector;var t=e.matchTextRule,m=e.textRule,m=e.htmlTextRule||JSON.parse(m)||{},f={matchCssSelector:f,cssSelector:h||a,matchTextRule:t,
textRuleOperator:m.operator,textRuleValues:m.values},h=void 0;try{(h=(0,D.elementContainsChild)(document,b))&&a&&(h=k(b,a))}catch(q){h=!1}h?d(b):(0,c.findInAll)(f,(0,z.getRegisteredIframes)(),function(a){var b=void 0,c=O["default"].getIframeIdOfBadge(g);a&&a.iframeData?(c&&c!==a.iframeData.iframeId&&E["default"].removeBadgeFromIframe((0,z.getIframeData)(c),g),E["default"].sendBadgeToIframe(a.iframeData,{id:g,elementSelector:e})):a&&a.element?(b=a.element,c&&E["default"].removeBadgeFromIframe(c)):
(y.logger.log("Could not find target element for badge with selector "+e.cssSelector),b=void 0);d(b)})}function e(a){try{var b=a?a.trim():a;if(r(a))return b;var c=document.createElement("div");return c.innerHTML=b,c}catch(d){return y.logger.logInternalError(Error("Badge Tooltip createElementFromHTML "+d)),""}}Object.defineProperty(a,"__esModule",{value:!0});a.ICON_MAP=void 0;var g,d,h=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,
g=void 0;try{for(var f,h=a[Symbol.iterator]();!(d=(f=h.next()).done)&&(c.push(f.value),!b||c.length!==b);d=!0);}catch(k){e=!0,g=k}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.checkStringHasWrapper=r;a.findTarget=m;a.formatContentForTooltip=e;a.Badge=function(a,b,c){function d(a){try{if(W){var b=W.state.isVisible;a&&!b?W.show():!a&&b&&(W.setProps({duration:[0,0]}),W.hide(),W.setProps({duration:[300,
250]}))}}catch(c){y.logger.logInternalError(Error("Error in change visibility of tooltip"+c))}}function g(a,b,c){!W&&b?k(a,b,!1,c):W&&b!==W.state.isVisible&&b&&d(!0)}function f(a){try{if(a){var b=a.backgroundColor,c=a.height,d=a.autoHeight,e=a.width,g=a.showTooltipArrow;if(W){var h=W.popper;h.classList.add("apt-badge-tippy");h.setAttribute("aria-live","polite");var k=h.firstChild,t=k.querySelector(".tippy-content");if(d?t.style.height="":c&&(t.style.height=c+"px"),e&&(t.style.width=e+"px"),g)k.querySelector(".tippy-arrow").style.color=
b;a.shadow?a.shadowSettings&&(0,Q.setShadow)(k,a.shadowSettings):ya&&(k.style.removeProperty("filter"),k.style.removeProperty("-webkit-filter"));k.style.backgroundColor=b}}}catch(m){y.logger.logInternalError(Error("Error in update tooltip: "+m))}}function k(a,b){var c=2<arguments.length&&void 0!==arguments[2]&&arguments[2],g=arguments[3],h=a.positionSettings,m=a.text,p=a.textColor,n=a.showTooltipArrow,v=a.lightThemeStyle,r=a.cssLibraryStyle,l=a.darkThemeStyle;W&&W.state&&!W.state.isDestroyed&&W.destroy();
var z=u(h,!0),h=z.position,z=z.offset,x=m,C="#06f263"!==p,G=document.createElement("div");!(G.innerHTML=m,0<G.children.length)&&C&&(x="\x3cdiv style\x3d'color: "+p+"'\x3e"+m+"\x3c/div\x3e");m=e(x);if(b=b||ya,m)c={trigger:b?"manual":c?"click":"mouseenter focus",zIndex:(0,w.getNumberWithFallback)(g,S),showOnCreate:b,hideOnClick:!b,arrow:!!(0,w.isNullOrUndefined)(n)||n,theme:"badge",placement:h,offset:z,content:m,interactive:!0,allowHTML:!0,flip:!1,maxWidth:"none",sticky:!0,plugins:[q.sticky]},(0,F.useComputeStyleModifierForTooltip)(c),
W=(0,J.addTooltipToElement)(da,c);W&&(f(a),W.popper&&W.popper.firstChild&&(c=W.popper.firstChild,v=Ka?l:v,(0,t.addStyleTag)(c,v,"apt-badge-tippy"),(0,t.addStyleTag)(c,r,"apt-badge-tippy")),b&&d(!0))}function n(a){var b=this,c=u(a,!1),d=c.offset,c={placement:c.position,removeOnDestroy:!1,positionFixed:(0,B.getConfig)("badgesUseFixedPosition"),modifiers:{offset:{offset:d},flip:{enabled:!1}}};((0,F.useComputeStyleModifier)(c),this.targetData)?(c.modifiers.applyStyle={fn:function(c){if((0,w.isObject)(c.styles)&&
(Object.keys(c.styles).forEach(function(a){var b=c.styles[a];"transform"!==a&&c.instance.popper.style.setProperty(a,b)}),b.targetData.rect)){var d=new C["default"],e=a.positionVertical.toLowerCase();"middle"===e&&(e="center");d.positionElement(c.instance.popper,{isDom:!1,elementRect:b.targetData.rect},a.positionHorizontal.toLowerCase(),e,a.positionTopDelta,a.positionLeftDelta,!1,!1,!0,b.targetData.pageYOffset)}return c}},c.onUpdate=function(){x(b.targetData.isVisible);da.style.removeProperty("visibility")}):
c.onUpdate=O.bind(this);return new v["default"](this.target||(0,B.getBody)(),da,c)}function r(a){var b=a.altSettings,b=b&&b.enabled,c=a.engagementTrigger===H;return(a.standalone||c)&&b}function l(){if(this.target||this.targetData){var a=this.badgeAttr,b=a.altSettings,c=a.standalone,d=a.engagementTrigger,e=a.customZIndex;(qa=n.apply(this,[a.positionSettings]),qa.scheduleUpdate(),r(this.badgeAttr))&&k(b,!1,c&&d===H,e)}}function z(a,b){Y(a,function(a){da||(da=document.querySelector("#"+ta));da.innerHTML=
a;Object.assign(da.firstChild.style,{height:"100%",width:"100%",padding:"7%",stroke:b,boxSizing:"border-box"})})}function x(a){try{da&&(a?(da.classList.remove(L),T||qa&&qa.scheduleUpdate()):(d(!1),da.classList.add(L))),T=a}catch(b){y.logger.log("toggleVisibility - "+b)}}function O(){var a=this;da.style.removeProperty("visibility");ya||m(this.badgeAttr,this.target,function(b){(a.target=b,b)?(b=(0,w.isElementVisible)(a.target,!0,!0),qa.reference=a.target,a.isRendered?x.call(a,b):a.render()):a.destroy()})}
function D(b,c){var e=U[b];if(e){var g=function(){var d=p();a.standalone||d||(a.isPreview?a.clickCallback&&a.clickCallback(a.id):((0,A["default"])(c,"b",function(a){a.content.contentType===G.IN_APP_GUIDE&&a.content.steps&&Array.isArray(a.content.steps)&&(a=h(a.content.steps,1)[0])&&"TOOLTIP"===a.type&&0===a.sequenceNumber&&a.stickToBadge&&(a.matchCssSelector=!0,a.cssSelector="#"+da.id)}),"ONCE"===a.qualificationScopeType&&b===H&&a.clickCallback&&a.clickCallback(a.id)))};a.standalone&&(0,w.addEnterKeyDownListener)(da,
function(){d(!W.state.isVisible)});(0,w.addEnterKeyDownListener)(da,g);(0,w.addEventListener)(da,e,g)}}function E(a){var b=a.engagementTrigger,c=a.badgeIcon,d=a.badgeIconColor,e=a.backgroundColor,g=a.backgroundFill,f=a.useImage,h=a.imageUrl,k=a.onClick,t=a.engagementId,m;m=a.customZIndex;var q=a.borderColor,p=a.borderWidth;a=a.badgeHotspotSettings.spotSize+"px";m={zIndex:(0,w.getNumberWithFallback)(m,S),height:a,width:a,borderColor:q,borderWidth:p+"px"};f&&h?(c=(0,w.createElement)("img"),c.src=h,
m.backgroundColor="transparent",0<da.children.length?da.replaceChild(c,da.children[0]):da.appendChild(c)):c?(m.backgroundColor=(0,w.hexToRgba)(e,"number"==typeof g?g/100:1),z(c,d)):y.logger.log("No image nor icon were found for badge");Object.assign(da.style,m);da.id=ta;D(b,t,k);T=P}var K=this,T=N,qa=void 0,da=void 0,W=void 0,ta="apt-"+a.id,sa={},ya=!1,Ka=!1;(function(){var d=this;this.badgeAttr=a;this.isRendered=!1;c?(this.targetData=c,this.target=b):b?this.target=b:m(a,null,function(a){d.target=
a})}).apply(this);this.saveChanges=function(){this.badgeAttr=Object.assign(this.badgeAttr,sa)};this.createTooltip=function(){var a=this.badgeAttr,b=a.engagementTrigger,c=a.customZIndex;k(a.altSettings,!1,a.standalone&&b===H,c,c)};this.getTooltip=function(){return W};this.setEditMode=function(a){ya=a};this.setIsDarkMode=function(a){Ka=a};this.clear=function(){g(this.badgeAttr.altSettings,!0,this.badgeAttr.customZIndex)};this.toggleTooltip=function(a){var b=this.badgeAttr,c=b.altSettings,b=b.customZIndex;
(r(this.badgeAttr)&&a||!a)&&g(c,a,b)};this.repositionTooltip=function(){W&&W.popperInstance&&W.popperInstance.scheduleUpdate()};this.updateTooltipContent=function(a){this.badgeAttr.altSettings.text=e(a)};this.update=function(a,b){var c=-1<b.indexOf("all"),e=-1<b.indexOf("altSettings"),h=a.altSettings;if(!W&&h.enabled&&this.createTooltip(),W&&(c||h&&e)){sa=Object.assign(sa,a);var k=sa.altSettings,t;t=W?W.state.isVisible!==h.enabled:!0;var m;if(W){m=u(h.positionSettings,!0);var q=m.offset,p=W.props,
v=p.offset;m=m.position!==p.placement||q!==v}else m=!0;q=W?W.props.arrow!==h.showTooltipArrow:!0;m?(h=u(h.positionSettings,!0),W.setProps({placement:h.position,offset:h.offset}),W.popperInstance.scheduleUpdate()):q?(W.setProps({arrow:h.showTooltipArrow}),h.showTooltipArrow&&f(k)):t?d(h.enabled):0<Object.keys(h).length&&f(k)}if(c||!e)sa=Object.assign(sa,a),W&&W.popperInstance&&W.popperInstance.scheduleUpdate(),(W&&W.setProps({zIndex:sa.customZIndex}),-1<b.indexOf("positionSettings"))?n.apply(this,
[sa.positionSettings]):-1<b.indexOf("engagementTrigger")?(e=sa,c=e.altSettings,e=e.customZIndex,h=r(sa),g(c,h,e),h||W&&W.setProps({trigger:""})):E.apply(this,[sa])};this.scheduleUpdatePopper=function(){var a=this;m(this.badgeAttr,this.target,function(b){(a.target=b)&&(qa.reference=a.target);qa&&qa.scheduleUpdate()})};this.changePosition=function(a){this.target&&(a=Object.assign(this.badgeAttr.positionSettings,a),n.apply(this,[a]))};this.getDomElement=function(){return da};this.destroy=function(){try{W&&
W.state&&!W.state.isDestroyed&&W.destroy(),da=document.querySelector("#"+ta),(0,F.logBadgeForAppian)("Looking for badge "+ta),da&&((0,F.logBadgeForAppian)("found badge "+ta),da.parentNode.removeChild(da)),(0,F.logBadgeForAppian)("Trying to destroy popper for "+ta),qa&&qa.reference&&((0,F.logBadgeForAppian)("Popper destoryed for "+ta),qa.destroy()),this.isRendered=!1,da=null}catch(a){(0,F.logBadgeForAppian)("Error in destroy badge "+ta,a),y.logger.logInternalError(Error("Could not destroy badge: "+
a))}};this.updateTargetData=function(a,b){K.targetData=b;K.target=a};this.render=function(a){if(this.target||this.targetData){a=a||(0,B.getBody)();da&&this.destroy();da=(0,w.createElement)("div","apt-badge",{});ya||(da.style.visibility="hidden");E.apply(this,[this.badgeAttr]);a.appendChild(da);l.apply(this);this.isRendered=!0;this.badgeAttr.isViewed||(this.badgeAttr.isViewed=!0);da.setAttribute("tabindex",G.TAB_INDEX_START-1);var b=this.badgeAttr;a=b.altSettings;var b=b.alternateText,c=a&&a.enabled;
b?da.setAttribute("aria-label",b):c?da.setAttribute("aria-label",(0,t.stripHtml)(a.text)):da.setAttribute("aria-label","Badge");(0,t.disableFocusOnClick)(da)}}};l=b(64);var v=n(l),q=b(80),w=b(0),t=b(7),x=b(13);l=b(139);var A=n(l),B=b(1),y=b(2),c=b(20),E=n(c),z=b(5),J=b(53),G=b(6);l=b(38);var C=n(l);l=b(82);var O=n(l),D=b(18),F=b(84),Q=b(17),S="99998",L="apt-badge--hidden";b=function(a){return"BADGE_ICON_"+a};l=function(a){return B.staticContentHost+"/images/badge/types/"+a+".svg"};var T=a.ICON_MAP=
(g={},f(g,b(1),l("announce")),f(g,b(2),l("bulb")),f(g,b(3),l("cap")),f(g,b(4),l("exclam")),f(g,b(5),l("question")),f(g,b(6),l("flag")),f(g,b(7),l("guide")),f(g,b(8),l("arrow")),f(g,b(9),l("badge")),f(g,b(10),l("check")),f(g,b(11),l("cross")),f(g,b(12),l("dash")),f(g,b(13),l("feedback")),f(g,b(14),l("info")),f(g,b(15),l("nps")),f(g,b(16),l("star")),f(g,b(17),l("tooltip")),g),H="ON_CLICK",U=(d={},f(d,H,"click"),f(d,"ON_HOVER","mouseover"),d),K={},Y=function(a,b){var c=K[a];if(c)return b(c);x.AjaxUtil.getData(T[a],
function(c){return K[a]=c,b(c)})},P=!0,N=!1},function(l,a,b){function n(a){var b=(0,r.getBody)().getBoundingClientRect().top,e=a.offsets.popper,g=e.left,e=e.top;return 0<b&&(e-=b),a.styles.top="0px",a.styles.left="0px",a.styles.transform="translate("+g+"px, "+e+"px)",a.styles.willChange="transform",a}function f(a){(0,r.getConfig)("enableModalBodyScroll")||(a.modifiers.computeStyle={fn:n})}Object.defineProperty(a,"__esModule",{value:!0});a.useComputeStyleModifier=f;a.useComputeStyleModifierForTooltip=
function(a){(0,r.getConfig)("enableModalBodyScroll")||(a.popperOptions={modifiers:{}},f(a.popperOptions))};a.logBadgeForAppian=function(a,b){var e=(0,u.getProduct)((0,u.getCurrentProductId)());(e=-1<["WFP8KQRSLUDB","FR6WJFXU3UWQ","ZNOUUZAVEFVY","VFU6ONL15QEY","524OZQKRGHKN"].indexOf(e))&&(b?p.logger.logInternalError(b,"BADGE_APP_35294_ERROR "+a,e):p.logger.logInternalError(Error(a),"BADGE_APP_35294_MESSAGE",e))};var r=b(1),p=b(2),u=b(21)},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});
a["default"]=function(a){var b=a.radioOptions,p=a.name,l=a.selectCallback,k=null;this.getSelectedValue=function(){return k};this.render=function(){var m=[];return b&&b.forEach(function(b){var g=(0,n.createInput)("radio","",b.value,"",!1,b.selected,null,{name:p,tabIndex:b.tabIndex||-1});if(b.selected&&(k=b.value),b&&b.value||0===b.value){var d=b.children,h=b.text;b={};var v=[g];h&&(b.text=h);d&&v.push(d);d=a.childrenClassName.split(" ");d=(0,n.createElement)("label",d,b,v);(0,n.addEventListener)(d,
"click",function(){k=g.value;l&&l(g.value)});m.push(d)}}),(0,n.createElement)("div",a.className,null,m)}};var n=b(0)},function(l,a,b){function n(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function");}function f(a,b,d,e){var g=c[a];g||(g={},c[a]=g);g[b]=new J(b,e,d)}function r(a,b){var d;return(d=(d=c[a])?d[b]:null)?d.handlerFunc:null}function p(a){var b=c[a];b&&Object.values(b).forEach(function(a){switch(a.type){case "CLICK":(0,q.removeEventListener)(document,"click",
a.handlerFunc);break;case "PAGE":t.internalEventListener.removeListener("pageview",a.handlerFunc)}});delete c[a];try{y["default"].removeObserver(E[a])}catch(d){}delete E[a]}function u(a,b,c,d){try{(0,x.findInAll)(b.elementSelector,(0,B.getRegisteredIframes)(),function(a){a&&(a.element||a.iframeData)&&!1!==a.isVisible||(y["default"].removeObserver(E[b.id]),p(b.id),d(b,c))})}catch(e){w.logger.logInternalError(e,"failure in mutation observer handler for guide tooltip on redirect"),d(b),y["default"].removeObserver(E[b.id]),
p(b.id)}}function k(a,b){var c=b.modal&&0<b.overlayFill;return a.overlay&&a.overlay.modal?0<a.overlay.fill:c}function m(a,b,c,d,e,g,f){try{if(!k(g,f))if("STEP"!==c||(0,q.hasParentClass)(a.target,"px-engagement-wrapper-guide")||(0,q.hasParentClass)(a.target,"apt-guide-target-block"))"ELEMENT"!==c||(0,q.hasParentClass)(a.target,"px-engagement-wrapper-guide")||(d.isDom?d.element&&!(0,q.hasElement)(d.element,a.target)&&(e(g,f),(0,q.removeEventListener)(document,"click",r(g.id,b)),p(g.id)):(z[d.iframeSource.iframeId]=
{handlerId:b,stepSettings:g,guideSettings:f,errorHandler:e},A["default"].addOutsideEventHandler(d.iframeSource,g.elementSelector)));else{if(d.isDom&&d.element&&(0,q.hasElement)(d.element,a.target))return void setTimeout(function(){(0,q.isElementVisibleProxy)(d.element,!1,null)||(e(g,f),(0,q.removeEventListener)(document,"click",r(g.id,b)),p(g.id))},1500);e(g,f)}}catch(h){w.logger.logInternalError(h,"failed to handle tooltip action for show hide"),(0,q.removeEventListener)(document,"click",r(g.id,
b)),p(g.id)}}function e(a,b,c,d){try{(0,x.findInAll)(b.elementSelector,(0,B.getRegisteredIframes)(),function(a){a&&(a.element||a.iframeData)&&!1!==a.isVisible||d(b)}),t.internalEventListener.removeListener("pageview",r(b.id,a)),p(b.id)}catch(e){w.logger.logInternalError(e,"failure in page change handler for guide tooltip on redirect"),d(b),t.internalEventListener.removeListener("pageview",r(b.id,a)),p(b.id)}}function g(a,b,c){b=(0,q.getHandler)(!1,e,a,b,c);b=v(b,2);c=b[1];f(a.id,b[0],c);t.internalEventListener.addListener("pageview",
c,"PAGE")}function d(a,b,c,d,e){a=(0,q.getHandler)(!0,m,a,b,e,c,d);b=v(a,2);a=b[0];b=b[1];(0,q.addEventListener)(document,"click",b);f(c.id,a,b,"CLICK")}Object.defineProperty(a,"__esModule",{value:!0});var h=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),v=function(){return function(a,b){if(Array.isArray(a))return a;
if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,g=void 0;try{for(var f,h=a[Symbol.iterator]();!(d=(f=h.next()).done)&&(c.push(f.value),!b||c.length!==b);d=!0);}catch(k){e=!0,g=k}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw g;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}(),q=b(0),w=b(2),t=b(11),x=b(20),A=x&&x.__esModule?x:{"default":x},B=b(5),y=(l=b(36))&&l.__esModule?l:{"default":l},c={},E={},z={},J=function F(a,b,c){n(this,F);this.handlerId=
a;this.type=b;this.handlerFunc=c},G=["REDIRECT","SHOW_NEXT","GO_TO_STEP","END_GUIDE"],C=["SHOW_NEXT","REDIRECT","SHOW_ON_NEXT_PAGE","GO_TO_STEP","END_GUIDE"],O=["REDIRECT","SHOW_ON_NEXT_PAGE"];l=new (function(){function a(){n(this,a)}return h(a,[{key:"addNavigationHandler",value:function(a,b,c,e){if("TOOLTIP"===b.type){var f=(0,q.getHandler)(!1,u,b,c,e),h=v(f,2)[1],k=b.navigation,f=k.nextStepTrigger,k=k.nextButtonAction,h=y["default"].addObserver(function(){return!0},h);switch(E[b.id]=h,f){case "NAVIGATION_CLICK":-1<
G.indexOf(k)?("REDIRECT"===k&&g(b,c,e),d("STEP",a,b,c,e)):w.logger.trace("Tried adding tooltip handler for navigation click with unsupported next action type");break;case "ELEMENT_CLICK":-1<C.indexOf(k)?(d("ELEMENT",a,b,c,e),-1<O.indexOf(k)&&g(b,c,e)):w.logger.trace("Tried adding tooltip handler for element click with unsupported next action type");break;case "ELEMENT_HOVER":case "INPUT_TEXT_COMPLETION":d("ELEMENT",a,b,c,e);break;default:w.logger.trace("Tried adding tooltip handler with unsupported next trigger type")}}}},
{key:"handleIframeExternalClick",value:function(a){(a=z[a])&&((0,q.removeEventListener)(document,"click",r(a.stepSettings.id,a.handlerId)),p(a.stepSettings.id))}},{key:"removeAllHandlers",value:function(){try{Object.keys(c).forEach(function(a){p(a)})}catch(a){w.logger.logInternalError(a,"failed to remove all handlers")}}}]),a}());a["default"]=l},function(l,a,b){function n(a,b,n){function q(){return(0,r.validateComment)(a,c,E)}function l(){T.classList.remove("apt-hidden");L.classList.remove("apt-hidden");
U.classList.add("apt-hidden");H.classList.add("apt-hidden")}function t(a,b,c){var d=!0,e=!1,g=void 0;try{for(var f,h=a[Symbol.iterator]();!(d=(f=h.next()).done);d=!0){var k=f.value;if(b===k.from)return void(c.innerHTML=k.comment)}}catch(t){e=!0,g=t}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw g;}}}function x(a){a=F.getLabelElements(a);for(var b=document.createDocumentFragment(),c=0;c<a.length;++c)b.appendChild(a[c]);(0,m.arrayFrom)(C.childNodes).forEach(function(a){return C.removeChild(a)});
C.appendChild(b);C.classList.contains("labelWrapperElement.classList")||C.classList.add("px-labels-show")}function A(b){l();b?(L.classList.add("apt-hidden"),H.classList.remove("apt-hidden")):(T.classList.add("apt-hidden"),U.classList.remove("apt-hidden"));B=b;a.showDynamicComment&&t(a.dynamicComments,B,J);a.labelSetting&&a.labelSetting.enabled&&x(b);O.forEach(function(a){a.style.display="none"});D.forEach(function(a){return!a.classList.contains("apt-survey-show")&&a.classList.add("apt-survey-show")});
a.mergeFirstSteps&&G.classList.remove("apt-survey-submit-disabled");!a.mergeFirstSteps&&(0,g.isSnoozeButtonEnabled)(a.activationType,a.snoozeButton,a.activationTypes)&&(0,e.hideSnooze)()}var B=null,y=void 0,c=void 0,E=void 0,z=void 0,J=void 0,G=void 0,C=void 0,O=[],D=[],F=void 0,Q=u.TAB_INDEX_START+1,S=Q,L=(0,f.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30' \x3e\n        \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n        \x3cg stroke\x3d"+
a.positiveButtonBorderColor+" fill\x3d"+a.positiveButtonBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+a.positiveButtonBorderWidth+" \x3e\n            \x3cpath d\x3d'M13.5 9H18V18.5H13.5z' transform\x3d'translate(6 5) matrix(-1 0 0 1 31.5 0)' /\x3e\n              \x3cpath d\x3d'M12 9.928c-.15-.56-2.496-3.571-3.321-5.309-.3-.63-.58-1.276-.833-1.907-.158-.393-.269-.685-.352-.914.088-.596.058-1.257-.113-1.553C7.29.091 7.125-.003 6.947 0 6.372.011 5.79.218 5.399.764c-.535.745-.516 1.938-.02 3.457.42 1.278.532 2.378.34 3.3l-1.202-.224c-1.878-.413-2.827-.38-3.661.385-.422.389-.568.88-.495 1.39.044.304.15.557.276.761.015.023.011.053-.036.097-.103.104-.186.2-.294.37-.179.28-.293.59-.305.923-.024.52.207 1.02.65 1.483.009.062-.01.105-.046.181-.03.063-.058.133-.085.21-.066.189-.11.392-.12.606-.039.72.302 1.353.964 1.853.025.02.034.05.025.077-.015.041-.024.084-.027.127.006-.068-.004-.025-.02.063-.07.375-.05.781.135 1.177l.056.11c.357.644 1.091 1.07 2.142 1.294.794.173 4.475.079 5.737-.023.752-.06 1.465-.137 1.708-.171l.42-.05' transform\x3d'translate(6 5)' /\x3e\n        \x3c/g\x3e\n        \x3c/g\x3e\n    \x3c/svg\x3e");
L.setAttribute("aria-label","positive");L.setAttribute("role","button");L.style.width="250px";L.style.height="70px";var T=(0,f.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30'\x3e\n        \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n            \x3cg stroke\x3d"+a.negativeButtonBorderColor+" fill\x3d"+a.negativeButtonBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+a.negativeButtonBorderWidth+
" \x3e\n                \x3cpath d\x3d'M0 0.5H4.5V10H0z' transform\x3d'translate(6 5) matrix(1 0 0 -1 0 10.5)' /\x3e\n              \x3cpath d\x3d'M6 9.072c.15.56 2.496 3.571 3.321 5.309.3.63.58 1.276.833 1.907.158.393.269.685.352.914-.088.596-.058 1.257.113 1.553.09.154.256.248.434.245.575-.011 1.156-.218 1.548-.764.535-.745.516-1.938.02-3.457-.42-1.278-.532-2.378-.34-3.3l1.202.224c1.878.413 2.827.38 3.661-.385.422-.389.568-.88.495-1.39-.044-.304-.15-.557-.276-.761-.015-.023-.011-.053.036-.097.103-.104.186-.2.294-.37.179-.28.293-.59.305-.923.024-.52-.207-1.02-.65-1.483-.009-.062.01-.105.046-.181.03-.063.058-.133.085-.21.066-.189.11-.392.12-.606.039-.72-.302-1.353-.964-1.853-.025-.02-.034-.05-.025-.077.015-.041.024-.084.027-.127-.006.068.004.025.02-.063.07-.375.05-.781-.135-1.177l-.056-.11c-.357-.644-1.091-1.07-2.142-1.294C13.53.423 9.849.517 8.587.619c-.752.06-1.465.137-1.708.171l-.42.05' transform\x3d'translate(6 5)' /\x3e\n            \x3c/g\x3e\n        \x3c/g\x3e\n    \x3c/svg\x3e");
T.setAttribute("aria-label","negative");T.setAttribute("role","button");T.style.width="250px";T.style.height="70px";var H=(0,f.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30' \x3e\n        \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n            \x3cg stroke\x3d"+a.selectedButtonsBorderColor+" fill\x3d"+a.selectedButtonsBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+a.selectedButtonsBorderWidth+
" \x3e\n              \x3cpath d\x3d'M13.5 9H18V18.5H13.5z' transform\x3d'translate(6 5) matrix(-1 0 0 1 31.5 0)' /\x3e\n              \x3cpath d\x3d'M12 9.928c-.15-.56-2.496-3.571-3.321-5.309-.3-.63-.58-1.276-.833-1.907-.158-.393-.269-.685-.352-.914.088-.596.058-1.257-.113-1.553C7.29.091 7.125-.003 6.947 0 6.372.011 5.79.218 5.399.764c-.535.745-.516 1.938-.02 3.457.42 1.278.532 2.378.34 3.3l-1.202-.224c-1.878-.413-2.827-.38-3.661.385-.422.389-.568.88-.495 1.39.044.304.15.557.276.761.015.023.011.053-.036.097-.103.104-.186.2-.294.37-.179.28-.293.59-.305.923-.024.52.207 1.02.65 1.483.009.062-.01.105-.046.181-.03.063-.058.133-.085.21-.066.189-.11.392-.12.606-.039.72.302 1.353.964 1.853.025.02.034.05.025.077-.015.041-.024.084-.027.127.006-.068-.004-.025-.02.063-.07.375-.05.781.135 1.177l.056.11c.357.644 1.091 1.07 2.142 1.294.794.173 4.475.079 5.737-.023.752-.06 1.465-.137 1.708-.171l.42-.05' transform\x3d'translate(6 5)' /\x3e\n            \x3c/g\x3e\n        \x3c/g\x3e\n    \x3c/svg\x3e");
H.setAttribute("aria-label","positive selected");H.setAttribute("role","button");H.style.width="250px";H.style.height="70px";var U=(0,f.createElementFromString)("\x3csvg xmlns\x3d'http://www.w3.org/2000/svg' width\x3d'30' height\x3d'30' viewBox\x3d'0 0 30 30'\x3e\n            \x3cg fill\x3d'none'  fillRule\x3d'evenodd'\x3e\n                \x3cg stroke\x3d"+a.selectedButtonsBorderColor+" fill\x3d"+a.selectedButtonsBackgroundColor+" stroke-linecap\x3d'round' stroke-linejoin\x3d'round' strokeWidth\x3d"+
a.selectedButtonsBorderWidth+" \x3e\n                \x3cpath d\x3d'M0 0.5H4.5V10H0z' transform\x3d'translate(6 5) matrix(1 0 0 -1 0 10.5)' /\x3e\n              \x3cpath d\x3d'M6 9.072c.15.56 2.496 3.571 3.321 5.309.3.63.58 1.276.833 1.907.158.393.269.685.352.914-.088.596-.058 1.257.113 1.553.09.154.256.248.434.245.575-.011 1.156-.218 1.548-.764.535-.745.516-1.938.02-3.457-.42-1.278-.532-2.378-.34-3.3l1.202.224c1.878.413 2.827.38 3.661-.385.422-.389.568-.88.495-1.39-.044-.304-.15-.557-.276-.761-.015-.023-.011-.053.036-.097.103-.104.186-.2.294-.37.179-.28.293-.59.305-.923.024-.52-.207-1.02-.65-1.483-.009-.062.01-.105.046-.181.03-.063.058-.133.085-.21.066-.189.11-.392.12-.606.039-.72-.302-1.353-.964-1.853-.025-.02-.034-.05-.025-.077.015-.041.024-.084.027-.127-.006.068.004.025.02-.063.07-.375.05-.781-.135-1.177l-.056-.11c-.357-.644-1.091-1.07-2.142-1.294C13.53.423 9.849.517 8.587.619c-.752.06-1.465.137-1.708.171l-.42.05' transform\x3d'translate(6 5)' /\x3e\n                \x3c/g\x3e\n            \x3c/g\x3e\n        \x3c/svg\x3e");
U.setAttribute("aria-label","negative selected");U.setAttribute("role","button");U.style.width="250px";U.style.height="70px";this.getData=function(){return{selected:B,comment:c.value,contactMeAllowed:a.showContactMeMessage?z.checked:null,labels:a.labelSetting&&a.labelSetting.enabled?F.getSelectedLabels():[]}};this.hide=function(){y.style.display="none"};this.focus=function(){var a=null!=B&&T?T:y.querySelector('[tabindex\x3d"'+Q+'"]');a&&(0,p.focusElement)(a)};this.render=function(t){var m=(0,p.toDom)(a.titleHtml,
!1),r=a.contactMeMessage||"It's okay to contact me about my feedback";(0,g.addTabbableEnterListener)();c=(0,f.createElement)("textArea");z=(0,f.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":r});E=(0,f.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});E.setAttribute("role","alert");l();var x=(0,f.createElement)("div",["apt-contact-wrapper"],void 0,[z,(0,f.createElement)("div","apt-contact-me-text",{text:r,dataAtt:[{name:"aria-hidden",
value:"true"}]})]);!a.showContactMeMessage&&(x.style.display="none");J=a.showDynamicComment?(0,f.createElement)("div"):(0,p.toDom)(a.defaultComment);var B=(0,f.createElement)("div",["apt-survey-choices-wrapper"],null,[(0,f.createElement)("div","apt-survey-choices",null,[T,U,L,H]),(0,f.createElement)("div","apt-survey-choices-legend",null,[(0,f.createElement)("div",null,null,[(0,p.toDom)(a.notSatisfiedHtml)]),(0,f.createElement)("div",null,null,[(0,p.toDom)(a.satisfiedHtml)])])]),R=(0,f.createElement)("div",
["apt-survey-comment"],null,[J]),X=(0,f.createElement)("div","apt-survey-submit-text",{text:(0,f.isBlank)(a.buttonText)?"Submit":a.buttonText});G=(0,f.createElement)("div","apt-survey-submit",null,[X]);var r=(0,f.createElement)("div","px-submit-container",null,[G]),ea=a.labelSetting;ea&&ea.enabled&&(F=new k["default"](ea.ranges,ea));X.setAttribute("aria-hidden","true");G.setAttribute("role","button");G.setAttribute("aria-label",X.textContent);C=(0,f.createElement)("div",["px-survey-labels"]);X=(0,
f.createElement)("div","bottom-feedback-container",null,[c,E,"DIALOG"===a.viewType&&x,r]);x=(0,f.createElement)("div","apt-feedback-text-wrapper",null,[X,"BAR"===a.viewType&&(0,f.createElement)("div","",null,[x])]);R=(0,f.createElement)("div","apt-survey-feedback",null,[R,C,x]);R.setAttribute("aria-live","polite");"BAR"===a.viewType&&(X.classList.add("bottom-feedback-container-bar"),G.classList.add("apt-survey-submit-bar"));G.style.color=a.submitButtonTextColor;G.style.backgroundColor=a.submitButtonBackgroundColor;
G.style.borderWidth=a.submitButtonBorderWidth+"px";G.style.borderRadius=a.submitButtonBorderRadius+"px";G.style.borderColor=a.submitButtonBorderColor;c.placeholder=a.placeholderText||"Share your thoughts about your choice...";(0,f.addEventListener)(c,"keyup",q);B=[(0,f.createElement)("div","apt-survey-title",null,[m]),B,R];S=(0,e.addSnoozeForScoreSurvey)(a,t,r,B,S);a.showFooter&&B.push((0,p.toDom)(a.footer,!1,"apt-survey-footer"));y=(0,f.createElement)("div","apt-survey-step",null,B);y.setAttribute("id",
"step-"+a.id);S=Q;S=(0,g.setTabIndexes)(m,S);T.setAttribute("tabindex",S);U.setAttribute("tabindex",S);S+=1;L.setAttribute("tabindex",S);H.setAttribute("tabindex",S);S+=1;S=(0,g.setTabIndexes)(J,S);F&&(S=F.setTabIndexes(S));c.setAttribute("tabindex",S);S+=1;z.setAttribute("tabindex",S);S+=1;G.setAttribute("tabindex",a.mergeFirstSteps?u.NO_TAB_INDEX:S);S+=1;t=function(){q()&&b()};(0,f.addEventListener)(G,"click",t);(0,f.addEnterKeyDownListener)(G,t);n(G);t=function(){A(0)};n(z);(0,f.addEventListener)(T,
"click",t);(0,f.addEnterKeyDownListener)(T,t);n(T);n(U);t=function(){A(1)};return(0,f.addEventListener)(L,"click",t),(0,f.addEnterKeyDownListener)(L,t),n(L),n(H),!a.mergeFirstSteps&&O.push(m),!a.mergeFirstSteps&&D.push(R),a.mergeFirstSteps&&R.classList.add("apt-survey-show"),a.mergeFirstSteps&&G.classList.add("apt-survey-submit-disabled"),y};this.getSettings=function(){return a};this.getHtml=function(){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment}}Object.defineProperty(a,
"__esModule",{value:!0});var f=b(0),r=b(45),p=b(7),u=b(6),k=(l=b(63))&&l.__esModule?l:{"default":l},m=b(10),e=b(28),g=b(17);n.getHtml=function(a){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment};a["default"]=n},function(l,a,b){function n(a,b,e,g){var d=(0,f.isBlank)(b.buttonText)?b.isLast?"Close":"Next":b.buttonText,h=(0,r.toDom)(a,!1,"apt-survey-title"),n=p.TAB_INDEX_START+1,q=n,q=(0,u.setTabIndexes)(h,q),l=(0,f.createElement)("div","apt-survey-close-button",null,[(0,f.createElement)("div",
"apt-survey-close-text",{text:d})]);l.setAttribute("tabindex",q);l.setAttribute("role","button");l.setAttribute("aria-label",d);l.style.color=b.closeButtonTextColor;l.style.backgroundColor=b.closeButtonBackgroundColor;l.style.borderRadius=b.closeButtonBorderRadius+"px";l.style.borderWidth=b.closeButtonBorderWidth+"px";l.style.borderColor=b.closeButtonBorderColor;(0,f.addEventListener)(l,"click",e);(0,f.addEnterKeyDownListener)(l,e);g(l);var t=(0,f.createElement)("div","apt-survey-step",null,[h,l]);
t.setAttribute("id","step-"+b.id);this.render=function(){var a=t.querySelector(".apt-survey-close-button");return g(a),t};this.focus=function(){var a=t.querySelector('[tabindex\x3d"'+n+'"]');(0,r.focusElement)(a)};this.hide=function(){t.style.display="none"};this.getSettings=function(){return b};this.getHtml=function(){return a};this.isValid=function(){return!0};this.getNextTabIndex=function(){return q}}Object.defineProperty(a,"__esModule",{value:!0});var f=b(0),r=b(7),p=b(6),u=b(17);n.getHtml=function(a){return a.html};
a["default"]=n},function(l,a,b){function n(a,b){function h(b){b.style.borderWidth=a.buttonsBorderWidth+"px";b.style.borderRadius=a.buttonsBorderRadius+"px";b.style.borderColor=a.buttonsBorderColor;b.style.color=a.buttonsTextColor;b.style.backgroundColor=a.buttonsBackgroundColor}function n(b){return(new k["default"]({name:"apt-trigger-radio-"+a.id,className:"apt-survey-dynamic-rating-radio-answers",childrenClassName:"apt-survey-dynamic-rating-radio px-survey-rating-button",selectCallback:function(b){x&&
h(x);var c=document.querySelector('input[name\x3d"apt-trigger-radio-'+a.id+'"]:checked');c&&(x=c.parentElement,x.style.backgroundColor=a.selectedButtonsBackgroundColor,x.style.color=a.selectedButtonsTextColor,x.style.borderWidth=a.selectedButtonsBorderWidth+"px",x.style.borderColor=a.selectedButtonsBorderColor);t=b},radioOptions:b})).render()}var q=f.TAB_INDEX_START,l=void 0,t=void 0,x=void 0,A=b,B=a.minAnswer,y=a.maxAnswer;return this.isValid=function(){return!0},this.setTabIndex=function(a){q=a},
this.render=function(){var b=(0,p.renderSurveyTitle)(a,a.titleHtml,["apt-survey-dynamic-rating-wrapper"],["apt-survey-dynamic-rating-title"],A);q=(0,e.setTabIndexes)(b,q);for(var d=[],f=B;f<=y;f+=1){var k=(0,u.createElement)("span",["apt-survey-dynamic-rating-radio-label"],{text:f});k.style.borderRadius=a.buttonsBorderRadius+"px";d.push({children:k,value:f,tabIndex:q,selected:t===f});q+=1}d=n(d);(0,m.arrayFrom)(d.childNodes).forEach(h);f=(0,u.createElement)("div","apt-survey-dynamic-rating-labels-wrapper",
null,[(0,r.toDom)(a.notSatisfiedHtml,!0),(0,r.toDom)(a.satisfiedHtml,!0)]);"PORTRAIT"===a.orientation&&(f.style.maxWidth="100%",f.style.width=39*(y-B+1)-8+"px");d=(0,u.createElement)("div",["apt-survey-dynamic-rating-answers-wrapper","apt-survey-answer-wrapper","px-survey-answer-wrapper","px-survey-rating-answer-wrapper"],null,[d,f]);return l=(0,u.createElement)("div","apt-survey-dynamic-rating-step",null,[b,d]),l.setAttribute("id","step-"+a.id),l},this.focus=function(){},this.hide=function(){l.style.display=
"none"},this.getData=function(){return{selected:t}},this.getNextTabIndex=function(){return q},this.getSettings=function(){return a},this.getHtml=function(){return a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment},this.updateStepNumber=function(a){(0,p.updateStepNumber)(l,a);A=a},this.getStepNumber=function(){return A},this}Object.defineProperty(a,"__esModule",{value:!0});var f=b(6),r=b(7),p=b(28),u=b(0),k=(l=b(85))&&l.__esModule?l:{"default":l},m=b(10),e=b(17);n.getHtml=function(a){return a.notSatisfiedHtml+
a.satisfiedHtml+a.defaultComment};a["default"]=n},function(l,a,b){function n(a){return a.answers.map(function(a){return a.text}).join("")+a.question}function f(a,b,f,v){function q(a,b,c){c&&a.checked&&E.length>=c?(a.checked=!1,J.style.display="inline-block"):(J.style.display="none",G.style.display="none");a.checked?-1===E.indexOf(b)&&E.push(b):E=E.filter(function(a){return a!==b})}function l(b){var c=(new k["default"]({name:"apt-trigger-radio-"+a.id,className:"apt-survey-multi-choice-radio-answers",
childrenClassName:"apt-survey-multi-choice-radio",selectCallback:function(a){E[0]=a},radioOptions:b.map(function(a){var b=(0,r.createElement)("div",["apt-survey-multi-choice-radio-label"]);b.innerHTML=a.text;D=(0,e.setTabIndexes)(b,D);a={children:b,tabIndex:D,value:a.id,selected:a.id===E[0]};return D+=1,a})})).render();return D+=b.length,c}function t(a,b){var c=(0,r.createElement)("div",["apt-survey-multi-choice-label"],{dataAtt:[{name:"for",value:a.id},{name:"aria-hidden",value:"true"}]},(0,p.toDom)(a.text,
!1,-1<a.text.indexOf("px-multi-survey-answer")?void 0:"apt-multi-survey-answer")),d=(0,r.createElement)("input","apt-survey-multi-choice-checkbox",{dataAtt:[{name:"type",value:"checkbox"},{name:"aria-label",value:c.textContent},{name:"id",value:a.id},{name:"name",value:"multi-choices-radio"}]});return(0,r.addEventListener)(d,"change",function(c){q(c.target,a.id,b)}),v(d),d.setAttribute("tabindex",D),D+=1,D=(0,e.setTabIndexes)(c,D),(0,r.createElement)("div","apt-survey-multi-choices-radio",null,[(0,
r.createElement)("div","apt-survey-multi-choice-input-wrapper",null,[d]),c])}function x(a){var b=a.answers,c=a.maxSelectionNumber;a=a.minSelectionNumber;a=1===c&&1===a;b.sort(function(a,b){return a.sequenceNumber-b.sequenceNumber});a=a?l(b):b.map(function(a){return t(a,c)});return(0,r.createElement)("div",["apt-survey-multi-choices-wrapper","apt-survey-multi-choices-wrapper-"+b.length,"apt-survey-answer-wrapper","px-survey-answer-wrapper","px-survey-multi-answer-wrapper"],null,a)}function A(a){var b=
a.maxAnswersValidationText?a.maxAnswersValidationText.replace("%maxSelectionNumber%",a.maxSelectionNumber):"You can only select a maximum of "+a.maxSelectionNumber+" answer(s)";a=a.minAnswersValidationText?a.minAnswersValidationText.replace("%minSelectionNumber%",a.minSelectionNumber):"Please select at least "+a.minSelectionNumber+" answer(s)";return J=(0,r.createElement)("div","apt-error-message apt-max-choices",{text:b}),G=(0,r.createElement)("div","apt-error-message apt-min-choices",{text:a}),
(0,r.createElement)("div","apt-error-message-wrapper",null,[J,G])}function B(b){var c=(0,r.createElement)("div","apt-survey-submit",{text:(0,r.isBlank)(a.buttonText)?a.isLast?"Done":"Next":a.buttonText});return c.style.color=b.submitButtonTextColor,c.style.backgroundColor=b.submitButtonBackgroundColor,c.style.borderWidth=b.submitButtonBorderWidth+"px",c.style.borderRadius=b.submitButtonBorderRadius+"px",c.style.borderColor=b.submitButtonBorderColor,c.setAttribute("tabindex",D),D+=1,c.setAttribute("role",
"button"),c}function y(a,b){b&&E.length<b?G.style.display="inline-block":(G.style.display="none",a())}function c(a){if(a.showQuestionNumber){var b=(0,r.createElement)("div","apt-question-sequence",{text:O+"."});return b.style.fontFamily=a.numberFontFamily,b.style.fontSize=a.numberSize+"px",b.style.color=a.numberColor,b}return null}var E=[],z=void 0,J=void 0,G=void 0,C=void 0,O=f,D=u.TAB_INDEX_START,F=D;this.isValid=function(){var b=a.minSelectionNumber,b=b&&E.length<b;return G.style.display=b?"inline-block":
"none",!b};this.setTabIndex=function(a){D=a};this.render=function(f){var h=(0,p.toDom)(a.question,!1),k=a.contactMeMessage||"It's okay to contact me about my feedback";h.classList.add("apt-survey-multi-title");h.classList.add("apt-survey-title");h=(0,r.createElement)("div",["apt-survey-multi-choices-title-wrapper","apt-survey-title-wrapper"],null,[c(a),h]);D=(0,e.setTabIndexes)(h,D);var t=x(a),q=A(a),n=[];D=(0,m.addSnoozeForMCQSurvey)(a,f,n,D);f=B(a);n.push(f);n=(0,r.createElement)("div","px-survey-page-footer",
null,n);C=(0,r.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":k});k=(0,r.createElement)("div",["apt-contact-wrapper"],void 0,[C,(0,r.createElement)("div","apt-contact-me-text",{text:k,dataAtt:[{name:"aria-hidden",value:"true"}]})]);!a.showContactMeMessage&&(k.style.display="none");z=(0,r.createElement)("div","apt-survey-multi-choices-step",null,[h,t,q,k,n]);z.setAttribute("id","step-"+a.id);k=function(){y(b,a.minSelectionNumber)};return(0,r.addEnterKeyDownListener)(f,k),(0,
r.addEventListener)(f,"click",k),v(f),z};this.focus=function(){var a=z.querySelector('[tabindex\x3d"'+F+'"]');(0,p.focusElement)(a)};this.hide=function(){z.style.display="none"};this.getData=function(){return{choices:E,contactMeAllowed:a.showContactMeMessage?C.checked:null}};this.getSettings=function(){return a};this.getHtml=function(){return n(a)};this.getNextTabIndex=function(){return D};this.updateStepNumber=function(a){(0,m.updateStepNumber)(z,a);O=a};this.getStepNumber=function(){return O};q=
q.bind(this);y=y.bind(this)}Object.defineProperty(a,"__esModule",{value:!0});var r=b(0),p=b(7),u=b(6),k=(l=b(85))&&l.__esModule?l:{"default":l},m=b(28),e=b(17);f.getHtml=function(a){return n(a)};a["default"]=f},function(l,a,b){function n(a,b,d,h){function n(){return(0,p.validateComment)(a,x,A)}function q(b){var d=(0,f.createElement)("div","apt-survey-submit",{text:(0,f.isBlank)(a.buttonText)?a.isLast?"Done":"Next":a.buttonText});return d.style.color=b.submitButtonTextColor,d.style.backgroundColor=
b.submitButtonBackgroundColor,d.style.borderWidth=b.submitButtonBorderWidth+"px",d.style.borderRadius=b.submitButtonBorderRadius+"px",d.style.borderColor=b.submitButtonBorderColor,d.setAttribute("tabindex",c),c+=1,d.setAttribute("role","button"),d}function l(a){if(a.showQuestionNumber){var b=(0,f.createElement)("div","apt-question-sequence",{text:z+"."});return b.style.fontFamily=a.numberFontFamily,b.style.fontSize=a.numberSize+"px",b.style.color=a.numberColor,b}return null}var t=void 0,x=void 0,
A=void 0,B=void 0,y=void 0,c=u.TAB_INDEX_START,E=c,z=d;this.isValid=function(){return n()};this.setTabIndex=function(a){c=a};this.render=function(d){var p=(0,r.toDom)(a.question,!1),u=a.contactMeMessage||"It's okay to contact me about my feedback";p.classList.add("apt-survey-open-text-title");p.classList.add("apt-survey-title");p=(0,f.createElement)("div",["apt-survey-open-text-title-wrapper","apt-survey-title-wrapper"],null,[l(a),p]);c=(0,m.setTabIndexes)(p,c);var z=(x=(0,f.createElement)("textArea"),
x.setAttribute("tabindex",c),c+=1,x.placeholder=a.placeholderText||"Share your thoughts about your choice...",(0,f.addEventListener)(x,"keyup",n),A=(0,f.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"}),(0,f.createElement)("div","bottom-feedback-container",null,[x,A]));B=(0,f.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":u,tabindex:c});c+=1;var D=[];c=(0,k.addSnoozeForMCQSurvey)(a,d,D,c);y=q(a);D.push(y);d=(0,f.createElement)("div",
["apt-contact-wrapper"],void 0,[B,(0,f.createElement)("div","apt-contact-me-text",{text:u,dataAtt:[{name:"aria-hidden",value:"true"}]})]);!a.showContactMeMessage&&(d.style.display="none");"BAR"===a.viewType&&(z.classList.add("bottom-feedback-container-bar"),y.classList.add("apt-survey-submit-bar"));"DIALOG"===a.viewType&&z.appendChild(d);d=(0,f.createElement)("div",["apt-feedback-text-wrapper","apt-survey-answer-wrapper","px-survey-answer-wrapper","px-survey-feedback-answer-wrapper"],null,[z,"BAR"===
a.viewType&&(0,f.createElement)("div","",null,[d])]);D=(0,f.createElement)("div","px-survey-page-footer",null,D);t=(0,f.createElement)("div","apt-survey-open-text-step",null,[p,d,D]);t.setAttribute("id","step-"+a.id);p=function(){n()&&b()};return(0,f.addEventListener)(y,"click",p),(0,f.addEnterKeyDownListener)(y,p),h(y),h(B),t};this.focus=function(){var a=t.querySelector('[tabindex\x3d"'+E+'"]');(0,r.focusElement)(a)};this.hide=function(){t.style.display="none"};this.getData=function(){return{comment:x.value,
contactMeAllowed:a.showContactMeMessage?B.checked:null}};this.getSettings=function(){return a};this.getHtml=function(){return a.question};this.getNextTabIndex=function(){return c};this.updateStepNumber=function(a){(0,k.updateStepNumber)(t,a);z=a};this.getStepNumber=function(){return z}}Object.defineProperty(a,"__esModule",{value:!0});var f=b(0),r=b(7),p=b(45),u=b(6),k=b(28),m=b(17);n.getHtml=function(a){return a.question};a["default"]=n},function(l,a,b){function n(a,b,n){function l(a){switch(a){case 0:return"unsatisfied";
case 1:return"neutral";case 2:return"satisfied";default:return""}}function y(a){return(a+=1)+" "+(1===a?"star":"stars")}function c(a,b,c){var d=a.getElementsByTagName("svg")[0];if(H){b={0:{buttonsBackgroundColor:b.negativeButtonBackgroundColor,buttonsBorderColor:b.negativeButtonBorderColor,buttonsBorderWidth:b.negativeButtonBorderWidth},1:{buttonsBackgroundColor:b.neutralButtonBackgroundColor,buttonsBorderColor:b.neutralButtonBorderColor,buttonsBorderWidth:b.neutralButtonBorderWidth},2:{buttonsBackgroundColor:b.positiveButtonBackgroundColor,
buttonsBorderColor:b.positiveButtonBorderColor,buttonsBorderWidth:b.positiveButtonBorderWidth}}[c];var e=d.querySelector("#Oval");e.style.fill=b.buttonsBackgroundColor;e.setAttribute("stroke-width",b.buttonsBorderWidth);e.setAttribute("stroke",b.buttonsBorderColor);a.setAttribute("aria-label",c+1+" "+l(c));a=d.querySelectorAll("[data-border-color]");for(c=0;c<a.length;c++)a[c].setAttribute("stroke",b.buttonsBorderColor),a[c].setAttribute("fill",b.buttonsBorderColor)}else d.getElementsByTagName("polygon")[0].style.fill=
b.buttonsBackgroundColor,d.getElementsByTagName("path")[0].setAttribute("stroke-width",b.buttonsBorderWidth),d.getElementsByTagName("path")[0].setAttribute("stroke",b.buttonsBorderColor),d.getElementsByTagName("g")[0].style.fill=b.buttonsBorderColor,d.getElementsByTagName("g")[0].setAttribute("stroke-width",b.buttonsBorderWidth),a.setAttribute("aria-label",y(c))}function E(){if(!H)return L;switch(L){case 1:return 1;case 2:return 3;case 3:return 5}return L}function z(){for(var a=ca.getLabelElements(E()),
b=document.createDocumentFragment(),c=0;c<a.length;++c)b.appendChild(a[c]);(0,e.arrayFrom)(R.childNodes).forEach(function(a){return R.removeChild(a)});R.appendChild(b);!R.classList.contains("labelWrapperElement.classList")&&R.classList.add("px-labels-show")}function J(a,b,c){var d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var k=g.value;if(b>=k.from&&b<=k.to)return void(c.innerHTML=k.comment)}}catch(m){e=!0,f=m}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f;
}}}function G(a){S.forEach(function(b,c){if(c===a-1){b.setAttribute("data-selected","true");var d=y(c);b.setAttribute("aria-label",d+" "+(0===c?"is":"are")+" selected")}else b.setAttribute("data-selected","false"),b.setAttribute("aria-label",y(c))})}function C(b){if(H)for(var e=1;e<S.length+1;e++)e!==b&&c(S[e-1],a,e-1);else if(null!==L&&L>b)for(e=0;e<S.length;e++)c(S[e],a,e);L=b;e=b-a.initialButtonIndex;if(G(b),H){var f=S[e].getElementsByTagName("svg")[0],h=f.querySelector("#Oval");h.style.fill=a.selectedButtonsBackgroundColor;
h.setAttribute("stroke-width",a.selectedButtonsBorderWidth);h.setAttribute("stroke",a.selectedButtonsBorderColor);f=f.querySelectorAll("[data-border-color]");for(h=0;h<f.length;h++)f[h].setAttribute("stroke",a.selectedButtonsBorderColor),f[h].setAttribute("fill",a.selectedButtonsBorderColor)}else for(f=0;f<e+1;f++)h=S[f].getElementsByTagName("svg")[0],h.getElementsByTagName("polygon")[0].style.fill=a.selectedButtonsBackgroundColor,h.getElementsByTagName("path")[0].setAttribute("stroke-width",a.selectedButtonsBorderWidth),
h.getElementsByTagName("path")[0].setAttribute("stroke",a.selectedButtonsBorderColor),h.getElementsByTagName("g")[0].style.fill=a.selectedButtonsBorderColor,h.getElementsByTagName("g")[0].setAttribute("stroke-width",a.selectedButtonsBorderWidth);if(a.showDynamicComment){f=a.dynamicComments;if(H)a:{switch(e){case 0:e=1;break a;case 1:e=3;break a;case 2:e=5;break a}e=void 0}else e+=1;J(f,e,N)}a.labelSetting&&a.labelSetting.enabled&&z(b);X.forEach(function(a){a.style.display="none"});ea.forEach(function(a){return!a.classList.contains("apt-survey-show")&&
a.classList.add("apt-survey-show")});a.mergeFirstSteps&&(I.classList.remove("apt-survey-submit-disabled"),I.setAttribute("tabindex",T));!a.mergeFirstSteps&&(0,d.isSnoozeButtonEnabled)(a.activationType,a.snoozeButton,a.activationTypes)&&(0,g.hideSnooze)()}function O(){return(0,r.validateComment)(a,K,Y)}function D(a,b,d){return function(e){a.appendChild(e);c(a,b,d)}}function F(a,b,d,e){var g=(0,f.createElement)("div"),h;if(H){h=(0,k.getImage);var m;a:{switch(d){case 0:m="unsatisfied";break a;case 1:m=
"neutral";break a;case 2:m="satisfied";break a}m=void 0}h=h(m,D(g,b,d))}else h=(0,f.createElementFromString)(v);g.setAttribute("tabindex",e);g.setAttribute("role","button");g.setAttribute("aria-label",d);H||(h.style.width=q,h.style.height=w,g.appendChild(h),c(g,b,d));a=function(a){return function(){C(a)}}(a);return(0,f.addEnterKeyDownListener)(g,a),(0,f.addEventListener)(g,"click",a),n(g),g}var Q=p.TAB_INDEX_START+1,S=[],L=null,T=Q,H=a.surveyScoreType===h,U=void 0,K=void 0,Y=void 0,P=void 0,N=void 0,
I=void 0,R=void 0,X=[],ea=[],ca=null;this.focus=function(){var a=null!=L&&S.length?S[0]:U.querySelector('[tabindex\x3d"'+Q+'"]');a&&(0,u.focusElement)(a)};this.render=function(c){var e=(0,u.toDom)(a.titleHtml,!1);T=(0,d.setTabIndexes)(e,T);(0,d.addTabbableEnterListener)();for(var h=a.contactMeMessage||"It's okay to contact me about my feedback",k=a.initialButtonIndex;k<a.numberOfButtons+a.initialButtonIndex;k++)S.push(F(k,a,k-a.initialButtonIndex,T)),T+=1;N=a.showDynamicComment?(0,f.createElement)("div"):
(0,u.toDom)(a.defaultComment);T=(0,d.setTabIndexes)(N,T);(k=a.labelSetting)&&k.enabled&&(ca=new m["default"](k.ranges,k),T=ca.setTabIndexes(T));K=(0,f.createElement)("textArea");K.setAttribute("tabindex",T);T+=1;P=(0,f.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":h});P.setAttribute("tabindex",T);T+=1;Y=(0,f.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});var q=(0,f.createElement)("div",["apt-contact-wrapper",a.showContactMeMessage?
"":"apt-hidden"],void 0,[P,(0,f.createElement)("div","apt-contact-me-text",{text:h,dataAtt:[{name:"aria-hidden",value:"true"}]})]),k=(0,f.createElement)("div",["apt-survey-choices-wrapper","apt-survey-choices-wrapper-"+a.numberOfButtons],null,[(0,f.createElement)("div","apt-survey-choices",null,S),(0,f.createElement)("div","apt-survey-choices-legend",null,[(0,f.createElement)("div",null,null,[(0,u.toDom)(a.notSatisfiedHtml)]),(0,f.createElement)("div",null,null,[(0,u.toDom)(a.satisfiedHtml)])])]),
v=(0,f.createElement)("div",["apt-survey-comment"],null,[N]),r=(0,f.createElement)("div","apt-survey-submit-text",{text:(0,f.isBlank)(a.buttonText)?"Submit":a.buttonText});I=(0,f.createElement)("div","apt-survey-submit",null,[r]);h=(0,f.createElement)("div","px-submit-container",null,[I]);r.setAttribute("aria-hidden","true");I.setAttribute("role","button");I.setAttribute("aria-label",r.textContent);r=(0,f.createElement)("div","bottom-feedback-container",null,[K,Y,a.showContactMeMessage?"DIALOG"===
a.viewType&&q:void 0,h]);q=(0,f.createElement)("div","apt-feedback-text-wrapper",null,[r,a.showContactMeMessage?"BAR"===a.viewType&&(0,f.createElement)("div","",null,[q]):void 0]);R=(0,f.createElement)("div",["px-survey-labels"]);v=[v,R,q];v=(0,f.createElement)("div","apt-survey-feedback",null,v);v.setAttribute("aria-live","polite");"BAR"===a.viewType&&(r.classList.add("bottom-feedback-container-bar"),I.classList.add("apt-survey-submit-bar"));I.style.color=a.submitButtonTextColor;I.style.backgroundColor=
a.submitButtonBackgroundColor;I.style.borderWidth=a.submitButtonBorderWidth+"px";I.style.borderRadius=a.submitButtonBorderRadius+"px";I.style.borderColor=a.submitButtonBorderColor;I.setAttribute("tabindex",a.mergeFirstSteps?p.NO_TAB_INDEX:T);K.placeholder=a.placeholderText||"Share your thoughts about your choice...";(0,f.addEventListener)(K,"keyup",O);k=[(0,f.createElement)("div","apt-survey-title",null,[e]),k,v];T=(0,g.addSnoozeForScoreSurvey)(a,c,h,k,T);a.showFooter&&k.push((0,u.toDom)(a.footer,
!1,"apt-survey-footer"));U=(0,f.createElement)("div","apt-survey-step",null,k);U.setAttribute("id","step-"+a.id);c=function(){O()&&b()};return(0,f.addEventListener)(I,"click",c),(0,f.addEnterKeyDownListener)(I,c),n(I),n(P),!a.mergeFirstSteps&&X.push(e),!a.mergeFirstSteps&&ea.push(v),a.mergeFirstSteps&&v.classList.add("apt-survey-show"),a.mergeFirstSteps&&I.classList.add("apt-survey-submit-disabled"),U};this.hide=function(){U.style.display="none"};this.getData=function(){return{selected:E(),comment:K.value,
contactMeAllowed:a.showContactMeMessage?P.checked:null,labels:a.labelSetting&&a.labelSetting.enabled?ca.getSelectedLabels():[]}};this.getSettings=function(){return a};this.getHtml=function(){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment}}Object.defineProperty(a,"__esModule",{value:!0});var f=b(0),r=b(45),p=b(6),u=b(7),k=b(171),m=(l=b(63))&&l.__esModule?l:{"default":l},e=b(10),g=b(28),d=b(17),h="SMILEY",v='\x3csvg version\x3d"1.1" id\x3d"Layer_1" x\x3d"0px" y\x3d"0px" viewBox\x3d"0 0 64 64" enable-background\x3d"new 0 0 64 64" xml:space\x3d"preserve" \x3e\x3cg id\x3d"XMLID_31_" fill\x3d"#cfd8dc" stroke-width\x3d"0.5"\x3e\x3cg\x3e\x3cg stroke-width\x3d"0.5"\x3e\x3cpolygon calss\x3d"apt-star-polygon" fill\x3d"#ffffff" points\x3d"61.5,25 45.1,39.6 50.2,61.5 32,49.6 13.8,61.5 18.9,39.6 2.5,25 23.9,23.4 32,2.5 40.1,23.4"\x3e\x3c/polygon\x3e\x3c/g\x3e\x3c/g\x3e\x3cg\x3e\x3cg\x3e\x3cpath stroke\x3d"#cfd8dc" stroke-width\x3d"0.5" d\x3d"M51.8,63.7L32,50.8L12.2,63.7l5.6-23.8L0.1,24.2l23.1-1.8L32-0.3l8.8,22.7l23.1,1.8L46.2,39.9L51.8,63.7zM32, 48.4l16.7,10.9L44,39.2l15.1-13.4l-19.7-1.5L32,5.3l-7.4,19.1L4.9,25.9L20,39.2l-4.7,20.1L32,48.4z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e',
q="40px",w="40px";n.getHtml=function(a){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment};a["default"]=n},function(l,a,b){function n(a,b,n){function q(a,b,c){a.style.color=b.buttonsTextColor;a.style.backgroundColor=b.buttonsBackgroundColor;a.style.borderWidth=b.buttonsBorderWidth+"px";a.style.borderRadius=b.buttonsBorderRadius+"px";a.style.borderColor=b.buttonsBorderColor;a.setAttribute("aria-label",c)}function l(a,b,c){var d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=
(g=h.next()).done);d=!0){var k=g.value;if(b>=k.from&&b<=k.to)return void(c.innerHTML=k.comment)}}catch(m){e=!0,f=m}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f;}}}function t(a){a=L.getLabelElements(a);for(var b=document.createDocumentFragment(),c=0;c<a.length;++c)b.appendChild(a[c]);(0,m.arrayFrom)(F.childNodes).forEach(function(a){return F.removeChild(a)});F.appendChild(b);!F.classList.contains("labelWrapperElement.classList")&&F.classList.add("px-labels-show")}function x(b){if(null!==
c){var f=c-a.initialButtonIndex;q(y[f],a,f)}c=b;var f=b-a.initialButtonIndex,h="IN_APP_CES_SURVEY"===a.surveyType;a.showDynamicComment&&l(a.dynamicComments,h?f+1:f,C);f=y[f];f.style.color=a.selectedButtonsTextColor;f.style.backgroundColor=a.selectedButtonsBackgroundColor;f.style.borderWidth=a.selectedButtonsBorderWidth+"px";f.style.borderRadius=a.buttonsBorderRadius+"px";f.style.borderColor=a.selectedButtonsBorderColor;f.setAttribute("aria-label",b+" selected");a.labelSetting&&a.labelSetting.enabled&&
t(b);Q.forEach(function(a){a.style.display="none"});S.forEach(function(a){return!a.classList.contains("apt-survey-show")&&a.classList.add("apt-survey-show")});a.mergeFirstSteps&&(O.classList.remove("apt-survey-submit-disabled"),O.setAttribute("tabindex",D));!a.mergeFirstSteps&&(0,g.isSnoozeButtonEnabled)(a.activationType,a.snoozeButton,a.activationTypes)&&(0,e.hideSnooze)()}function A(){return(0,u.validateComment)(a,z,J)}function B(a,b,c,d){var e=(0,f.createElement)("div","apt-survey-choice",{text:a});
q(e,b,c);e.setAttribute("tabindex",d);e.setAttribute("role","button");e.setAttribute("aria-label",a);a=function(a){return function(){x(a)}}(a);return(0,f.addEventListener)(e,"click",a),(0,f.addEnterKeyDownListener)(e,a),n(e),e}var y=[],c=null,E=void 0,z=void 0,J=void 0,G=void 0,C=void 0,O=void 0,D=void 0,F=void 0,Q=[],S=[],L=void 0,T=p.TAB_INDEX_START+1,H=T;this.focus=function(){var a=null!=c&&y.length?y[0]:E.querySelector('[tabindex\x3d"'+T+'"]');a&&(0,r.focusElement)(a)};this.render=function(c){var m=
(0,r.toDom)(a.titleHtml);H=(0,g.setTabIndexes)(m,H);(0,g.addTabbableEnterListener)();for(var t=a.initialButtonIndex;t<a.numberOfButtons+a.initialButtonIndex;t++)y.push(B(t,a,t-a.initialButtonIndex,H)),H+=1;z=(0,f.createElement)("textArea");t=a.contactMeMessage||"It's okay to contact me about my feedback";G=(0,f.createInput)("checkbox",void 0,!1,void 0,void 0,!1,void 0,{"aria-label":t});J=(0,f.createElement)("div","apt-error-message",{text:"Comment can be at most 1000 characters"});var q=(0,f.createElement)("div",
["apt-contact-wrapper"],void 0,[G,(0,f.createElement)("div","apt-contact-me-text",{text:t,dataAtt:[{name:"aria-hidden",value:"true"}]})]);!a.showContactMeMessage&&(q.style.display="none");C=a.showDynamicComment?(0,f.createElement)("div"):(0,r.toDom)(a.defaultComment);H=(0,g.setTabIndexes)(C,H);var l=(0,f.createElement)("div",["apt-survey-choices-wrapper","apt-survey-choices-wrapper-"+a.numberOfButtons],null,[(0,f.createElement)("div","apt-survey-choices",null,y),(0,f.createElement)("div",["apt-survey-choices-legend"],
null,[(0,f.createElement)("div",null,null,[(0,r.toDom)(a.notSatisfiedHtml)]),(0,f.createElement)("div",null,null,[(0,r.toDom)(a.satisfiedHtml)])])]),u=(0,f.createElement)("div",["apt-survey-comment"],null,[C]),w=(0,f.createElement)("div","apt-survey-submit-text",{text:(0,f.isBlank)(a.buttonText)?"Submit":a.buttonText});O=(0,f.createElement)("div","apt-survey-submit",null,[w]);t=(0,f.createElement)("div","px-submit-container",null,[O]);w.setAttribute("aria-hidden","true");O.setAttribute("role","button");
O.setAttribute("aria-label",w.textContent);w=(0,f.createElement)("div","bottom-feedback-container",null,[z,J,"DIALOG"===a.viewType&&q,t]);q=(0,f.createElement)("div","apt-feedback-text-wrapper",null,[w,"BAR"===a.viewType&&(0,f.createElement)("div","",null,[q])]);F=(0,f.createElement)("div",["px-survey-labels"]);u=[u,F,q];(q=a.labelSetting)&&q.enabled&&(L=new k["default"](q.ranges,q),H=L.setTabIndexes(H));u=(0,f.createElement)("div","apt-survey-feedback",null,u);u.setAttribute("aria-live","polite");
"BAR"===a.viewType&&(w.classList.add("bottom-feedback-container-bar"),O.classList.add("apt-survey-submit-bar"));O.style.color=a.submitButtonTextColor;O.style.backgroundColor=a.submitButtonBackgroundColor;O.style.borderWidth=a.submitButtonBorderWidth+"px";O.style.borderRadius=a.submitButtonBorderRadius+"px";O.style.borderColor=a.submitButtonBorderColor;O.setAttribute("tabindex",a.mergeFirstSteps?p.NO_TAB_INDEX:D);z.placeholder=a.placeholderText||"Share your thoughts about your choice...";z.setAttribute("tabindex",
H);H+=1;G.setAttribute("tabindex",H);H+=1;O.setAttribute("tabindex",a.mergeFirstSteps?p.NO_TAB_INDEX:H);D=H;H+=1;(0,f.addEventListener)(z,"keyup",A);l=[(0,f.createElement)("div","apt-survey-title",null,[(0,f.createElement)("div",null,null,[m])]),l,u];H=(0,e.addSnoozeForScoreSurvey)(a,c,t,l,H);a.showFooter&&l.push((0,r.toDom)(a.footer,!1,"apt-survey-footer"));E=(0,f.createElement)("div",["apt-survey-step"],null,l);E.setAttribute("id","step-"+a.id);c=function(){A()&&b()};return(0,f.addEventListener)(O,
"click",c),(0,f.addEnterKeyDownListener)(O,c),n(O),n(G),!a.mergeFirstSteps&&Q.push(m),!a.mergeFirstSteps&&S.push(u),a.mergeFirstSteps&&u.classList.add("apt-survey-show"),a.mergeFirstSteps&&O.classList.add("apt-survey-submit-disabled"),E};this.hide=function(){E.style.display="none"};this.getData=function(){return{selected:c,comment:z.value,contactMeAllowed:a.showContactMeMessage?G.checked:null,labels:a.labelSetting&&a.labelSetting.enabled?L.getSelectedLabels():[]}};this.getSettings=function(){return a};
this.getHtml=function(){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment}}Object.defineProperty(a,"__esModule",{value:!0});var f=b(0),r=b(7),p=b(6),u=b(45),k=(l=b(63))&&l.__esModule?l:{"default":l},m=b(10),e=b(28),g=b(17);n.getHtml=function(a){return a.titleHtml+a.notSatisfiedHtml+a.satisfiedHtml+a.defaultComment};a["default"]=n},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=b(2),f=b(1),r=b(0),p=b(10);l=new function(){function a(b,d,e,f){b.push(d);e.push(f);
n.logger.log(d)}var b={A:!0,ABBR:!0,AUDIO:!0,B:!0,BIG:!0,BLOCKQUOTE:!0,BODY:!0,BR:!0,CAPTION:!0,CENTER:!0,CODE:!0,COL:!0,COLGROUP:!0,DEL:!0,DIV:!0,EM:!0,FONT:!0,H1:!0,H2:!0,H3:!0,H4:!0,H5:!0,H6:!0,HR:!0,I:!0,IFRAME:!0,IMG:!0,INS:!0,LABEL:!0,LI:!0,O:!0,OL:!0,P:!0,PRE:!0,S:!0,SCRIPT:!0,SMALL:!0,SOURCE:!0,SPAN:!0,STRIKE:!0,STRONG:!0,SUB:!0,SUP:!0,TABLE:!0,TBODY:!0,TD:!0,TFOOT:!0,TH:!0,THEAD:!0,TR:!0,TT:!0,U:!0,UL:!0,VIDEO:!0,META:!0,SECTION:!0,BUTTON:!0},m={FORM:!0},e={accept:!0,"accept-charset":!0,
accesskey:!0,action:!0,align:!0,alt:!0,allowfullscreen:!0,async:!0,autocomplete:!0,autofocus:!0,autoplay:!0,bgcolor:!0,border:!0,charset:!0,checked:!0,cite:!0,"class":!0,color:!0,cols:!0,colspan:!0,content:!0,contenteditable:!0,controls:!0,coords:!0,data:!0,"data-aptr":!0,"data-apt-element":!0,datetime:!0,"default":!0,defer:!0,dir:!0,dirname:!0,disabled:!0,download:!0,draggable:!0,enctype:!0,form:!0,formaction:!0,frameborder:!0,headers:!0,height:!0,hidden:!0,high:!0,href:!0,hreflang:!0,"http-equiv":!0,
id:!0,ismap:!0,kind:!0,label:!0,lang:!0,list:!0,loop:!0,low:!0,max:!0,maxlength:!0,media:!0,method:!0,min:!0,multiple:!0,muted:!0,name:!0,novalidate:!0,open:!0,optimum:!0,pattern:!0,placeholder:!0,poster:!0,preload:!0,readonly:!0,rel:!0,required:!0,reversed:!0,rows:!0,rowspan:!0,sandbox:!0,scope:!0,selected:!0,shape:!0,size:!0,sizes:!0,span:!0,spellcheck:!0,src:!0,srcdoc:!0,srclang:!0,srcset:!0,start:!0,step:!0,style:!0,tabindex:!0,target:!0,title:!0,translate:!0,type:!0,usemap:!0,value:!0,width:!0,
wrap:!0,"data-px-style-id":!0},g=["http:","https:","data:"],d={href:!0,action:!0,src:!0},h=["https://storage.googleapis.com/aptrinsic-cloud-public-assets/*","https://storage.googleapis.com/froala-upload-default/*","https://storage.googleapis.com/froala-upload-prod/*","https://storage.googleapis.com/froala-upload-dev/*","https://storage.googleapis.com/app-demo-public-bucket/*"];this.SanitizeHtml=function(v){function q(g){var p=void 0;if(g.nodeType===Node.TEXT_NODE)p=g.cloneNode(!0);else if(g.nodeType===
Node.ELEMENT_NODE&&(b[g.tagName]||m[g.tagName])){for(var p=x.createElement(g.tagName),n=0;n<g.attributes.length;n++){var l=g.attributes[n];if(!e[l.name]||"META"===g.tagName&&"charset"!==l.name)a(A,"Not allowed attribute '"+l.name+"' in tag \x3c"+g.tagName+"\x3e",B,"DISALLOWED_HTML_TAG_OR_ATTRIBUTE");else if(d[l.name]){var v=(t||(0,f.getConfig)("htmlSanitizationAllowedDomains")||[]).concat(h),w;if(w=-1<l.value.indexOf(":")){a:{w=l.value;for(var y=c,F=0;F<y.length;F++)if(0===w.indexOf(y[F])){w=!0;break a}w=
!1}w=!w}w?a(A,"Not allowed attribute '"+l.name+"' with value '"+l.value+"' in tag '"+g.tagName+"' - schema is not allowed",B,"DISALLOWED_HTML_TAG_OR_ATTRIBUTE"):(0,r.matchEither)(v,l.value)||a(A,"Not allowed attribute '"+l.name+"' with value '"+l.value+"' in tag '"+g.tagName+"' - domain is not allowed",B,"DISALLOWED_DOMAINS")}}for(n=0;n<g.childNodes.length;n++)q(g.childNodes[n])}else a(A,"tag \x3c"+g.tagName+"\x3e is not allowed",B,"DISALLOWED_HTML_TAG_OR_ATTRIBUTE"),p=document.createDocumentFragment();
return p}var l=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=arguments[2];if(!(0,f.getConfig)("htmlSanitization")&&!l||(0,r.isBlank)(v)||"\x3cbr\x3e"===v)return{isValid:!0};l=document.createElement("iframe");if(void 0===l.sandbox)return n.logger.logInternalError(Error("Browser not supporting iframe sandbox")),{isValid:!1,errors:["Browser not supporting iframe sandbox, cannot perform sanitization"]};l.sandbox="allow-same-origin";l.style.display="none";(0,f.getBody)().appendChild(l);var x=
l.contentDocument||l.contentWindow.document;null==x.body&&x.documentElement.appendChild(x.createElement("body"));x.body.innerHTML=v;var A=[],B=[],y=(0,f.getConfig)("htmlSanitizationAllowedSchemes"),c=Array.isArray(y)?y.filter(function(a){return!!a}).map(function(a){return a.endsWith(":")?a:a+":"}):g;return q(x.body),(0,f.getBody)().removeChild(l),{isValid:0===A.length,errors:A===[]?null:A,errorTypes:(0,p.arrayFrom)(B)}}};a["default"]=l},function(l,a,b){(function(a){var f,l="function"==typeof Symbol&&
"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(){function p(a,b){b?(x[0]=x[16]=x[1]=x[2]=x[3]=x[4]=x[5]=x[6]=x[7]=x[8]=x[9]=x[10]=x[11]=x[12]=x[13]=x[14]=x[15]=0,this.blocks=x):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];a?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=
3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225);this.block=this.start=this.bytes=this.hBytes=0;this.finalized=this.hashed=!1;this.first=!0;this.is224=a}function u(a,b,c){var e;e=void 0===a?"undefined":l(a);if("string"===e){var f,g=[],h=a.length,m=0;for(e=0;e<h;++e)f=a.charCodeAt(e),128>f?g[m++]=f:2048>f?(g[m++]=192|f>>6,g[m++]=128|63&f):55296>f||57344<=f?(g[m++]=224|f>>12,g[m++]=128|
f>>6&63,g[m++]=128|63&f):(f=65536+((1023&f)<<10|1023&a.charCodeAt(++e)),g[m++]=240|f>>18,g[m++]=128|f>>12&63,g[m++]=128|f>>6&63,g[m++]=128|63&f);a=g}else{if("object"!==e)throw Error(k);if(null===a)throw Error(k);if(d&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!(Array.isArray(a)||d&&ArrayBuffer.isView(a)))throw Error(k);}64<a.length&&(a=(new p(b,!0)).update(a).array());f=[];g=[];for(e=0;64>e;++e)h=a[e]||0,f[e]=92^h,g[e]=54^h;p.call(this,b,c);this.update(g);this.oKeyPad=f;this.inner=!0;
this.sharedMemory=c}var k="input is invalid type",m="object"===("undefined"==typeof window?"undefined":l(window)),e=m?window:{};e.JS_SHA256_NO_WINDOW&&(m=!1);!m&&"object"===("undefined"==typeof self?"undefined":l(self))&&(e=self);var m=!e.JS_SHA256_NO_COMMON_JS&&"object"===l(a)&&a.exports,g=b(204),d=!e.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,h="0123456789abcdef".split(""),v=[-2147483648,8388608,32768,128],q=[24,16,8,0],w=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,
2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,
1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],t=["hex","array","digest","arrayBuffer"],x=[];!e.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});!d||!e.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(a){return"object"===(void 0===a?"undefined":l(a))&&a.buffer&&a.buffer.constructor===ArrayBuffer});var A=function(a,
b){return function(c){return(new p(b,!0)).update(c)[a]()}},B=function(a){var b=A("hex",a);b.create=function(){return new p(a)};b.update=function(a){return b.create().update(a)};for(var c=0;c<t.length;++c){var d=t[c];b[d]=A(d,a)}return b},y=function(a,b){return function(c,d){return(new u(c,b,!0)).update(d)[a]()}},c=function(a){var b=y("hex",a);b.create=function(b){return new u(b,a)};b.update=function(a,c){return b.create(a).update(c)};for(var c=0;c<t.length;++c){var d=t[c];b[d]=y(d,a)}return b};p.prototype.update=
function(a){if(!this.finalized){var b,c=void 0===a?"undefined":l(a);if("string"!==c){if("object"!==c)throw Error(k);if(null===a)throw Error(k);if(d&&a.constructor===ArrayBuffer)a=new Uint8Array(a);else if(!(Array.isArray(a)||d&&ArrayBuffer.isView(a)))throw Error(k);b=!0}for(var e,f=0,g=a.length,h=this.blocks;f<g;){if(this.hashed&&(this.hashed=!1,h[0]=this.block,h[16]=h[1]=h[2]=h[3]=h[4]=h[5]=h[6]=h[7]=h[8]=h[9]=h[10]=h[11]=h[12]=h[13]=h[14]=h[15]=0),b)for(e=this.start;f<g&&64>e;++f)h[e>>2]|=a[f]<<
q[3&e++];else for(e=this.start;f<g&&64>e;++f)c=a.charCodeAt(f),128>c?h[e>>2]|=c<<q[3&e++]:2048>c?(h[e>>2]|=(192|c>>6)<<q[3&e++],h[e>>2]|=(128|63&c)<<q[3&e++]):55296>c||57344<=c?(h[e>>2]|=(224|c>>12)<<q[3&e++],h[e>>2]|=(128|c>>6&63)<<q[3&e++],h[e>>2]|=(128|63&c)<<q[3&e++]):(c=65536+((1023&c)<<10|1023&a.charCodeAt(++f)),h[e>>2]|=(240|c>>18)<<q[3&e++],h[e>>2]|=(128|c>>12&63)<<q[3&e++],h[e>>2]|=(128|c>>6&63)<<q[3&e++],h[e>>2]|=(128|63&c)<<q[3&e++]);this.lastByteIndex=e;this.bytes+=e-this.start;64<=e?
(this.block=h[16],this.start=e-64,this.hash(),this.hashed=!0):this.start=e}return 4294967295<this.bytes&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes%=4294967296),this}};p.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,b=this.lastByteIndex;a[16]=this.block;a[b>>2]|=v[3&b];this.block=a[16];56<=b&&(this.hashed||this.hash(),a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0);a[14]=this.hBytes<<3|this.bytes>>>
29;a[15]=this.bytes<<3;this.hash()}};p.prototype.hash=function(){var a,b,c,d,e,f,g,h,k,m,t=this.h0,q=this.h1,p=this.h2,n=this.h3,l=this.h4,v=this.h5,r=this.h6,u=this.h7,x=this.blocks;for(a=16;64>a;++a)e=x[a-15],b=(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,e=x[a-2],c=(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10,x[a]=x[a-16]+b+x[a-7]+c<<0;k=q&p;for(a=0;64>a;a+=4)this.first?(this.is224?(h=300032,e=x[0]-1413257819,u=e-150054599<<0,n=e+24177077<<0):(h=704751109,e=x[0]-210244248,u=e-1521486534<<0,n=e+143694565<<0),this.first=
!1):(b=(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10),c=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7),h=t&q,d=h^t&p^k,g=l&v^~l&r,e=u+c+g+w[a]+x[a],f=b+d,u=n+e<<0,n=e+f<<0),b=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),c=(u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7),k=n&t,d=k^n&q^h,g=u&l^~u&v,e=r+c+g+w[a+1]+x[a+1],f=b+d,r=p+e<<0,p=e+f<<0,b=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),c=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),m=p&n,d=m^p&t^k,g=r&u^~r&l,e=v+c+g+w[a+2]+x[a+2],f=b+d,v=q+e<<0,q=e+f<<0,b=(q>>>
2|q<<30)^(q>>>13|q<<19)^(q>>>22|q<<10),c=(v>>>6|v<<26)^(v>>>11|v<<21)^(v>>>25|v<<7),k=q&p,d=k^q&n^m,g=v&r^~v&u,e=l+c+g+w[a+3]+x[a+3],f=b+d,l=t+e<<0,t=e+f<<0;this.h0=this.h0+t<<0;this.h1=this.h1+q<<0;this.h2=this.h2+p<<0;this.h3=this.h3+n<<0;this.h4=this.h4+l<<0;this.h5=this.h5+v<<0;this.h6=this.h6+r<<0;this.h7=this.h7+u<<0};p.prototype.hex=function(){this.finalize();var a=this.h0,b=this.h1,c=this.h2,d=this.h3,e=this.h4,f=this.h5,g=this.h6,k=this.h7,a=h[a>>28&15]+h[a>>24&15]+h[a>>20&15]+h[a>>16&15]+
h[a>>12&15]+h[a>>8&15]+h[a>>4&15]+h[15&a]+h[b>>28&15]+h[b>>24&15]+h[b>>20&15]+h[b>>16&15]+h[b>>12&15]+h[b>>8&15]+h[b>>4&15]+h[15&b]+h[c>>28&15]+h[c>>24&15]+h[c>>20&15]+h[c>>16&15]+h[c>>12&15]+h[c>>8&15]+h[c>>4&15]+h[15&c]+h[d>>28&15]+h[d>>24&15]+h[d>>20&15]+h[d>>16&15]+h[d>>12&15]+h[d>>8&15]+h[d>>4&15]+h[15&d]+h[e>>28&15]+h[e>>24&15]+h[e>>20&15]+h[e>>16&15]+h[e>>12&15]+h[e>>8&15]+h[e>>4&15]+h[15&e]+h[f>>28&15]+h[f>>24&15]+h[f>>20&15]+h[f>>16&15]+h[f>>12&15]+h[f>>8&15]+h[f>>4&15]+h[15&f]+h[g>>28&15]+
h[g>>24&15]+h[g>>20&15]+h[g>>16&15]+h[g>>12&15]+h[g>>8&15]+h[g>>4&15]+h[15&g];return this.is224||(a+=h[k>>28&15]+h[k>>24&15]+h[k>>20&15]+h[k>>16&15]+h[k>>12&15]+h[k>>8&15]+h[k>>4&15]+h[15&k]),a};p.prototype.toString=p.prototype.hex;p.prototype.digest=function(){this.finalize();var a=this.h0,b=this.h1,c=this.h2,d=this.h3,e=this.h4,f=this.h5,g=this.h6,h=this.h7,a=[a>>24&255,a>>16&255,a>>8&255,255&a,b>>24&255,b>>16&255,b>>8&255,255&b,c>>24&255,c>>16&255,c>>8&255,255&c,d>>24&255,d>>16&255,d>>8&255,255&
d,e>>24&255,e>>16&255,e>>8&255,255&e,f>>24&255,f>>16&255,f>>8&255,255&f,g>>24&255,g>>16&255,g>>8&255,255&g];return this.is224||a.push(h>>24&255,h>>16&255,h>>8&255,255&h),a};p.prototype.array=p.prototype.digest;p.prototype.arrayBuffer=function(){this.finalize();var a=new ArrayBuffer(this.is224?28:32),b=new DataView(a);return b.setUint32(0,this.h0),b.setUint32(4,this.h1),b.setUint32(8,this.h2),b.setUint32(12,this.h3),b.setUint32(16,this.h4),b.setUint32(20,this.h5),b.setUint32(24,this.h6),this.is224||
b.setUint32(28,this.h7),a};u.prototype=new p;u.prototype.finalize=function(){if(p.prototype.finalize.call(this),this.inner){this.inner=!1;var a=this.array();p.call(this,this.is224,this.sharedMemory);this.update(this.oKeyPad);this.update(a);p.prototype.finalize.call(this)}};var E=B();E.sha256=E;E.sha224=B(!0);E.sha256.hmac=c();E.sha224.hmac=c(!0);m?a.exports=E:(e.sha256=E.sha256,e.sha224=E.sha224,g&&void 0!==(f=function(){return E}.call(E,b,E,a))&&(a.exports=f))}()}).call(a,b(106)(l))},function(l,
a,b){function n(a,b,f){return function(m){m.listenerId===a&&(f(m),r.removeListener(b))}}Object.defineProperty(a,"__esModule",{value:!0});a.botEventEmmiter=void 0;var f=b(11),r=a.botEventEmmiter=new function(){var a={},b={};this.dispatchEvent=function(b,m,e){m===a[b]&&f.internalEventListener.dispatchEvent(b,Object.assign({listenerId:m},e))};this.addListener=function(k,m,e){r.removeListener(k);a[k]=e;m=n(e,k,m);b[e]=m;f.internalEventListener.addListener(k,m)};this.removeListener=function(k){f.internalEventListener.removeListener(k,
b[a[k]]);a[k]=null;delete a[k]}}},function(l,a,b){function n(a,b){return a+"?"+(0,k.convert2Parameters)((0,k.addParameters)(b,[]))}function f(){var a={};Object.assign(a,p.eventTrackData[u.cacheGetAll]());(0,k.addCacheBuster)(a);var b=(0,v.getGlobalContext)();b&&Object.assign(a,{gcx:JSON.stringify(b)});var d=(0,k.getWindowLocation)(),b=d.protocol+"//",e=d.host,f=d.pathname,g=d.search,n=p.documentRef.title,d=d.hash,c=p.documentRef.referrer,l=c,c=(0,h.maskUrl)(b,e,f,g,d,c,n),c=r(c,7);return b=c[0],e=
c[1],f=c[2],g=c[3],d=c[4],l=c[5],n=c[6],Object.assign(a,{rf:l,sc:b,ho:e,pa:decodeURIComponent(f),q:decodeURIComponent(g),ha:decodeURIComponent(d),sch:(0,m.getPageHeight)(),scw:(0,m.getPageWidth)(),pt:n,u:""+b+e+f+g+d}),a}Object.defineProperty(a,"__esModule",{value:!0});var r=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var d=[],e=!0,f=!1,g=void 0;try{for(var h,c=a[Symbol.iterator]();!(e=(h=c.next()).done)&&(d.push(h.value),!b||d.length!==b);e=!0);}catch(k){f=
!0,g=k}finally{try{!e&&c["return"]&&c["return"]()}finally{if(f)throw g;}}return d}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.getUrl=n;a.getTrackingPayload=f;a.trackWebLinkClick=function(a,b,h,m,n){try{var l=f();l.kcid=b;l.recId=h||null;l.searchTerm=n;var v=e.trackKcEndpoint+"/"+p.eventTrackData.data[p.productIdParameter]+"/"+b+"/track/webLink/"+a+"?"+(0,k.convert2Parameters)((0,k.addParameters)(l,[]));g.AjaxUtil.getData(v,m)}catch(c){d.logger.logInternalError(c,
"Error during tracking webLink "+a+"for kc id "+b)}};a.trackArticleClick=function(a,b,h,m,n,l,v,c){try{var r=f();r.kcid=m;r.catid=b;r.recId=n||null;r.searchTerm=v;c&&(r.tlid=c);var u=e.trackKcEndpoint+"/"+p.eventTrackData.data[p.productIdParameter]+"/"+m+"/track/article/"+a+"?"+(0,k.convert2Parameters)((0,k.addParameters)(r,[]));g.AjaxUtil.getData(u,l)}catch(J){d.logger.logInternalError(J,"Error during tracking article "+a+"for kc id "+m)}};a.trackCommunityArticleClick=function(a,b,h,m,n,l,v){try{var c=
f();c.searchTerm=l;c.cct=m;c.ccu=n;var r=e.trackKcEndpoint+"/"+p.eventTrackData.data[p.productIdParameter]+"/"+a+"/"+e.trackWidgetCommunityArticleInfix+"/"+h+"/"+b+"?"+(0,k.convert2Parameters)((0,k.addParameters)(c,[]));g.AjaxUtil.getData(r,v)}catch(u){d.logger.logInternalError(u,"Error during tracking community article "+b+" of type "+h+" for kc id "+a)}};a.trackToggleWidget=function(a,b,h,m){try{var n=f();n.kcid=a;n.kct=b;h&&(n.tlid=h);m&&(n.kcSt=m);var l=e.trackKcEndpoint+"/"+p.eventTrackData.data[p.productIdParameter]+
"/"+a+"/track/toggle?"+(0,k.convert2Parameters)((0,k.addParameters)(n,[]));g.AjaxUtil.getData(l)}catch(v){d.logger.logInternalError(v,"Error during tracking toggle widget for kc id "+a)}};a.trackExternalArticleClick=function(a,b,h,k){b=h.articleId;var m=h.articleUrl,l=h.articleProvider,v=h.articleTitle;h=h.recommendedId;try{var c=p.eventTrackData.data[p.productIdParameter],r=p.eventTrackData.data[p.aptrinsicIdParam],u=f(),J=n(e.trackKcEndpoint+"/"+c+"/"+a+"/"+e.trackWidgetExternalArticleInfix+"/"+
b,Object.assign(u,{art:v,ai:r,arpro:l,aru:m,ari:b,recId:h,searchTerm:k}));g.AjaxUtil.getData(J)}catch(G){d.logger.logInternalError(G,"Error during tracking article "+b+"for kc id "+a)}};var p=b(4),u=b(8),k=b(0),m=b(9),e=b(1),g=b(13),d=b(2),h=b(19),v=b(23)},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.BROWSER_DEFAULT_FONTS="Arial;Times New Roman;Times;Courier New;Courier;Verdana;Georgia;Palatino;Garamond;Bookman;Tahoma;Trebuchet MS;Arial Black;Impact;Comic Sans MS".split(";");
a.FONTS_WEIGHTS=[400,500,600,700];a.FONTS_SUBSETS=["cyrillic-ext","greek","cyrillic"];a.GAINSIGHT_PX_OPEN_BOT="GAINSIGHT_PX_OPEN_BOT";a.GAINSIGHT_PX_OPEN_ARTICLE="GAINSIGHT_PX_OPEN_ARTICLE"},function(l,a,b){function n(a,b){var d=(0,u.findInWindow)(a,document,!0);return Array.from(d).filter(function(a){return a===b||a.contains&&a.contains(b)})}function f(a,b){var d=n(a.cssSelector,b);return!(0,m.isEmptyArr)(d)&&d.some(function(b){return(0,k.matchExpression)((0,u.getText)(b),a.textOperator,(0,m.trimString)(a.text[0]))})}
function r(a,b){return(0,k.matchExpression)((0,u.getText)(b),a.textOperator,(0,m.trimString)(a.text[0]))}function p(a,b){return 0<n(a.cssSelector,b).length}Object.defineProperty(a,"__esModule",{value:!0});a.elementMatchesForTrackingFeatureRule=a.elementMatchesRule=void 0;var u=b(7),k=b(70),m=b(0),e=b(2),g=b(100),d=b(6);a.elementMatchesRule=function(a,b){if((0,g.isUrlRule)(a.type)||(0,g.isEventRule)(a.type))return!1;switch(a.type){case d.FEATURE_RULE_TYPES.SELECTOR_TEXT_RULE:return a.textElementRules.some(function(a){return f(a,
b)});case d.FEATURE_RULE_TYPES.TEXT_ONLY_RULE:return a.textElementRules.some(function(a){return r(a,b)});default:return e.logger.logInternalError(Error("Trying to run unsupported rule type "+a.type+", won't match")),!1}};a.elementMatchesForTrackingFeatureRule=function(a,b){if((0,g.isUrlRule)(a.type))return!1;switch(a.type){case d.FEATURE_RULE_TYPES.EVENT_RULE:return p({cssSelector:a.selectors[0]},b);case d.FEATURE_RULE_TYPES.SELECTOR_TEXT_RULE:return a.textElementRuleSet.textElementRules.some(function(a){return f(a,
b)});case d.FEATURE_RULE_TYPES.TEXT_ONLY_RULE:return a.textElementRuleSet.textElementRules.some(function(a){return r(a,b)});default:return e.logger.logInternalError(Error("Trying to run unsupported rule type "+a.type+", won't match")),!1}}},function(l,a,b){function n(a){var b=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if((0,d.isBlank)(a))throw Error("globString must be a non-empty string");var e="^",f=1<a.length&&"/"===a.charAt(a.length-1);Array.from(a).forEach(function(a){"*"===a?e+=
".*":h.REGEX_SPECIAL_CHARS.has(a)?e+="\\"+a:e+=a});f&&(e+="?");e+="$";return new RegExp(e,b?"i":"")}function f(a){var b;a:{for(b=0;b<a.length;b+=1)if("*"===a.charAt(b)){b=a.substring(0,b);break a}b=a}var d;a:{for(d=a.length-1;0<=d;--d)if("*"===a.charAt(d))break a;d=-1}a=-1===d?a:a.substring(d+1);return{prefix:b,suffix:a}}function r(a,b){var d=!(!a.suffix||!a.suffix.length),e=a.cond===h.URL_CONDITION_IS;if(e&&d&&!b.endsWith(a.suffix))return!1;d=a.regex.test(b);return e?d:!d}function p(a,b){return a.some(function(a){return r(a,
b)})}function u(a,b){return a.every(function(a){return r(a,b)})}function k(a){return a===h.FEATURE_RULE_TYPES.URL_RULE}function m(a){return h.CLICK_EVENT_RULE_TYPES.has(a)}function e(a){for(var b=!1,d=!1,e=!1,f=0;!e&&f<a.length;f+=1,e=b&&d)e=a[f].type,k(e)&&(b=!0),m(e)&&(d=!0);return{isPageViewFeature:b,isClickEventFeature:d}}Object.defineProperty(a,"__esModule",{value:!0});a.normalizeUrlToKey=function(a){a=a?h.URL_SCHEME_REGEX.test(a)?a:"http://"+a:"";return(a=(0,g.url2Location)(a))?""+a.host+a.pathname+
a.search+a.hash:""};a.removeUrlProtocol=function(a){return a?(0<=a.indexOf("://")&&(a=a.substring(a.indexOf("://")+3)),0===a.indexOf("//")&&(a=a.substring(2)),a):""};a.convertGlobToRegExp=n;a.parseGlobString=f;a.evaluateRulesOr=p;a.evaluateRulesAnd=u;a.buildMatchedFeaturesMap=function(a){var b=a.mappedElementsToEvaluate,d=a.urlKey,e=a.positiveMappedElementHits,f=a.mappedElementRulesById,g=new Map;return b.forEach(function(a){var b;b=e.has(a);var c=f[a];if(c&&c.rules&&0!==c.rules.length){var h=c.isOr;
b=!(!h||!b)||(h?p(c.rules,d):u(c.rules,d))}else b=!1;b&&(b=f[a])&&b.featureId&&(g.has(b.featureId)?g.get(b.featureId).add(a):g.set(b.featureId,new Set([a])))}),g};a.compileUrlRule=function(a,b){var e=a||"",g=(0,d.safeUrl)(e),e="/"===e.charAt(e.length-1)?g+"/":g,g=b===h.URL_CONDITION_IS_NOT?h.URL_CONDITION_IS_NOT:h.URL_CONDITION_IS,k=f(e),m=k.prefix,k=k.suffix;return{regex:n(e),suffix:k,prefix:m,cond:g}};a.getCacheKey=function(a,b){return(a+"__"+b).toLowerCase()};a.isUrlRule=k;a.isEventRule=function(a){return a===
h.FEATURE_RULE_TYPES.EVENT_RULE};a.isClickEventRule=m;a.splitFeaturesByType=function(a,b){var d=[],f=[];return a.forEach(function(a,g){var h=b[g],k=h.allMappedElements.filter(function(b){return a.has(b.id)}),k=e(k),c=k.isClickEventFeature;k.isPageViewFeature&&d.push(h);c&&f.push(h)}),{pageViewFeatures:d,clickEventFeatures:f}};var g=b(9),d=b(0),h=b(6)},function(l,a,b){function n(){var a=(0,p.getGuideStateValue)("apt.engagementExecutionTracking")||"{}";return JSON.parse(a)}function f(a){return n()[a]||
{}}function r(a,b){var f=n();f[a]=b;(0,p.setGuideStateValue)("apt.engagementExecutionTracking",JSON.stringify(f))}Object.defineProperty(a,"__esModule",{value:!0});var p=b(31);a["default"]={markStepTracked:function(a,b){var m=f(a);m[b]||(m[b]=!0,r(a,m))},wasStepTracked:function(a,b){return!!f(a)[b]},markCompletedTracked:function(a){var b=f(a);b.completed=!0;r(a,b)},wasCompletedTracked:function(a){return!!f(a).completed}}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.setUser=a.copyUserFields=
a.userFields=void 0;var n=b(26),f=b(0),r=b(130),p=b(2),u=b(1),k=b(27),m=a.userFields="id globalId email gender firstName lastName signUpDate title role subscriptionId phone countryCode countryName stateCode stateName city street continent postalCode regionName timeZone latitude longitude accountId firstVisitDate score userHash sfdcContactId".split(" "),e=a.copyUserFields=function(a,b){var e={};if(a.id&&(e.ide=a.id.toString()),!(0,f.isBlank)(a.email)&&(e.usem=a.email),(0,f.isObject)(a)){var k={},q;
for(q in a)a.hasOwnProperty(q)&&(-1===m.indexOf(q)?k[q]=a[q]:e[q]=a[q]);e.customAttributes=k;(0,r.shouldInjectAccountId)(a,b)&&(e.accountId=b.id)}return delete e.id,delete e.email,e};a.setUser=function(a){if((0,u.getConfig)("enableTag")){var b={},f=n.UserData.getAptrinisId(),m=n.UserData.getUserId();if(!n.UserData.isUser())return void p.logger.log("not doing anything since not a user yet, visitor id: "+m+", user id: "+f);b.usf=e(a,null);(0,k.internalApt)("setAttribute",b)}}},function(l,a,b){Object.defineProperty(a,
"__esModule",{value:!0});a.addFullStoryInfo=void 0;var n=b(1),f=b(2),r=b(0);a.addFullStoryInfo=function(a){if((0,n.getConfig)("enableFullStory"))try{var b=window._fs_namespace;if(b&&(0,r.isFunction)(window[b].getCurrentSessionURL)){var k=window[b].getCurrentSessionURL(!0);k&&(a.fs=k)}}catch(m){f.logger.logInternalError(m,"Unable to FullStory session")}return a}},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a,b,f){var k=f||{};f=[];(0,u.isIframe)()?k=e["default"].resolveIframeClickEventTrackingProperties({targetElement:b}):
(0,u.isIframe)()||b?!(0,u.isIframe)()&&b&&(a=e["default"].resolveClickEventTrackingProperties({url:a,targetElement:b}),k=a.resolvedTrackingProperties,f=a.unresolvedClickPropertyIds):(b=Object.keys(k).filter(function(a){return(0,d.isBlank)(k[a])}),a=g["default"].resolveTrackingPropertiesByIds(b,a),k=a.resolvedTrackingProperties,f=a.unresolvedClickPropertyIds);return{resolvedTrackingProperties:k,unresolvedClickPropertyIds:f}}function r(a,b){var d=b.map(function(a){return a.id});return e["default"].resolveTrackingPropertiesForFeatureIds({url:a,
featureIds:d})}Object.defineProperty(a,"__esModule",{value:!0});a.loadTrackingPropertiesMetadata=function(a){(0,u.isIframe)()||(g["default"].setTrackingPropertiesMetaData(a.trackingPropertiesMetadata),k["default"].buildFeatureTree(a.clientSideFeatureMatchMetadata))};a["default"]=function(a){var b=a.properties,k=a.eventType,n=a.targetElement,t={},l="",A=[];g["default"].setOOBDetails(a.oobDetails);b&&b.resolvedTrackingProperties&&(t=b.resolvedTrackingProperties,l=b.iframeId||"",delete b.resolvedTrackingProperties,
delete b.iframeId);a=(0,m.getFullUrlMasked)();var B=(0,d.isBlank)(a),y=(0,d.isPageViewEvent)(k)&&!B,c=((0,d.isClickEvent)(k)||(0,d.isLinkClickEvent)(k))&&!B,k=(0,d.isFeatureEvent)(k)&&b.featureMatches&&!B;y?(b=((0,u.isIframe)()||p["default"].syncTrackingPropertiesMetaData(),e["default"].resolvePageViewEventTrackingProperties({url:a})),t=b.resolvedTrackingProperties,A=b.unresolvedClickPropertyIds):c?(b=f(a,n,t),t=Object.assign({},t,b.resolvedTrackingProperties),A=b.unresolvedClickPropertyIds):k&&(b=
r(a,b.featureMatches),t=b.resolvedTrackingProperties,A=b.unresolvedClickPropertyIds);return{resolvedTrackingProperties:t,iframeIdWhereClickHappened:l,unresolvedClickPropertyIds:A}};l=b(43);var p=n(l),u=b(1);l=b(69);var k=n(l),m=b(19);l=b(121);var e=n(l);l=b(48);var g=n(l),d=b(15)},function(l,a,b){function n(a,b){r?r(a,b):f.logger.log("Tracking function not set. Event not tracked.",a,b)}Object.defineProperty(a,"__esModule",{value:!0});a.setTrackingFunction=function(a){r=a};a.trackEvent=n;a.trackEngagementCompletedClosed=
function(a){n("engagementCompletedClosed",a)};a.trackEngagementDroppedClosed=function(a){n("engagementDroppedClosed",a)};var f=b(2),r=null},function(l,a,b){l.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children||(a.children=[]),Object.defineProperty(a,"loaded",{enumerable:!0,get:function(){return a.l}}),Object.defineProperty(a,"id",{enumerable:!0,get:function(){return a.i}}),a.webpackPolyfill=1),a}},,,function(l,a,b){function n(a){return a&&a.__esModule?a:
{"default":a}}function f(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function r(a){T=a;var b=(0,E.arrayFrom)(a,function(a){var b=a.mappedElements.filter(function(a){return"TEXT_ELEMENT"===a.type&&(0,v.getConfig)("textMatchEnabled")});if(1>b.length)return null;a=Object.assign({},a);return a.mappedElements=b,a}).filter(function(a){return null!==a}),c=(0,E.arrayFrom)(a,function(a){var b=a.mappedElements.filter(function(a){return-1<H.indexOf(a.type)});
if(1>b.length)return null;a=Object.assign({},a);return a.mappedElements=b,a}).filter(function(a){return null!==a});F.splice.apply(F,[0,F.length].concat(f(b)));Q.splice.apply(Q,[0,Q.length].concat(f(c)));(0,v.isIframe)()||A["default"].syncFeatureRules(a)}function p(a){(0,O.encryptFeatures)(a).then(function(a){r(a)})["catch"](function(b){z.logger.logInternalError(Error("Failed to encrypt feature rules: "+b.message));r(a)})}function u(){var a=0<arguments.length&&void 0!==arguments[0]&&arguments[0],b=
Object.assign({},w.eventTrackData[t.cacheGetAll]());b.wsv=w.applicationVersion;a&&(0,h.addCacheBuster)(b);q.AjaxUtil.getData(v.fetchFeatureRuleEndpoint+"?"+(0,h.convert2Parameters)((0,h.addParameters)(b,[])),p)}function k(){u(!0)}function m(){if(S)return JSON.parse(localStorage.getItem(U))}function e(a,b){if(S){var c=m();c&&c[a]&&c[a][b]&&(delete c[a][b],localStorage.setItem(U,JSON.stringify(c)))}}function g(a){var b=a.scopeRules;a=a.urlLogicalOperator;var c=(0,h.getPageUrl)();return"AND"===a?b.every(function(a){return(0,
h.matchUrl)(a.urlScope,c,"NOT"===a.urlCondition)}):b.some(function(a){return(0,h.matchUrl)(a.urlScope,c,"NOT"===a.urlCondition)})}Object.defineProperty(a,"__esModule",{value:!0});a.getRawFeatureRules=a.loadIframeRules=void 0;var d=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=b(0),v=b(1),q=b(13),w=b(4),
t=b(8),x=b(27);l=b(43);var A=n(l),B=b(5),y=b(14);l=b(9);var c=b(70),E=b(10),z=b(2),J=b(51),G=n(J),J=b(16),C=n(J),O=b(42),D=b(99),F=[],Q=[],S=(0,l.localStorageEnabled)(),L=[],T=void 0,H=["SELECTOR_TEXT_RULE","TEXT_ONLY_RULE"],U="apt.fm";b=new (function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return d(a,[{key:"init",value:function(){(0,v.isIframe)()||C["default"].isEditorMode()||(setInterval(k,3E5),u())}},{key:"sendRuleMatchResults",value:function(a){a=
{featureMatches:a};(0,x.internalApt)("feature",a)}},{key:"matchFeatureRule",value:function(a,b){var d=a.textElementRules,e=a.scopeRules,f=a.urlLogicalOperator,g=y.UUIDGenerator.generateV4Id();(0,B.subscribe)(g,function(a,b){var c=(0,h.getPageUrl)(),d=("AND"===f?e.every(function(a){return(0,h.matchUrl)(a.urlScope,c,"NOT"===a.urlCondition)}):e.some(function(a){return(0,h.matchUrl)(a.urlScope,c,"NOT"===a.urlCondition)}))&&a.reduce(function(a,b){return a&&b});(0,B.decrementState)(b.callingFutureId,{id:b.rule.id,
matched:d})},{rule:a,callingFutureId:b});!(0,v.isIframe)()&&A["default"].getElementText&&d.forEach(function(a){try{A["default"].getElementText(a.cssSelector,g,function(b,d){if(!b||!(0,h.isNotEmptyArr)(b))return void(0,B.decrementState)(d,!1);for(var e=void 0,f=0;f<b.length;f++)if((0,h.isDefinedStr)(b[f])){e=b[f];break}(0,h.isUndefinedStr)(e)?(0,B.decrementState)(d,!1):(e=(0,c.matchExpression)(e,a.textOperator,a.text[0]),(0,B.decrementState)(d,e))})}catch(b){(0,B.decrementState)(g,!1),z.logger.logInternalError(b)}})}},
{key:"handleAllFeatureMatchResult",value:function(a){var b=!1;a=(0,E.arrayFrom)(a,function(a){var c=a.featureId;return(0,E.arrayFrom)(a.rulesResult,function(a){var d=a.matched;!d&&e(c,a.ruleId);var f;f=a.ruleId;if(S){var g=m();g&&g[c]&&g[c][f]?(g=g[c][f].timestamp,f=18E5<=Date.now()-g&&(e(c,f),!0)):f=!0}else f=!0;f||(d=!1);d&&(f=a.ruleId,S&&(g=m()||{},g[c]=g[c]||{},g[c][f]={timestamp:Date.now()},localStorage.setItem(U,JSON.stringify(g))),b=!0);return{id:c,feme:a.ruleId,femr:d}})});b&&this.sendRuleMatchResults([].concat.apply([],
a))}},{key:"matchRules",value:function(){var a=this,b=y.UUIDGenerator.generateV4Id();(0,B.subscribe)(b,this.handleAllFeatureMatchResult.bind(this));F.forEach(function(){return(0,B.incrementState)(b)});F.forEach(function(c){var d=c.mappedElements;if((0,h.isNotEmptyArr)(d)){var e=y.UUIDGenerator.generateV4Id();(0,B.subscribe)(e,function(a,b){var c=(0,E.arrayFrom)(a,function(a){return{ruleId:a.id,matched:a.matched}});(0,B.decrementState)(b.matchId,{featureId:b.featureId,rulesResult:c})},{matchId:b,featureId:c.featureId});
d.forEach(function(){return(0,B.incrementState)(e)});d.forEach(function(b){a.matchFeatureRule(b,e)})}})}},{key:"try2Match",value:function(){var a=this;if((0,v.getConfig)("textMatchEnabled")){try{L.forEach(function(a){return clearTimeout(a)})}catch(b){}for(var c=0;3>c;c++){var d=setTimeout(function(b){return function(){var b=L.indexOf(void 0);-1<b&&L.splice(b,1);a.matchRules()}}(),(0,v.getConfig)("delayClickEventTime")*(c+1));L.push(d)}}}},{key:"matchElement",value:function(a){var b=Q.reduce(function(b,
c){var d=c.mappedElements.filter(function(b){b=(0,v.isIframe)()||g(b)?(0,D.elementMatchesRule)(b,a):!1;return b});return 0<d.length&&((0,v.isIframe)()?b.push({id:c.featureId,rules:d}):c.featureId&&d[0].id&&b.push({id:c.featureId,feme:d[0].id,femr:!0})),b},[]);b&&0<b.length&&((0,v.isIframe)()?G["default"].textFeatureMatch([].concat.apply([],b)):this.sendRuleMatchResults([].concat.apply([],b)))}},{key:"clearAll",value:function(){localStorage.removeItem(U)}},{key:"evaluateIframeMatches",value:function(a){(a=
a.reduce(function(a,b){var c=b.rules.filter(function(a){return g(a)});return 0<c.length&&a.push({id:b.id,feme:c[0].id,femr:!0}),a},[]))&&0<a.length&&this.sendRuleMatchResults([].concat.apply([],a))}}]),a}());a["default"]=b;a.loadIframeRules=function(a){(0,v.isIframe)()&&p(a)};a.getRawFeatureRules=function(){return T}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.ScrollEventBinder=void 0;var n=function(){function a(b,e){for(var f=0;f<e.length;f++){var d=e[f];d.enumerable=d.enumerable||
!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,e,f){return e&&a(b.prototype,e),f&&a(b,f),b}}(),f=b(4),r=b(0),p=b(2),u=b(18);a.ScrollEventBinder=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.bindedElementsMap={}}return n(a,[{key:"getFollowScrollHandler",value:function(a,b,f){var d=void 0,h=void 0,k=void 0,q=a.getBoundingClientRect(),n=q.left,t=q.top;return d=a.scrollTop,h=a.scrollLeft,
f||(k={}),function(a){a=(0,u.getEventTarget)(a);var f=a.getBoundingClientRect(),g=f.top,f=f.left,m=g!==t||f!==n;if(!(a&&"hidden"===a.style.visibility||m)){if(n=f,t=g,k[a]){if(99999<d||99999<h)return void p.logger.logInternalError(Error("Warning: large values seen for lastSroll in scroll event handler "+d+"/"+h));for(var g=a.scrollTop-d,f=a.scrollLeft-h,m=Array.isArray(b)?b:[b],c=0;c<m.length;c++)m[c].style.top=parseInt(m[c].style.top)-g+"px",m[c].style.left=parseInt(m[c].style.left)-f+"px"}else k[a]=
!0;d=a.scrollTop;h=a.scrollLeft;(99999<d||99999<h)&&p.logger.logInternalError(Error("Warning: large values seen for lastSroll in scroll event handler"+d+"/"+h))}}}},{key:"clearScrollEventListenerFromParents",value:function(a){var b=this;try{this.bindedElementsMap[a]&&this.bindedElementsMap[a].elements.forEach(function(f){(0,r.removeEventListener)(f,b.bindedElementsMap[a].scrollHandler)})}catch(f){p.logger.logInternalError(f,"Error happened during clearing scroll handler of element "+a)}}},{key:"handleScrollEvent",
value:function(b,e){try{for(var f=b.parentNode;f.tagName&&"BODY"!==f.tagName;){if(a.hasScrollbars(f)){var d=f;this.bindedElementsMap[b]||(this.bindedElementsMap[b]={});this.bindedElementsMap[b].elements&&Array.isArray(this.bindedElementsMap[b].elements)||(this.bindedElementsMap[b].elements=[]);this.bindedElementsMap[b].scrollHandler||(this.bindedElementsMap[b].scrollHandler=e);this.bindedElementsMap[b].elements.push(d);(0,r.addEventListener)(d,"scroll",function(a){e(a)})}f=(0,u.getParentElement)(f)}}catch(h){p.logger.logInternalError(h,
"Error during setting scroll event for element "+b)}}}],[{key:"hasScrollbars",value:function(a){a=f.windowRef.getComputedStyle(a);return"auto"===a["overflow-x"]||"scroll"===a["overflow-x"]||"auto"===a["overflow-y"]||"scroll"===a["overflow-y"]}}]),a}()},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a){var b=(0,p.findElementInWindow)(a.content.elementSelector,document),e=a.aptrinsicRequestId,f=!0;(0,u.addEventListener)(document,"click",function G(a){f&&((0,u.hasElement)(b,
a.target)||(d["default"].guideExternalElementClicked(e),(0,u.removeEventListener)(document,"click",G,!1),f=!1))})}function r(a){if((0,m.isValidCallingDomain)(a.origin))try{var b=(0,m.parseEvent)(a);if(b&&-1<A.indexOf(b.aptrinsicEventType)){if((0,h.checkHandledRequest)(b.aptrinsicRequestId))return void k.logger.log("ignoring request that was already handled "+b.aptrinsicRequestId);switch((0,h.addHandledRequestId)(b.aptrinsicRequestId),b.aptrinsicEventType){case "redirect":v["default"].getToken()||
(window.location.href=(0,u.addParametersToUrl)(window.location.href,JSON.parse(b.content.params)));break;case "register":(0,h.registerIframe)(a.source,a.origin,b.aptrinsicIframeId);var q=document.getElementsByTagName("iframe");(0,m.associateChildIframes)(q);break;case "pxUnregister":(0,h.unregisterIframe)(b.aptrinsicIframeId);break;case "elementExist":var n=b.content,l=(0,p.findElementInWindow)(n.elementSelector,document,!0);a=null;var q=0,r=null,C=((0,u.isNodeList)(l)||Array.isArray(l))&&0<l.length,
O=Node.prototype.isPrototypeOf(l);C?(a=l[0],q=l.length):O&&(a=l,q=1);n.returnAttributes&&(r=(0,u.getAttributesAndPropertiesWithValue)(a));var D=(0,u.isElementVisibleProxy)(a,n.scrollToElement);a&&!D&&n.scrollToElement&&(0,u.scrollElementToCenter)(a,function(a){return k.logger.logInternalError(a)});d["default"].sendElementResponse(a,D,q,b.aptrinsicRequestId,r);break;case "getChildAssociation":d["default"].associateParent(b.aptrinsicRequestId);break;case "associateParent":(0,h.decrementState)(b.aptrinsicRequestId,
{iframeId:b.aptrinsicIframeId});break;case "apt-msg-get-element-location":r=g.GuideDrawerIframe.getElementBoundingRect(b.content.elementSelector);d["default"].broadcastElementRect(r,b.aptrinsicRequestId);break;case "apt_msg_get_badges_locations":var F=w.badgeIframeHelper.getBadgesWithLocations();d["default"].broadcastUpBadgesLocation(F,b.aptrinsicRequestId);break;case e.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_PARENT_IFRAME:var Q=b.content.badges,S=b.aptrinsicIframeId,L=(0,m.fixBadgesLocations)(S,
Q);d["default"].broadcastUpBadgesLocation(L,b.aptrinsicRequestId);break;case "apt_msg_remove_badge":var T=b.content.badgeId;T&&w.badgeIframeHelper.removeBadgeFromBadgesList(T);break;case "apt_msg_send_badge":var H=b.content.badge;H&&w.badgeIframeHelper.addBadgeToBadgesList(H);break;case "apt_msg_badge_set_observer":(0,w.addBadgeObserver)();var U=w.badgeIframeHelper.getBadgesWithLocations();0<U.length&&d["default"].broadcastBadgesStatuses(U);break;case "apt_msg_badge_unset_observer":(0,w.removeBadgeObserver)();
break;case e.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT:var K=b.content.elementRect,Y=b.aptrinsicRequestId,P=(0,h.getIframeData)(b.aptrinsicIframeId).domElement.getBoundingClientRect();K.top+=P.top;K.left+=P.left;K.bottom+=P.bottom;K.right+=P.right;d["default"].broadcastElementRect(K,Y);break;case "apt-msg-add-handler-show-next-step":switch(B.removeAllHandlers(),b.content.nextStepTrigger){case "ELEMENT_CLICK":B.addEventListener("click",b);B.addEventListener("contextmenu",b);break;case "ELEMENT_HOVER":B.addEventListener("mouseover",
b);break;case "INPUT_TEXT_COMPLETION":B.addEnterKeyDownListener(b)}break;case "aptGuideExternalClick":f(b);break;case "apt-msg-remove-element-handlers":B.removeAllHandlers();break;case x.EVENTS.BOT:(0,t["default"])(b);break;default:k.logger.logInternalError(Error("child iframe script got unsupported event from master, data: "+JSON.stringify(b)))}}}catch(N){k.logger.logInternalError(N)}}Object.defineProperty(a,"__esModule",{value:!0});a.handleIncomingRequest=void 0;var p=b(7),u=b(0),k=b(2),m=b(12),
e=b(29),g=b(77);l=b(49);var d=n(l),h=b(5);l=b(16);var v=n(l),q=b(1),w=b(40);l=b(131);var t=n(l),x=b(24),A=["apt-msg-get-element-location","apt-msg-add-handler-show-next-step","apt-msg-remove-element-handlers","register","getChildAssociation",e.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT,"associateParent","elementExist","aptGuideExternalClick","redirect","apt_msg_get_badges_locations","apt_msg_badge_set_observer","apt_msg_badge_unset_observer","apt_msg_send_badge","apt_msg_remove_badge",e.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_PARENT_IFRAME,
x.EVENTS.BOT,"pxUnregister"],B=new function(){function a(b){h=b.target}var b=this,e={},f=void 0,g=!0,h=null,m=function(a){return function(e){("pointerup"!==e.type||(0,p.checkIfSameElement)(h,e.target))&&g&&(d["default"].guideLinkedElementClicked(a),b.removeAllHandlers(),g=!1)}};this.addEnterKeyDownListener=function(a){var b=a.aptrinsicRequestId;a=a.content.elementSelector;f=(0,p.findElementInWindow)(a,document);(0,u.isEnterAllowedElement)(f)&&(e.keydown=function(a){-1!==[13,9].indexOf(a.keyCode)&&
a.currentTarget===f&&m(b)()},(0,u.addEventListener)(f,"keydown",e.keydown))};this.addEventListener=function(b,c){var d=c.aptrinsicRequestId,g=c.content.elementSelector;switch(f=(0,p.findElementInWindow)(g,document),e[b]=m(d),b){case "contextmenu":case "mouseover":(0,u.addEventListener)(f,b,e[b]);break;case "click":(0,q.getConfig)("elementClickToPointer")?((0,u.addEventListener)(f,"pointerdown",a),(0,u.addEventListener)(f,"pointerup",e[b])):(0,u.addEventListener)(f,b,e[b]);break;default:k.logger.logInternalError(Error("ElementHandlersManager got unsupported event listener: "+
JSON.stringify(c)))}};this.removeEventListener=function(a,b){(0,u.removeEventListener)(a,b,e[b]);e[b]=null};this.removePointerListeners=function(b){(0,u.removeEventListener)(b,"pointerdown",a);(0,u.removeEventListener)(b,"pointerup",e.click);e.click=null};this.removeAllHandlers=function(){f&&((0,q.getConfig)("elementClickToPointer")&&b.removePointerListeners(f),b.removeEventListener(f,"click"),b.removeEventListener(f,"contextmenu"),b.removeEventListener(f,"mouseover"),b.removeEventListener(f,"keydown"));
g=!0}};b=new function(){(0,q.isIframe)()&&!v["default"].isEditorMode()&&(0,u.addEventListener)(window,"message",r)};a["default"]=b;a.handleIncomingRequest=r},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a){if((0,m.isValidCallingDomain)(a.origin)){var b=(0,m.parseEvent)(a);try{if(null!==b&&-1<w.indexOf(b.aptrinsicEventType)){var f=b.aptrinsicRequestId+"_"+b.aptrinsicIframeId;if((0,k.checkHandledRequest)(f))return void u.logger.log("ignoring request that was already handled "+
b.aptrinsicRequestId);switch((0,k.addHandledRequestId)(f),b.aptrinsicEventType){case "register":(0,k.registerIframe)(a.source,a.origin,b.aptrinsicIframeId,(0,p.getConfig)("framesetMode"));var n=document.getElementsByTagName("iframe");(0,m.associateChildIframes)(n);if(g["default"].isEditorMode()){var l=g["default"].getQueryParams(),c=b.aptrinsicIframeId,r=JSON.stringify(l);(0,m.postRequestDown)({origin:window.location.href,aptrinsicEventType:"redirect",content:{params:r}},(0,k.getIframeData)(c))}break;
case "pxUnregister":(0,k.unregisterIframe)(b.aptrinsicIframeId);break;case "associateParent":(0,k.decrementState)(b.aptrinsicRequestId,{iframeId:b.aptrinsicIframeId});break;case e.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT_PARENT:var z=b.content.elementRect,J=(0,k.getIframeData)(b.aptrinsicIframeId),G=(0,p.getConfig)("framesetMode")?J.frameOffset:J.domElement.getBoundingClientRect();z.top+=G.top;z.left+=G.left;z.bottom+=G.bottom;z.right+=G.right;(0,k.decrementState)(b.aptrinsicRequestId,z);break;case "apt-msg-element-clicked":(0,
k.decrementState)(b.aptrinsicRequestId,{});break;case e.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_RESPONSE:var C=b.content.badges,O=b.aptrinsicIframeId,D=(0,m.fixBadgesLocations)(O,C);(0,k.decrementState)(b.aptrinsicRequestId,{badges:D,iframeData:(0,k.getIframeData)(O)});break;case "apt_msg_badge_post_status":(0,h.updateBadgesFromIframe)(b.aptrinsicIframeId,b.content.badges);break;case "elementExistResult":var F=b.content.exist,Q=0<b.content.count?b.content.count:0,S=b.content.attributes||null;
(0,k.decrementState)(b.aptrinsicRequestId,{exist:F,isVisible:b.content.isVisible,count:Q,attributes:S,iframeData:(0,k.getIframeData)(b.aptrinsicIframeId)});break;case "apt-msg-external-element-clicked":(0,k.decrementState)(b.aptrinsicRequestId,{});d["default"].handleIframeExternalClick(b.aptrinsicIframeId);break;case v.EVENTS.BOT:(0,q["default"])(b);break;default:u.logger.logInternalError(Error("master script got unsupported event from iframe, data: "+JSON.stringify(b)))}}}catch(L){u.logger.logInternalError(L)}}}
Object.defineProperty(a,"__esModule",{value:!0});a.handleIncomingRequest=void 0;var r=b(0),p=b(1),u=b(2),k=b(5),m=b(12),e=b(29);l=b(16);var g=n(l);l=b(86);var d=n(l),h=b(40),v=b(24);b=b(132);var q=n(b),w=["register",e.GUIDE_EVENT_TYPES.APT_MSG_ELEMENT_RECT_PARENT,"apt-msg-element-clicked","associateParent","elementExistResult","apt-msg-external-element-clicked","apt_msg_badge_post_status",e.GUIDE_EVENT_TYPES.APT_MSG_GET_BADGES_LOCATIONS_RESPONSE,v.EVENTS.BOT];b=new function(){(0,p.isIframe)()||g["default"].isEditorMode()||
(0,r.addEventListener)(window,"message",f,!1)};a["default"]=b;a.handleIncomingRequest=f},function(l,a,b){function n(a,b){if(!(0,m.isIframe)()){var e=window.getMapperState&&window.getMapperState("isMapperEnabled"),e=r.IframeRequest.getMasterRequst(u.MAPPER_NAMESPACE,{type:u.MASTER_TO_IFRAME_MESSAGES.MAPPER_STATE_RESPONSE,isMapperEnabled:e,isPreview:!1},b);(0,k.postRequestDown)(e,a)}}function f(a){p.internalEventListener.dispatchEvent("elementSelectedForIframe",a.content,(0,r.getIframeData)(a.aptrinsicIframeId))}
Object.defineProperty(a,"__esModule",{value:!0});a.sendMapperStateResponseToIframes=n;a.dispatchElementSelectedForIframe=f;a.handleMapperMessageInMaster=function(a){switch(a.content.type){case "element_selector_document_click":f(a);break;case u.IFRAME_TO_MASTER_MESSAGES.KEYBOARD_MAPPING_TOGGLED:p.internalEventListener.dispatchEvent(e.INTERNAL_MASTER_EVENTS.KEYBOARD_MAPPING_TOGGLED);break;case u.IFRAME_TO_MASTER_MESSAGES.GET_MAPPER_STATE:n((0,r.getIframeData)(a.aptrinsicIframeId),a.aptrinsicRequestId);
break;default:console.log("not supported")}};a.handleMapperMessagesInIframe=function(a){switch(a.content.type){case u.MASTER_TO_IFRAME_MESSAGES.SET_MAPPER_STATE:p.internalEventListener.dispatchEvent("setMapperStateForIframe",a.content.isMapperEnabled);break;case u.MASTER_TO_IFRAME_MESSAGES.MAPPER_STATE_RESPONSE:(0,r.decrementState)(a.aptrinsicRequestId,a.content);break;default:console.log("not supported")}};var r=b(5),p=b(11),u=b(75),k=b(12),m=b(1),e=b(76)},function(l,a,b){function n(a){if(a&&a.__esModule)return a;
var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);return b["default"]=a,b}function f(){(0,r.isIframe)()&&(this.associateParent=function(a){a=u.IframeRequest.getIframeRequest((0,p.getIframeId)(),"associateParent",null,a);(0,p.postRequest)(a,window.parent,!0)})}Object.defineProperty(a,"__esModule",{value:!0});a.createIframeProxy=function(){return new f};a.handleIframeMessages=function(a,b){try{var d=(0,p.parseEvent)(a),f=b[d.aptrinsicEventType];f?f(d,a):k.logger.logInternalError(Error("child iframe script got unsupported event from master, data: "+
JSON.stringify(d)))}catch(g){k.logger.logInternalError(g)}e.handleIncomingRequest(a)};a.handleMasterMessages=function(a,b){if((0,p.isValidCallingDomain)(a.origin)){var e=(0,p.parseEvent)(a);if(null!==e){try{var f=Object.assign({},d,b)[e.aptrinsicEventType];f?f(e,a):k.logger.logInternalError(Error("master script got unsupported event from iframe, data: "+JSON.stringify(e)))}catch(m){k.logger.logInternalError(m)}g.handleIncomingRequest(a)}}};a.handleIncomingRequest=function(a,b,d){if((0,p.isValidCallingDomain)(a.origin))try{var e=
(0,p.parseEvent)(a);e&&-1<b.indexOf(e.aptrinsicEventType)&&d(e,a)}catch(f){k.logger.logInternalError(f)}};var r=b(1),p=b(12),u=b(5),k=b(2),m=(l=b(16))&&l.__esModule?l:{"default":l};l=b(111);var e=n(l);b=b(112);var g=n(b),d={register:function(a,b){(0,u.registerIframe)(b.source,b.origin,a.aptrinsicIframeId,(0,r.getConfig)("framesetMode"));var d=document.getElementsByTagName("iframe");if((0,p.associateChildIframes)(d),m["default"].isEditorMode()){var e=m["default"].getQueryParams(),d=a.aptrinsicIframeId,
e=JSON.stringify(e);(0,p.postRequestDown)({origin:window.location.href,aptrinsicEventType:"redirect",content:{params:e}},(0,u.getIframeData)(d))}},associateParent:function(a){(0,u.decrementState)(a.aptrinsicRequestId,{iframeId:a.aptrinsicIframeId})},"apt-log":function(a){k.logger.reportToServer("aptrinsic web sdk error: "+a.content.message+"\n"+a.content.extraMessage+"\n at: "+a.content.stackTrace)}}},,function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=b(0),f=b(2),r=b(26),p=b(1),
u=b(27),k=(l=b(51))&&l.__esModule?l:{"default":l};l=new function(){function a(b,d){(0,p.getConfig)("enableTag")&&(r.UserData.changeUserType(r.UserData.getLeadType()),(0,u.internalApt)("lead",{fof:d,usf:{usem:b,ls:"FORM"}},function(a){r.UserData.setAptrinsicId(a.ai,!0)}))}var b=this;this.init=function(){(0,p.getConfig)("enableTag")&&(0,p.featureEnabled)("form")&&(0,n.addEventListener)(document,"submit",function(b){try{if(r.UserData.getUserType()==r.UserData.visitorType()&&!(-1<location.href.toLowerCase().indexOf("unsubscribe"))){var d;
a:{var e=b.target;if((0,p.getConfig)("enableTag")){var l=e.querySelectorAll("input[type\x3dpassword]");if(void 0!==l&&null!=l&&0<l.length)d=void f.logger.log("lead tracker does not collect forms with password fields");else{try{var q;b:{var u=e.querySelectorAll("[type\x3dsubmit]").item(0).textContent.toLowerCase();b=["password","unsubscribe"];for(l=0;l<b.length;l++)if(-1<u.indexOf(b[l])){q=!0;break b}q=!1}if(q){d=void f.logger.log("lead tracker does not collect forms with reserved words");break a}}catch(A){f.logger.logInternalError(A)}q=
{};var u={},t=l=b=void 0,x=e.querySelectorAll("input");if(void 0!==x&&null!=x){for(e=0;e<x.length;e++)b=x[e],"password"!==(t=b.getAttribute("type"))&&"button"!==t&&"submit"!==t&&(l=b.getAttribute("id")||b.getAttribute("name"))&&(u[l]=b.value)&&(0,n.isEmail)(u[l])&&(q.email=u[l]);q.formFields=u}d=q}}else d=void 0}d&&d.email&&((0,p.isIframe)()?k["default"].lead("FORM",d.email,void 0,d.formFields):a(d.email,d.formFields))}}catch(A){f.logger.logInternalError(A)}})};this.trackLead=function(a,b){try{if((0,
p.getConfig)("enableTag")){var e={};Object.assign(e,b);e.usem=a;e.ls="API";(0,p.isIframe)()?k["default"].lead("API",a,b):(0,u.internalApt)("lead",{usf:e},function(a){r.UserData.setAptrinsicId(a.ai,!0)})}}catch(m){f.logger.logInternalError(m)}};this.track=function(g,d,h,k){if((0,p.getConfig)("enableTag")&&!(0,p.isIframe)())switch(g){case "API":b.trackLead(d,h);break;case "FORM":a(d,k);break;default:f.logger.logInternalError(Error("got unknown lead source: "+g))}}};a["default"]=l},function(l,a,b){Object.defineProperty(a,
"__esModule",{value:!0});var n=function(){function a(b,e){for(var f=0;f<e.length;f++){var d=e[f];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,e,f){return e&&a(b.prototype,e),f&&a(b,f),b}}(),f=b(1),r=b(4),p=b(50),u=b(2);l=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");}return n(a,null,[{key:"call",value:function(b){for(var e=b.length,f=0;f<e;f++)a.callCommand(b[f])}},
{key:"callCommand",value:function(a){try{if(1>a.length)throw Error("Cannot have command with less than one arguments");if((0,f.getConfig)("enableTag")||"config"===a[0]){var b=Array.prototype.slice.call(a),g=b[0];if("reset"!==g&&2>a.length)throw Error("Cannot have command with less than two arguments");-1<r.apiMethods.indexOf(g)&&p.externalApi[g].apply(p.externalApi,b.slice(1))}}catch(d){u.logger.logInternalError(d)}}}]),a}();a["default"]=l},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});
a.getServerConfiguration=a.tagConfigKeyName=void 0;var n=b(1),f=b(26),r=b(13),p=b(2),u=b(9),k=b(4),m=b(78),e=b(61),g=b(60),d=b(104),h=function(){};a.tagConfigKeyName="tagConfig";a.getServerConfiguration=function(a,b,l,t,x,A){var B=n.getConfigEndpoint+"?p\x3d"+b,y=f.UserData.getAptrinisId(!0);0<f.UserData.getUserType(!0)&&y&&(B+="\x26ai\x3d"+y);r.AjaxUtil.getData(B,function(c){var f=c.sdkConfiguration;p.logger.log("Received new configuration: \n"+JSON.stringify(f,null,2));(0,n.overrideConfig)(f,!a);
p.logger.log("Applied configuration: \n"+JSON.stringify((0,n.getConfigObj)(),null,2));f=(0,u.detectIE)();(f&&10>f&&(p.logger.logInternalError(Error("disabling tag since this is unsupported IE version "+f)),(0,n.disableTag)()),(0,n.overrideConfig)(t,!1,!0),a&&(0,n.getConfig)("enableTag"))?(f=c.clientSideFeatureMatchMetadata||[],c=c.trackingPropertiesMetadata||[],(0,e.loadChecksumFile)((0,n.getConfig)(g.ENGAGEMENT_CHECKSUM_URL_CONFIG)),(0,d.loadTrackingPropertiesMetadata)({clientSideFeatureMatchMetadata:f,
trackingPropertiesMetadata:c}),x(b,l,a)):(0,n.getConfig)("enableTag")?(f=c.clientSideFeatureMatchMetadata||[],c=c.trackingPropertiesMetadata||[],(0,d.loadTrackingPropertiesMetadata)({clientSideFeatureMatchMetadata:f,trackingPropertiesMetadata:c}),A&&A(),(0,e.loadChecksumFile)((0,n.getConfig)(g.ENGAGEMENT_CHECKSUM_URL_CONFIG))):k.windowRef[k.aptrinsicGlobalObjName]=h;(0,m.initKnowledgeCenterWrapper)(a,!a)},null,function(){a?((0,n.overrideConfig)((0,n.getConfigObj)(),!1),(0,n.overrideConfig)(t,!1,!0),
x(b,l,a),(0,d.loadTrackingPropertiesMetadata)({clientSideFeatureMatchMetadata:[],trackingPropertiesMetadata:[]})):A&&A();p.logger.log("Applied configuration: \n"+JSON.stringify((0,n.getConfigObj)(),null,2))},void 0,void 0,(0,n.getConfig)("requestTimeoutCritical"))}},function(l,a,b){function n(a,b){(0,e.isIframe)()||(0,w.propagateDown)(q.IframeRequest.getMasterRequst(a,b),(0,q.getRegisteredIframes)())}function f(a){n(x.PRODUCT_MAPPER_V2_HIGHLIGHT_ALL,{featureRules:a})}function r(a){n(x.PRODUCT_MAPPER_V2_HIGHLIGHT_ALL_FOR_FEATURE,
{mappedElements:a})}function p(){n(x.PRODUCT_MAPPER_V2_REMOVE_ALL_HIGHLIGHTED)}function u(a){n(x.PRODUCT_MAPPER_V2_REMOVE_HIGHLIGHTED,{type:a})}function k(a,b,c){b=q.IframeRequest.getMasterRequst(x.PRODUCT_MAPPER_V2_RESOLVE_CLICK_PROPERTY,{property:b},c,a.iframeId);(0,w.postRequestDown)(b,a)}function m(a){var b=a.property,c=a.id;a.iframeList.forEach(function(a){A.resolveClickProperty(a,b,c);(0,q.incrementState)(c)});(0,q.execute)(c,200)}Object.defineProperty(a,"__esModule",{value:!0});a.resolveClickPropertyFromIframes=
void 0;var e=b(1),g=b(47),d=b(0),h=b(2),v=b(14),q=b(5),w=b(12),t=(l=b(133))&&l.__esModule?l:{"default":l},x=b(76),A=new function(){this.removeHighlighted=u;this.removeAllHighlighted=p;this.highlightAll=f;this.highlightAllForFeature=r;this.setMapperState=t["default"].setMapperStateForMaster;this.resolveClickProperty=k};a["default"]=A;a.resolveClickPropertyFromIframes=function(a){var b=a.property;return new Promise(function(a){if((0,d.isObjectEmpty)(b)||!(0,g.isClickPropertyType)(b.propertyType))return void a("");
var e=(0,q.getRegisteredIframes)(),f=v.UUIDGenerator.generateV4Id();(0,q.subscribe)(f,function(b){b=b.find(function(a){return""!==a.resolvedProperty&&(0,d.isNotNullOrUndefined)(a.resolvedProperty)});a(b?b.resolvedProperty:"")});try{(0,d.isNotEmptyArr)(e)?m({iframeList:e,property:b,id:f}):a("")}catch(k){h.logger.log("Error resolving click property from iframes",k)}})}},function(l,a,b){function n(a){null!==sessionStorage.getItem(a)&&localStorage.setItem(a,sessionStorage.getItem(a))}function f(a){null!==
localStorage.getItem(a)&&(sessionStorage.setItem(a,localStorage.getItem(a)),localStorage.removeItem(a))}Object.defineProperty(a,"__esModule",{value:!0});a.copySessionStorageToLocalStorage=n;a.copyLocalStorageToSessionStorage=f;a.copySessionStorageToLocalStorageGuideKeys=function(){r.forEach(n)};a.copyLocalStorageToSessionStorageGuideKeys=function(){r.forEach(f)};var r="apt.stepId apt.prevStepMap apt.guideId aptCurrentGuideUrl apt.localCache apt.engagementExecutionTracking".split(" ")},function(l,
a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=function(){function a(b,f){for(var e=0;e<f.length;e++){var g=f[e];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(b,g.key,g)}}return function(b,f,e){return f&&a(b.prototype,f),e&&a(b,e),b}}(),f=(l=b(69))&&l.__esModule?l:{"default":l},r=(l=b(48))&&l.__esModule?l:{"default":l},p=b(47);b=new (function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");
this.iframeTrackingFeatures=[]}return n(a,[{key:"setIframeTrackingFeatures",value:function(a){this.iframeTrackingFeatures=a}},{key:"resolvePageViewEventTrackingProperties",value:function(a){a=a.url;var b=f["default"].getFeaturesForUrl(a,"pageview"),b=(0,p.getUniqueTrackingPropertiesIds)(b);return r["default"].resolveTrackingPropertiesByIds(b,a)}},{key:"resolveClickEventTrackingProperties",value:function(a){var b=a.url;a=a.targetElement;var e=f["default"].getFeaturesForUrl(b,"click");a=(0,p.getMatchedClickFeatures)(e,
a);a=(0,p.getUniqueTrackingPropertiesIds)(a);return r["default"].resolveTrackingPropertiesByIds(a,b)}},{key:"resolveTrackingPropertiesForFeatureIds",value:function(a){var b=a.url;a=f["default"].getFeaturesMetadata(a.featureIds);a=(0,p.getUniqueTrackingPropertiesIds)(a);return r["default"].resolveTrackingPropertiesByIds(a,b)}},{key:"resolveIframeClickEventTrackingProperties",value:function(a){a=a.targetElement;a=(0,p.getMatchedClickFeatures)(this.iframeTrackingFeatures,a);a=(0,p.getUniqueTrackingPropertiesIds)(a);
return r["default"].resolveClickProperties(a)}}]),a}());a["default"]=b},function(l,a,b){function n(a,b){if(void 0===a||null===a)throw new TypeError("Cannot convert first argument to object");for(var n=Object(a),l=1;l<arguments.length;l++){var k=arguments[l];if(void 0!==k&&null!==k)for(var m=Object.keys(Object(k)),e=0,g=m.length;e<g;e++){var d=m[e],h=Object.getOwnPropertyDescriptor(k,d);void 0!==h&&h.enumerable&&(n[d]=k[d])}}return n}l.exports={assign:n,polyfill:function(){Object.assign||Object.defineProperty(Object,
"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}}},function(l,a,b){l.exports=function(a,b){for(var l=a.split("."),p=b.split("."),u=0;3>u;u++){var k=Number(l[u]),m=Number(p[u]);if(k>m)return 1;if(m>k)return-1;if(!isNaN(k)&&isNaN(m))return 1;if(isNaN(k)&&!isNaN(m))return-1}return 0}},function(l,a,b){(function(n){function f(){return a._=f=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],d;for(d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},
f.apply(this,arguments)}function l(a){return k(a)?[a]:u(a,"NodeList")?t(a):Array.isArray(a)?a:t(document.querySelectorAll(a))}function p(a,b,c){return Array.isArray(a)?(a=a[b],null==a?Array.isArray(c)?c[b]:c:a):a}function u(a,b){var c={}.toString.call(a);return 0===c.indexOf("[object")&&-1<c.indexOf(b+"]")}function k(a){return u(a,"Element")}function m(a){return u(a,"MouseEvent")}function e(a,b){return"function"==typeof a?a.apply(void 0,b):a}function g(a,b,c,d){a.filter(function(a){return a.name===
b})[0][c]=d}function d(){return document.createElement("div")}function h(a,b){a.forEach(function(a){a&&(a.style.transitionDuration=b+"ms")})}function v(a,b){a.forEach(function(a){a&&a.setAttribute("data-state",b)})}function q(a,b){if(0===b)return a;var c;return function(d){clearTimeout(c);c=setTimeout(function(){a(d)},b)}}function w(a,b){var c=f({},a);return b.forEach(function(a){delete c[a]}),c}function t(a){return[].slice.call(a)}function x(a,b){for(;a;){if(b(a))return a;a=a.parentElement}return null}
function A(a,b){return-1<a.indexOf(b)}function B(a,b){return void 0!==a?a:b}function y(a){return[].concat(a)}function c(a){return(a=y(a)[0])?a.ownerDocument||document:document}function E(a,b){-1===a.indexOf(b)&&a.push(b)}function z(a){return a.filter(function(b,c){return a.indexOf(b)===c})}function J(a,b,c){void 0===b&&(b=5);var d={top:0,right:0,bottom:0,left:0};return Object.keys(d).reduce(function(d,e){return d[e]="number"==typeof b?b:b[e],a===e&&(d[e]="number"==typeof b?b+c:b[a]+c),d},d)}function G(a){return"\n    "+
a+"() was called on a"+("destroy"===a?"n already-":" ")+"destroyed instance. This is a no-op but\n    indicates a potential memory leak.\n  "}function C(a){return a.replace(/[ \t]{2,}/g," ").replace(/^[ \t]*/gm,"").trim()}function O(a){return[C("\n  %ctippy.js\n\n  %c"+C(a)+"\n\n  %c This is a development-only message. It will be removed in production.\n  "),"color: #00C584; font-size: 1.3em; font-weight: bold;","line-height: 1.5","color: #a6a095;"]}function D(a,b){if(a){var c;(c=console).warn.apply(c,
O(b))}}function F(a,b){if(a){var c;(c=console).error.apply(c,O(b))}}function Q(a){var b=!a,c="[object Object]"===Object.prototype.toString.call(a)&&!a.addEventListener;F(b,["tippy() was passed","`"+String(a)+"`","as its targets (first) argument. Valid types are: String, Element, Element[], or NodeList."].join(" "));F(c,"tippy() was passed a plain object which is no longer supported as an argument. See: https://atomiks.github.io/tippyjs/misc/#custom-position")}function S(a){var b=(a.plugins||[]).reduce(function(b,
c){var d=c.name,e=c.defaultValue;return d&&(b[d]=void 0!==a[d]?a[d]:e),b},{});return f({},a,{},b)}function L(a,b){return(b?Object.keys(S(f({},ha,{plugins:b}))):oa).reduce(function(b,c){var d=(a.getAttribute("data-tippy-"+c)||"").trim();if(!d)return b;if("content"===c)b[c]=d;else try{b[c]=JSON.parse(d)}catch(e){b[c]=d}return b},{})}function T(a,b){var c=f({},b,{content:e(b.content,[a])},b.ignoreAttributes?{}:L(a,b.plugins));return c.interactive&&(c.aria=null),c}function H(a,b){void 0===a&&(a={});void 0===
b&&(b=[]);Object.keys(a).forEach(function(c){var d=a[c],e="popperOptions"===c&&null!==d&&"object"===(void 0===d?"undefined":ga(d))&&{}.hasOwnProperty.call(d,"placement"),f=w(ha,["animateFill","followCursor","inlinePositioning","sticky"]),g="a11y arrowType showOnInit size target touchHold".split(" ");(f=!{}.hasOwnProperty.call(f,c)&&!A(g,c))&&(f=0===b.filter(function(a){return a.name===c}).length);D("target"===c,"The `target` prop was removed in v5 and replaced with the delegate() addon in order to conserve bundle size. See: https://atomiks.github.io/tippyjs/addons/#event-delegation");
D("a11y"===c,"The `a11y` prop was removed in v5. Make sure the element you are giving a tippy to is natively focusable, such as \x3cbutton\x3e or \x3cinput\x3e, not \x3cdiv\x3e or \x3cspan\x3e.");D("showOnInit"===c,"The `showOnInit` prop was renamed to `showOnCreate` in v5.");D("arrowType"===c,'The `arrowType` prop was removed in v5 in favor of overloading the `arrow` prop. \n\n "round" string was replaced with importing the string from the package. \n\n * import {roundArrow} from \'tippy.js\'; (ESM version)\n * const {roundArrow} \x3d tippy; (IIFE CDN version) \n\n Before: {arrow: true, arrowType: "round"}\n After: {arrow: roundArrow}`');
D("touchHold"===c,'The `touchHold` prop was removed in v5 in favor of overloading the `touch` prop. \n\n Before: {touchHold: true}\n After: {touch: "hold"}');D("size"===c,"The `size` prop was removed in v5. Instead, use a theme that specifies CSS padding and font-size properties.");D("theme"===c&&"google"===d,'The included theme "google" was renamed to "material" in v5.');D(e,'Specifying placement in `popperOptions` is not supported. Use the base-level `placement` prop instead. \n\n Before: {popperOptions: {placement: "bottom"}}\n After: {placement: "bottom"}');
D(f,["`"+c+"`","is not a valid prop. You may have spelled it incorrectly, or if it's a plugin, forgot to pass it in an array as props.plugins. \n\n In v5, the following props were turned into plugins: \n\n * animateFill\n * followCursor\n * sticky \n\n All props: https://atomiks.github.io/tippyjs/all-props/\n Plugins: https://atomiks.github.io/tippyjs/plugins/"].join(" "))})}function U(){Pa.isTouch||(Pa.isTouch=!0,window.performance&&document.addEventListener("mousemove",K))}function K(){var a=performance.now();
20>a-Sa&&(Pa.isTouch=!1,document.removeEventListener("mousemove",K));Sa=a}function Y(){var a=document.activeElement;if(a&&a._tippy&&a._tippy.reference===a){var b=a._tippy;a.blur&&!b.state.isVisible&&a.blur()}}function P(a){document.body.classList[a&&ua&&Pa.isTouch?"add":"remove"](da)}function N(a){return a.split("-")[0]}function I(a,b){k(b.content)?(a.innerHTML="",a.appendChild(b.content)):"function"!=typeof b.content&&(a[b.allowHTML?"innerHTML":"textContent"]=b.content)}function R(a){return{tooltip:a.querySelector(Ya),
content:a.querySelector(Aa),arrow:a.querySelector($a)||a.querySelector(La)}}function X(a){var b=d();!0===a?b.className=ya:(b.className=Ka,k(a)?b.appendChild(a):b.innerHTML=a);return b}function ea(a,b){var c=d();c.className=W;c.style.position="absolute";c.style.top="0";c.style.left="0";var e=d();e.className=ta;e.id="tippy-"+a;e.setAttribute("data-state","hidden");e.setAttribute("tabindex","-1");Z(e,"add",b.theme);var f=d();f.className=sa;f.setAttribute("data-state","hidden");b.interactive&&e.setAttribute("data-interactive",
"");b.arrow&&(e.setAttribute("data-arrow",""),e.appendChild(X(b.arrow)));b.inertia&&e.setAttribute("data-inertia","");return I(f,b),e.appendChild(f),c.appendChild(e),ca(c,b,b),c}function ca(a,b,c){var d=R(a),e=d.tooltip,f=d.content,d=d.arrow;a.style.zIndex=""+c.zIndex;e.setAttribute("data-animation",c.animation);a=c.maxWidth;e.style.maxWidth="number"==typeof a?a+"px":a;c.role?e.setAttribute("role",c.role):e.removeAttribute("role");b.content!==c.content&&I(f,c);!b.arrow&&c.arrow?(e.appendChild(X(c.arrow)),
e.setAttribute("data-arrow","")):b.arrow&&!c.arrow?(e.removeChild(d),e.removeAttribute("data-arrow")):b.arrow!==c.arrow&&(e.removeChild(d),e.appendChild(X(c.arrow)));!b.interactive&&c.interactive?e.setAttribute("data-interactive",""):b.interactive&&!c.interactive&&e.removeAttribute("data-interactive");!b.inertia&&c.inertia?e.setAttribute("data-inertia",""):b.inertia&&!c.inertia&&e.removeAttribute("data-inertia");b.theme!==c.theme&&(Z(e,"remove",b.theme),Z(e,"add",c.theme))}function ba(a,b,c){a[b+
"EventListener"](aa&&void 0!==document.body.style.webkitTransition?"webkitTransitionEnd":"transitionend",c)}function Z(a,b,c){c.split(/\s+/).filter(Boolean).forEach(function(c){a.classList[b](c+"-theme")})}function la(a,b){var c=b.clientX,d=b.clientY;return a.every(function(a){var b=a.popperRect,e=a.tooltipRect;a=a.interactiveBorder;var f=d-Math.max(b.bottom,e.bottom)>a,g=Math.min(b.left,e.left)-c>a,h=c-Math.max(b.right,e.right)>a;return Math.min(b.top,e.top)-d>a||f||g||h})}function V(a,b){function d(){var a=
M.props.touch;return Array.isArray(a)?a:[a,0]}function k(a){return M.state.isMounted&&!M.state.isVisible||Pa.isTouch||ya&&"focus"===ya.type?0:p(M.props.delay,a?0:1,ha.delay)}function l(a,b,c){if(void 0===c&&(c=!0),ub.forEach(function(c){({}).hasOwnProperty.call(c,a)&&c[a].apply(c,b)}),c){var d;(d=M.props)[a].apply(d,b)}}function r(){var b=M.props.aria;if(b){var c="aria-"+b,d=Za.id;y(M.props.triggerTarget||a).forEach(function(a){var b=a.getAttribute(c);M.state.isVisible?a.setAttribute(c,b?b+" "+d:
d):(b=b&&b.replace(d,"").trim())?a.setAttribute(c,b):a.removeAttribute(c)})}}function u(){y(M.props.triggerTarget||a).forEach(function(b){M.props.interactive?b.setAttribute("aria-expanded",M.state.isVisible&&b===(Aa||a)?"true":"false"):b.removeAttribute("aria-expanded")})}function w(){Ca.body.removeEventListener("mouseleave",da);Ca.removeEventListener("mousemove",La);Ba=Ba.filter(function(a){return a!==La})}function C(b){M.props.interactive&&Da.contains(b.target)||(Aa||a).contains(b.target)&&(Pa.isTouch||
M.state.isVisible&&A(M.props.trigger,"click"))||!0===M.props.hideOnClick&&(Ka=!1,M.clearDelayTimeouts(),M.hide(),Ya=!0,setTimeout(function(){Ya=!1}),M.state.isMounted||F())}function F(){Ca.removeEventListener("mousedown",C,!0)}function O(a,b){Y(a,function(){!M.state.isVisible&&Da.parentNode&&Da.parentNode.contains(Da)&&b()})}function Q(a,b){Y(a,b)}function Y(a,b){function c(a){a.target===Za&&"visibility"===a.propertyName&&(ba(Za,"remove",c),b())}if(0===a)return b();ba(Za,"remove",wa);ba(Za,"add",
c);wa=c}function L(b,c,d){void 0===d&&(d=!1);y(M.props.triggerTarget||a).forEach(function(a){a.addEventListener(b,c,d);Wa.push({node:a,eventType:b,handler:c,options:d})})}function I(){"hold"===d()[0]&&(L("touchstart",K,qa),L("touchend",kb,qa));M.props.trigger.split(/\s+/).filter(Boolean).forEach(function(a){if("manual"!==a)switch(L(a,K),a){case "mouseenter":L("mouseleave",kb);break;case "focus":L(Ra?"focusout":"blur",U)}})}function V(){Wa.forEach(function(a){a.node.removeEventListener(a.eventType,
a.handler,a.options)});Wa=[]}function K(a){var b=!1;if(M.state.isEnabled&&!X(a)&&!Ya){if(ya=a,Aa=a.currentTarget,u(),!M.state.isVisible&&m(a)&&Ba.forEach(function(b){return b(a)}),"click"!==a.type||A(M.props.trigger,"mouseenter")&&!Ka||!1===M.props.hideOnClick||!M.state.isVisible){var c=d(),e=c[0],c=c[1];Pa.isTouch&&"hold"===e&&c?sa=setTimeout(function(){ga(a)},c):ga(a)}else b=!0;"click"===a.type&&(Ka=!b);b&&da(a)}}function qb(b){x(b.target,function(b){return b===a||b===Da})||la(t(Da.querySelectorAll(db)).concat(Da).map(function(a){var b=
a._tippy,c=b.popperChildren.tooltip,b=b.props.interactiveBorder;return{popperRect:a.getBoundingClientRect(),tooltipRect:c.getBoundingClientRect(),interactiveBorder:b}}),b)&&(w(),da(b))}function kb(a){if(!X(a))return M.props.interactive?(Ca.body.addEventListener("mouseleave",da),Ca.addEventListener("mousemove",La),void E(Ba,La)):void(A(M.props.trigger,"click")&&Ka||da(a))}function U(b){b.target===(Aa||a)&&(M.props.interactive&&b.relatedTarget&&Da.contains(b.relatedTarget)||da(b))}function X(a){var b=
"ontouchstart"in window;a=A(a.type,"touch");var c="hold"===d()[0];return b&&Pa.isTouch&&c&&!a||Pa.isTouch&&!c&&a}function W(){function b(a){var d=M.state.currentPlacement;M.state.currentPlacement=a.placement;M.props.flip&&!M.props.flipOnUpdate&&(a.flipped&&(M.popperInstance.options.placement=a.placement),g(M.popperInstance.modifiers,"flip","enabled",!1));Za.setAttribute("data-placement",a.placement);!1!==a.attributes["x-out-of-boundaries"]?Za.setAttribute("data-out-of-boundaries",""):Za.removeAttribute("data-out-of-boundaries");
var e=N(a.placement),f=A(["top","bottom"],e),e=A(["bottom","right"],e);Za.style.top="0";Za.style.left="0";Za.style[f?"top":"left"]=(e?1:-1)*c+"px";d&&d!==a.placement&&M.popperInstance.update()}var c,d=M.props.popperOptions,e=M.popperChildren.arrow,h=d&&d.modifiers&&d.modifiers.flip,k=d&&d.modifiers&&d.modifiers.preventOverflow,m=f({eventsEnabled:!1,placement:M.props.placement},d,{modifiers:f({},d&&d.modifiers,{tippyDistance:{enabled:!0,order:0,fn:function(a){var b=Ca,d=M.props.distance,e="string"==
typeof d&&A(d,"rem");c=(b=b.documentElement)&&e?parseFloat(getComputedStyle(b).fontSize||"16")*("number"==typeof d?d:parseFloat(d)):"number"==typeof d?d:parseFloat(d);e=N(a.placement);d=J(e,k&&k.padding,c);e=J(e,h&&h.padding,c);b=M.popperInstance.modifiers;return g(b,"preventOverflow","padding",d),g(b,"flip","padding",e),a}},preventOverflow:f({boundariesElement:M.props.boundary},k),flip:f({enabled:M.props.flip,behavior:M.props.flipBehavior},h),arrow:f({element:e,enabled:!!e},d&&d.modifiers&&d.modifiers.arrow),
offset:f({offset:M.props.offset},d&&d.modifiers&&d.modifiers.offset)}),onCreate:function(a){b(a);var c=d&&d.onCreate;a=[a];c&&c!==m.onCreate&&c.apply(void 0,a);Z()},onUpdate:function(a){b(a);var c=d&&d.onUpdate;a=[a];c&&c!==m.onUpdate&&c.apply(void 0,a);Z()}});M.popperInstance=new pa["default"](a,Da,m)}function Z(){0===$a?($a++,M.popperInstance.update()):oa&&1===$a&&($a++,Da.offsetHeight,oa())}function fa(){$a=0;var b,c=M.props.appendTo,d=Aa||a;b=M.props.interactive&&c===ha.appendTo||"parent"===c?
d.parentNode:e(c,[d]);b.contains(Da)||b.appendChild(Da);"production"!==n.env.NODE_ENV&&D(M.props.interactive&&c===ha.appendTo&&d.nextElementSibling!==Da,"Interactive tippy element may not be accessible via keyboard navigation because it is not directly after the reference element in the DOM source order. \n\n Using a wrapper \x3cdiv\x3e or \x3cspan\x3e tag around the reference element solves this by creating a new parentNode context. \n\n Specifying `appendTo: document.body` silences this warning, but it assumes you are using a focus management solution to handle keyboard navigation. \n\n See: https://atomiks.github.io/tippyjs/accessibility/#interactivity");
g(M.popperInstance.modifiers,"flip","enabled",M.props.flip);M.popperInstance.enableEventListeners();M.popperInstance.update()}function ga(a){M.clearDelayTimeouts();M.popperInstance||W();a&&l("onTrigger",[M,a]);Ca.addEventListener("mousedown",C,!0);(a=k(!0))?sa=setTimeout(function(){M.show()},a):M.show()}function da(a){if(M.clearDelayTimeouts(),l("onUntrigger",[M,a]),!M.state.isVisible)return void F();(a=k(!1))?ka=setTimeout(function(){M.state.isVisible&&M.hide()},a):ta=requestAnimationFrame(function(){M.hide()})}
var aa=T(a,f({},ha,{},S(b)));if(!aa.multiple&&a._tippy)return null;var sa,ka,ta,ya,oa,wa,Aa,ua=!1,Ka=!1,Ya=!1,$a=0,Wa=[],La=q(qb,aa.interactiveDebounce),Ca=c(aa.triggerTarget||a),Va=za++,Da=ea(Va,aa),Ta=R(Da),Sa=z(aa.plugins),Za=Ta.tooltip,sb=[Za,Ta.content],M={id:Va,reference:a,popper:Da,popperChildren:Ta,popperInstance:null,props:aa,state:{currentPlacement:null,isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:Sa,clearDelayTimeouts:function(){clearTimeout(sa);clearTimeout(ka);
cancelAnimationFrame(ta)},setProps:function(b){if("production"!==n.env.NODE_ENV&&D(M.state.isDestroyed,G("setProps")),!M.state.isDestroyed){"production"!==n.env.NODE_ENV&&(H(b,Sa),D(!!b.plugins&&(b.plugins.length!==Sa.length||Sa.some(function(a,c){return!b.plugins||!b.plugins[c]||a!==b.plugins[c]})),"Cannot update plugins"));l("onBeforeUpdate",[M,b]);V();var c=M.props,d=T(a,f({},M.props,{},b,{ignoreAttributes:!0}));if(d.ignoreAttributes=B(b.ignoreAttributes,c.ignoreAttributes),M.props=d,I(),c.interactiveDebounce!==
d.interactiveDebounce&&(w(),La=q(qb,d.interactiveDebounce)),ca(Da,c,d),M.popperChildren=R(Da),c.triggerTarget&&!d.triggerTarget?y(c.triggerTarget).forEach(function(a){a.removeAttribute("aria-expanded")}):d.triggerTarget&&a.removeAttribute("aria-expanded"),u(),M.popperInstance)na.some(function(a){return{}.hasOwnProperty.call(b,a)&&b[a]!==c[a]})?(d=M.popperInstance.reference,M.popperInstance.destroy(),W(),M.popperInstance.reference=d,M.state.isVisible&&M.popperInstance.enableEventListeners()):M.popperInstance.update();
l("onAfterUpdate",[M,b])}},setContent:function(a){M.setProps({content:a})},show:function(b){void 0===b&&(b=p(M.props.duration,0,ha.duration));"production"!==n.env.NODE_ENV&&D(M.state.isDestroyed,G("show"));var c=M.state.isDestroyed,d=!M.state.isEnabled,e=Pa.isTouch&&!M.props.touch;M.state.isVisible||c||d||e||(Aa||a).hasAttribute("disabled")||(M.popperInstance||W(),l("onShow",[M],!1),!1!==M.props.onShow(M)&&(Ca.addEventListener("mousedown",C,!0),Da.style.visibility="visible",M.state.isVisible=!0,M.state.isMounted||
h(sb.concat(Da),0),oa=function(){M.state.isVisible&&(h([Da],M.props.updateDuration),h(sb,b),v(sb,"visible"),r(),u(),E(va,M),P(!0),M.state.isMounted=!0,l("onMount",[M]),Q(b,function(){M.state.isShown=!0;l("onShown",[M])}))},fa()))},hide:function(a){void 0===a&&(a=p(M.props.duration,1,ha.duration));"production"!==n.env.NODE_ENV&&D(M.state.isDestroyed,G("hide"));var b=M.state.isDestroyed,c=!M.state.isEnabled&&!ua;!M.state.isVisible&&!ua||b||c||(l("onHide",[M],!1),(!1!==M.props.onHide(M)||ua)&&(F(),Da.style.visibility=
"hidden",M.state.isVisible=!1,M.state.isShown=!1,h(sb,a),v(sb,"hidden"),r(),u(),O(a,function(){M.popperInstance.disableEventListeners();M.popperInstance.options.placement=M.props.placement;Da.parentNode.removeChild(Da);va=va.filter(function(a){return a!==M});0===va.length&&P(!1);M.state.isMounted=!1;l("onHidden",[M])})))},enable:function(){M.state.isEnabled=!0},disable:function(){M.hide();M.state.isEnabled=!1},destroy:function(){"production"!==n.env.NODE_ENV&&D(M.state.isDestroyed,G("destroy"));M.state.isDestroyed||
(ua=!0,M.clearDelayTimeouts(),M.hide(0),V(),delete a._tippy,M.popperInstance&&M.popperInstance.destroy(),ua=!1,M.state.isDestroyed=!0,l("onDestroy",[M]))}};a._tippy=M;Da._tippy=M;var ub=Sa.map(function(a){return a.fn(M)});return I(),u(),aa.lazy||W(),l("onCreate",[M]),aa.showOnCreate&&ga(),Da.addEventListener("mouseenter",function(){M.props.interactive&&M.state.isVisible&&M.clearDelayTimeouts()}),Da.addEventListener("mouseleave",function(){M.props.interactive&&A(M.props.trigger,"mouseenter")&&Ca.addEventListener("mousemove",
La)}),M}function fa(a,b,c){void 0===b&&(b={});void 0===c&&(c=[]);c=ha.plugins.concat(b.plugins||c);"production"!==n.env.NODE_ENV&&(Q(a),H(b,c));document.addEventListener("touchstart",U,f({},qa,{capture:!0}));window.addEventListener("blur",Y);var d=f({},b,{plugins:c});b=l(a);if("production"!==n.env.NODE_ENV){c=k(d.content);var e=1<b.length;D(c&&e,"tippy() was passed an Element as the `content` prop, but more than one tippy instance was created by this invocation. This means the content element will only be appended to the last tippy instance. \n\n Instead, pass the .innerHTML of the element, or use a function that returns a cloned version of the element instead. \n\n 1) content: element.innerHTML\n 2) content: () \x3d\x3e element.cloneNode(true)")}b=
b.reduce(function(a,b){var c=b&&V(b,d);return c&&a.push(c),a},[]);return k(a)?b[0]:b}Object.defineProperty(a,"__esModule",{value:!0});a.w=a.u=a.t=a.s=a.r=a.o=a.n=a.m=a.l=a.k=a.j=a.i=a.h=a.g=a.f=a.e=a.d=a.c=a.b=a.a=a._=a.R=a.B=void 0;var ga="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},ka=b(64),pa=ka&&ka.__esModule?ka:{"default":ka},ha=f({allowHTML:!0,
animation:"fade",appendTo:function(){return document.body},aria:"describedby",arrow:!0,boundary:"scrollParent",content:"",delay:0,distance:10,duration:[300,250],flip:!0,flipBehavior:"flip",flipOnUpdate:!1,hideOnClick:!0,ignoreAttributes:!1,inertia:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,lazy:!0,maxWidth:350,multiple:!1,offset:0,onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},
onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},placement:"top",plugins:[],popperOptions:{},role:"tooltip",showOnCreate:!1,theme:"",touch:!0,trigger:"mouseenter focus",triggerTarget:null,updateDuration:0,zIndex:9999},{animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1}),oa=Object.keys(ha),na="arrow boundary distance flip flipBehavior flipOnUpdate offset placement popperOptions".split(" "),wa=function(a){"production"!==n.env.NODE_ENV&&H(a,[]);Object.keys(a).forEach(function(b){ha[b]=
a[b]})},qa={passive:!0},da="tippy-iOS",W="tippy-popper",ta="tippy-tooltip",sa="tippy-content",ya="tippy-arrow",Ka="tippy-svg-arrow",db="."+W,Ya="."+ta,Aa="."+sa,$a="."+ya,La="."+Ka,Pa={isTouch:!1},Sa=0,Ta=(ka="undefined"!=typeof window&&"undefined"!=typeof document)?navigator.userAgent:"",Ra=/MSIE |Trident\//.test(Ta),aa=/UCBrowser\//.test(Ta),ua=ka&&/iPhone|iPad|iPod/.test(navigator.platform),za=1,Ba=[],va=[];fa.version="5.1.3";fa.defaultProps=ha;fa.setDefaultProps=wa;fa.currentInput=Pa;a.B="tippy-backdrop";
a.R='\x3csvg viewBox\x3d"0 0 18 7" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z"/\x3e\x3c/svg\x3e';a._=f;a.a=d;a.b=aa;a.c=m;a.d=ha;a.e=F;a.f=Pa;a.g=c;a.h=x;a.i=A;a.j=N;a.k=t;a.l=function(a){a=void 0===a?{}:a;var b=a.exclude,c=a.duration;va.forEach(function(a){var d=!1;b&&(d=b&&b._tippy&&b._tippy.reference===b?a.reference===b:a.popper===b.popper);d||a.hide(c)})};a.m=function(a){"production"!==
n.env.NODE_ENV&&D(!0,"createTippyWithPlugins([...]) has been deprecated. \n\n Use tippy.setDefaultProps({plugins: [...]}) instead.");var b=function(b,c,d){return void 0===c&&(c={}),void 0===d&&(d=[]),d=c.plugins||d,fa(b,f({},c,{plugins:[].concat(a,d)}))};return b.version="5.1.3",b.defaultProps=ha,b.setDefaultProps=wa,b.currentInput=Pa,b};a.n=y;a.o=ka;a.r=w;a.s=v;a.t=fa;a.u=B;a.w=D}).call(a,b(79))},function(l,a,b){var n=[];for(a=0;256>a;++a)n[a]=(a+256).toString(16).substr(1);l.exports=function(a,
b){var l=b||0;return[n[a[l++]],n[a[l++]],n[a[l++]],n[a[l++]],"-",n[a[l++]],n[a[l++]],"-",n[a[l++]],n[a[l++]],"-",n[a[l++]],n[a[l++]],"-",n[a[l++]],n[a[l++]],n[a[l++]],n[a[l++]],n[a[l++]],n[a[l++]]].join("")}},function(l,a,b){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var f=new Uint8Array(16);l.exports=function(){return n(f),
f}}else{var r=Array(16);l.exports=function(){for(var a,b=0;16>b;b++)0==(3&b)&&(a=4294967296*Math.random()),r[b]=a>>>((3&b)<<3)&255;return r}}},function(l,a,b){var n=b(126),f=b(125);l.exports=function(a,b,l){l=b&&l||0;"string"==typeof a&&(b="binary"===a?Array(16):null,a=null);a=a||{};a=a.random||(a.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,b)for(var k=0;16>k;++k)b[l+k]=a[k];return b||f(a)}},function(l,a,b){var n,f,r,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};!function(b){"object"===p(a)&&void 0!==l?l.exports=b():(f=[],n=b,void 0!==(r="function"==typeof n?n.apply(a,f):n)&&(l.exports=r))}(function(){return function(){function a(b,f,e){function g(h,l){if(!f[h]){if(!b[h]){if(d)return d(h,!0);var n=Error("Cannot find module '"+h+"'");throw n.code="MODULE_NOT_FOUND",n;}n=f[h]={exports:{}};b[h][0].call(n.exports,function(a){return g(b[h][1][a]||a)},
n,n.exports,a,b,f,e)}return f[h].exports}for(var d=!1,h=0;h<e.length;h++)g(e[h]);return g}return a}()({1:[function(a,b,f){function e(a){if(!a||"object"!=(void 0===a?"undefined":p(a)))return a;if("[object Date]"==Object.prototype.toString.call(a))return new Date(a.getTime());if(Array.isArray(a))return a.map(e);var b={};return Object.keys(a).forEach(function(f){b[f]=e(a[f])}),b}b.exports=e},{}],2:[function(a,b,f){b.exports=function(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||
(b=document);var e=/<([\w:]+)/.exec(a);if(!e)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");e=e[1];if("body"==e)return e=b.createElement("html"),e.innerHTML=a,e.removeChild(e.lastChild);var e=g[e]||g._default,f=e[0],k=e[1],m=e[2],e=b.createElement("div");for(e.innerHTML=k+a+m;f--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(f=b.createDocumentFragment();e.firstChild;)f.appendChild(e.removeChild(e.firstChild));return f};var e;a=!1;"undefined"!=typeof document&&
(e=document.createElement("div"),e.innerHTML='  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d"/a"\x3ea\x3c/a\x3e\x3cinput type\x3d"checkbox"/\x3e',a=!e.getElementsByTagName("link").length,e=void 0);var g={legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],_default:a?[1,"X\x3cdiv\x3e","\x3c/div\x3e"]:[0,"",""]};g.td=g.th=[3,
"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"];g.option=g.optgroup=[1,'\x3cselect multiple\x3d"multiple"\x3e',"\x3c/select\x3e"];g.thead=g.tbody=g.colgroup=g.caption=g.tfoot=[1,"\x3ctable\x3e","\x3c/table\x3e"];g.polyline=g.ellipse=g.polygon=g.circle=g.text=g.line=g.path=g.rect=g.g=[1,'\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" version\x3d"1.1"\x3e',"\x3c/svg\x3e"]},{}],3:[function(a,b,f){function e(a,b,d){if(0===b.length)return d;var f=b.shift(),g=f.match(/^\[(.+?)\]$/);
if("[]"===f)return a=a||[],Array.isArray(a)?a.push(e(null,b,d)):(a._values=a._values||[],a._values.push(e(null,b,d))),a;g?(f=g[1],g=+f,isNaN(g)?(a=a||{},a[f]=e(a[f],b,d)):(a=a||[],a[g]=e(a[g],b,d))):a[f]=e(a[f],b,d);return a}function g(a,b,d){if(b.match(q)){var f=[],g=new RegExp(q),h=/^([^\[\]]*)/.exec(b);for(h[1]&&f.push(h[1]);null!==(h=g.exec(b));)f.push(h[1]);e(a,f,d)}else(f=a[b])?(Array.isArray(f)||(a[b]=[f]),a[b].push(d)):a[b]=d;return a}function d(a,b,d){return d=d.replace(/(\r)?\n/g,"\r\n"),
d=encodeURIComponent(d),d=d.replace(/%20/g,"+"),a+(a?"\x26":"")+encodeURIComponent(b)+"\x3d"+d}var h=/^(?:submit|button|image|reset|file)$/i,l=/^(?:input|select|textarea|keygen)/i,q=/(\[[^\[\]]*\])/g;b.exports=function(a,b){"object"!=(void 0===b?"undefined":p(b))?b={hash:!!b}:void 0===b.hash&&(b.hash=!0);for(var e=b.hash?{}:"",f=b.serializer||(b.hash?g:d),k=a&&a.elements?a.elements:[],m=Object.create(null),c=0;c<k.length;++c){var q=k[c];if((b.disabled||!q.disabled)&&q.name&&l.test(q.nodeName)&&!h.test(q.type)){var n=
q.name,r=q.value;if("checkbox"!==q.type&&"radio"!==q.type||q.checked||(r=void 0),b.empty){if("checkbox"!==q.type||q.checked||(r=""),"radio"===q.type&&(m[q.name]||q.checked?q.checked&&(m[q.name]=!0):m[q.name]=!1),!r&&"radio"==q.type)continue}else if(!r)continue;if("select-multiple"!==q.type)e=f(e,n,r);else{for(var q=q.options,r=!1,u=0;u<q.length;++u){var C=q[u],O=b.empty&&!C.value,O=C.value||O;C.selected&&O&&(r=!0,e=b.hash&&"[]"!==n.slice(n.length-2)?f(e,n+"[]",C.value):f(e,n,C.value))}!r&&b.empty&&
(e=f(e,n,""))}}}if(b.empty)for(n in m)m[n]||(e=f(e,n,""));return e}},{}],4:[function(a,b,f){var e=a("domify"),g=a("form-serialize"),d=a("deep-clone-simple"),h=function(a){var b=document.createElement("form");b.classList.add("vex-dialog-form");var d=document.createElement("div");d.classList.add("vex-dialog-message");d.appendChild(a.message instanceof window.Node?a.message:e(a.message));var f=document.createElement("div");return f.classList.add("vex-dialog-input"),f.appendChild(a.input instanceof window.Node?
a.input:e(a.input)),b.appendChild(d),b.appendChild(f),b},l=function(a){var b=document.createElement("div");b.classList.add("vex-dialog-buttons");for(var d=0;d<a.length;d++){var e=a[d],f=document.createElement("button");f.type=e.type;f.textContent=e.text;f.className=e.className;f.classList.add("vex-dialog-button");0===d?f.classList.add("vex-first"):d===a.length-1&&f.classList.add("vex-last");(function(a){f.addEventListener("click",function(b){a.click&&a.click.call(this,b)}.bind(this))}).call(this,
e);b.appendChild(f)}return b};b.exports=function(a){var b={name:"dialog",open:function(b){var e=Object.assign({},d(this.defaultOptions),b);e.unsafeMessage&&!e.message?e.message=e.unsafeMessage:e.message&&(e.message=a._escapeHtml(e.message));var f=e.unsafeContent=h(e);b=a.open(e);""!==e.yesText&&(e.buttons[0].text=e.yesText);""!==e.noText&&(e.buttons[1].text=e.noText);var g=e.beforeClose&&e.beforeClose.bind(b);(b.options.beforeClose=function(){var a=!g||g();return a&&e.callback(this.value||!1),a}.bind(b),
f.appendChild(l.call(b,e.buttons)),b.form=f,f.addEventListener("submit",e.onSubmit.bind(b)),e.focusFirstInput)&&(f=b.contentEl.querySelector("button, input, select, textarea"))&&f.focus();return b},alert:function(a){return"string"==typeof a&&(a={message:a}),a=Object.assign({},d(this.defaultOptions),d(this.defaultAlertOptions),a),this.open(a)},confirm:function(a){if("object"!==(void 0===a?"undefined":p(a))||"function"!=typeof a.callback)throw Error("dialog.confirm(options) requires options.callback.");
return a=Object.assign({},d(this.defaultOptions),d(this.defaultConfirmOptions),a),this.open(a)},prompt:function(b){if("object"!==(void 0===b?"undefined":p(b))||"function"!=typeof b.callback)throw Error("dialog.prompt(options) requires options.callback.");var e=Object.assign({},d(this.defaultOptions),d(this.defaultPromptOptions)),f={unsafeMessage:'\x3clabel for\x3d"vex"\x3e'+a._escapeHtml(b.label||e.label)+"\x3c/label\x3e",input:'\x3cinput name\x3d"vex" type\x3d"text" class\x3d"vex-dialog-prompt-input" placeholder\x3d"'+
a._escapeHtml(b.placeholder||e.placeholder)+'" value\x3d"'+a._escapeHtml(b.value||e.value)+'" /\x3e'};b=Object.assign(e,f,b);var g=b.callback;return b.callback=function(a){if("object"===(void 0===a?"undefined":p(a))){var b=Object.keys(a);a=b.length?a[b[0]]:""}g(a)},this.open(b)}};return b.buttons={YES:{text:"OK",type:"submit",className:"vex-dialog-button-primary",click:function(){this.value=!0}},NO:{text:"Cancel",type:"button",className:"vex-dialog-button-secondary",click:function(){this.value=!1;
this.close()}}},b.defaultOptions={callback:function(){},afterOpen:function(){},message:"",input:"",yesText:"",noText:"",buttons:[b.buttons.YES,b.buttons.NO],showCloseButton:!1,onSubmit:function(a){return a.preventDefault(),this.options.input&&(this.value=g(this.form,{hash:!0})),this.close()},focusFirstInput:!0},b.defaultAlertOptions={buttons:[b.buttons.YES]},b.defaultPromptOptions={label:"Prompt:",placeholder:"",value:""},b.defaultConfirmOptions={},b}},{"deep-clone-simple":1,domify:2,"form-serialize":3}]},
{},[4])(4)})},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a,b,c){function d(a){a=(0,t.getIframeData)(a);g["default"].removeBotFromIframe(a)}function f(b,c){var e=void 0;(0,t.getRegisteredIframes)().forEach(function(f){g["default"].checkMappedElementIsVisible(f,b,function(b){b=p(b,1)[0];var f=b.iframeId;b.isVisible&&!e&&(e=f,b=q["default"].getIframeId(),b!==v.TOP_WINDOW_ID?d(b):a(),q["default"].setIframeId(""),g["default"].sendBotConfigToIframe((0,t.getIframeData)(e),
c,!0))})})}function l(){e.internalEventListener.removeListener("WIDGET_LOADED",l);c.open()}e.internalEventListener.addListener(m.IFRAME_TO_TOP_EVENTS.BOT_FOUND,function(b){!q["default"].getIframeId()&&b?(q["default"].setIframeId(b),g["default"].sendBotFound(b),b!==v.TOP_WINDOW_ID&&a()):q["default"].getIframeId()!==b&&(b!==v.TOP_WINDOW_ID?d(b):a())});e.internalEventListener.addListener(m.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED,function(a){q["default"].getIframeId()===a&&(q["default"].setIframeId(""),b(q["default"].getBotConfig()))});
e.internalEventListener.addListener(m.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE,function(a){if(q["default"].setBotConfig(a),0<(0,t.getRegisteredIframes)().length){var b=q["default"].getIframeId();b&&b!==v.TOP_WINDOW_ID&&(b=(0,t.getIframeData)(b),g["default"].sendBotConfigToIframe(b,a,!1))}});e.internalEventListener.addListener("BOT_NOT_FOUND",function(){if(0<(0,t.getRegisteredIframes)().length){var a=q["default"].getBotConfig(),b=q["default"].getIframeId();b?b===v.TOP_WINDOW_ID&&(q["default"].setIframeId(""),
g["default"].sendBotConfig(a,!0)):g["default"].sendBotConfig(a,!0)}});e.internalEventListener.addListener(m.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT,function(a,b,d,e){c.fetchEntriesById(a,u.eventTrackData.data[u.productIdParameter],u.eventTrackData.data[u.aptrinsicIdParam],d,e,b)});e.internalEventListener.addListener(m.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE,A.trackToggleWidget);e.internalEventListener.addListener("IFRAME_REGISTERED",(0,h.debounce)(function(a){try{var e=q["default"].getIframeId(),m=q["default"].getBotConfig();
if(m){var l=(0,E.getElementSelector)(m);l.cssSelector&&g["default"].addElementClickListener(a,l.cssSelector);e||!(0,k.getConfig)("framesetMode")&&!(0,h.isElementVisible)(a.elementData)?e===v.TOP_WINDOW_ID?(0,B.findInAll)(l,null,function(a){a&&((0,h.isElementVisible)(a.element,!0)||(c.close(),f(l,m)))}):a.iframeId!==e&&g["default"].checkMappedElementIsVisible((0,t.getIframeData)(e),l,function(a){p(a,1)[0].isVisible||(0,B.findInAll)(l,null,function(a){a&&((0,h.isElementVisible)(a.element,!0)?(d(e),
b(q["default"].getBotConfig())):f(l,m))})}):g["default"].sendBotConfigToIframe(a,m,!0)}}catch(n){w.logger.log("Embedded bot onIframeRegistered "+n)}},0));e.internalEventListener.addListener(m.BOT_IFRAME_INTERNAL_EVENTS.BOT_EMPTY_CONFIG,function(){q["default"].setIframeId("");g["default"].removeWidgetFromAllIframes()});e.internalEventListener.addListener(m.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,function(c){var d=q["default"].getIframeId();if(!d||d&&d!==c)c===v.TOP_WINDOW_ID?(c=(0,t.getIframeData)(q["default"].getIframeId()),
(0,k.getConfig)("framesetMode")||(0,h.isElementVisible)(c.domElement)||(q["default"].setIframeId(""),e.internalEventListener.addListener("WIDGET_LOADED",l),g["default"].removeWidgetFromAllIframes(),b(q["default"].getBotConfig()))):(q["default"].setIframeId(""),a(),c=(0,t.getIframeData)(c),g["default"].sendBotConfigToIframe(c,q["default"].getBotConfig(),!0,!0))});e.internalEventListener.addListener(m.BOT_INTERNAL_EVENTS.BOT_CLICK_OUTSIDE,function(){c.close(!0)})}function r(a,b,f){function g(){f.open()}
var k=null;e.internalEventListener.addListener(m.TOP_TO_IFRAME_EVENTS.REMOVE_BOT,a);e.internalEventListener.addListener(m.BOT_IFRAME_INTERNAL_EVENTS.INIT_WIDGET_IN_IFRAME,function(a,c,d){d&&(e.internalEventListener.removeListener("WIDGET_LOADED",g),e.internalEventListener.addListener("WIDGET_LOADED",g,null,!1,!0));b(a,c)});e.internalEventListener.addListener(m.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT,f.postToWidget);e.internalEventListener.addListener(m.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN,f.setIsOpen);
e.internalEventListener.addListener(m.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE,function(a,b){var c=!1,e=(0,y.findInWindow)(a.cssSelector,document);e&&(c=(0,h.isElementVisible)(e,!0));d["default"].checkMappedElementIsVisibleResponse(b,c)});e.internalEventListener.addListener(m.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,d["default"].postClickElement);e.internalEventListener.addListener(m.BOT_INTERNAL_EVENTS.BOT_CLICK_OUTSIDE,function(){f.close(!0)});e.internalEventListener.addListener(m.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER,
function(a){try{k=function(b){var d=(0,c.findSingleElementInShadowDom)(a,document);return d&&(b.target===d||d.contains(b.target))&&(b.preventDefault(),b.stopImmediatePropagation(),e.internalEventListener.dispatchEvent(m.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,(0,x.getIframeId)())),!1},(0,h.removeEventListener)(document,"click",k,!1),(0,h.addEventListener)(document,"click",k,!1)}catch(b){w.logger.log("Embedded bot addElementClickListener "+b)}})}Object.defineProperty(a,"__esModule",{value:!0});var p=
function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(k){e=!0,f=k}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a["default"]=function(a,b,c){try{(0,k.isIframe)()?(r(a,b,c),(0,h.addEventListener)(window,"unload",function(){d["default"].postIframeClosed()})):
(f(a,b,c),c&&c.handleIncomingBotEvents())}catch(e){w.logger.logInternalError(Error("handlingEmbeddedBotIframeRequests - "+e))}};var u=b(4),k=b(1),m=b(24),e=b(11);l=b(57);var g=n(l);l=b(56);var d=n(l),h=b(0),v=b(55),q=n(v),w=b(2),t=b(5),x=b(12),A=b(97),B=b(20),y=b(7),c=b(18),E=b(35)},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.shouldInjectAccountId=function(a,b){return(0,n.isObject)(a)&&(0,n.isObject)(b)&&b.hasOwnProperty("id")&&b.id};var n=b(0)},function(l,a,b){Object.defineProperty(a,
"__esModule",{value:!0});a["default"]=function(a){var b=a.content;switch(b.type){case p.TOP_TO_IFRAME_EVENTS.BOT_RESPONSE:u.internalEventListener.dispatchEvent(p.BOT_IFRAME_INTERNAL_EVENTS.INIT_WIDGET_IN_IFRAME,b.botConfig,b.isInitial,b.shouldOpen);break;case p.TOP_TO_IFRAME_EVENTS.BOT_FOUND:a=b.iframeId;(0,r.getIframeId)()!==a&&u.internalEventListener.dispatchEvent(p.TOP_TO_IFRAME_EVENTS.REMOVE_BOT);break;case p.TOP_TO_IFRAME_EVENTS.GET_APTRINSIC_ID_RESPONSE:case p.TOP_TO_IFRAME_EVENTS.GET_BOT_CONTENT_RESPONSE:(0,
f.decrementState)(a.aptrinsicRequestId,b);break;case p.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN:u.internalEventListener.dispatchEvent(p.TOP_TO_IFRAME_EVENTS.SET_BOT_IS_OPEN,b.isOpen);break;case p.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT:u.internalEventListener.dispatchEvent(p.TOP_TO_IFRAME_EVENTS.POST_BOT_EVENT,b.data);break;case p.TOP_TO_IFRAME_EVENTS.REMOVE_BOT:u.internalEventListener.dispatchEvent(p.TOP_TO_IFRAME_EVENTS.REMOVE_BOT);break;case p.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE:u.internalEventListener.dispatchEvent(p.TOP_TO_IFRAME_EVENTS.IS_ELEMENT_VISIBLE,
b.cssSelector,a.aptrinsicRequestId);break;case p.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER:u.internalEventListener.dispatchEvent(p.TOP_TO_IFRAME_EVENTS.ADD_ELEMENT_CLICK_LISTENER,b.cssSelector);break;default:n.logger.logInternalError(Error("child iframe script got unsupported bot event from top window, data: "+JSON.stringify(a)))}};var n=b(2),f=b(5),r=b(12),p=b(24),u=b(11)},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a["default"]=function(a){var b=a.content;switch(b.type){case f.IFRAME_TO_TOP_EVENTS.BOT_FOUND:r.internalEventListener.dispatchEvent(f.IFRAME_TO_TOP_EVENTS.BOT_FOUND,
a.aptrinsicIframeId);break;case f.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED:r.internalEventListener.dispatchEvent(f.IFRAME_TO_TOP_EVENTS.IFRAME_CLOSED,a.aptrinsicIframeId);break;case f.IFRAME_TO_TOP_EVENTS.POST_BOT_EVENT:r.internalEventListener.dispatchEvent(f.IFRAME_TO_TOP_EVENTS.POST_BOT_EVENT,a.aptrinsicIframeId);break;case f.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE:r.internalEventListener.dispatchEvent(f.IFRAME_TO_TOP_EVENTS.TRACK_BOT_TOGGLE,b.botId,b.isOpen);break;case f.IFRAME_TO_TOP_EVENTS.IS_ELEMENT_VISIBLE_RESPONSE:(0,
n.decrementState)(a.aptrinsicRequestId,b);break;case f.IFRAME_TO_TOP_EVENTS.GET_APTRINSIC_ID:var g=k.eventTrackData.data[k.aptrinsicIdParam],b=(0,n.getIframeData)(a.aptrinsicIframeId);p["default"].getAptrinsicIdResponse(b,a.aptrinsicRequestId,g);break;case f.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK:r.internalEventListener.dispatchEvent(f.IFRAME_TO_TOP_EVENTS.BOT_ELEMENT_CLICK,a.aptrinsicIframeId);break;case f.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT:var g=b.botId,b=b.isBotV2,d=(0,n.getIframeData)(a.aptrinsicIframeId);
r.internalEventListener.dispatchEvent(f.IFRAME_TO_TOP_EVENTS.GET_BOT_CONTENT,g,b,function(b){p["default"].getBotContentResponse(d,a.aptrinsicRequestId,b,null)},function(b){p["default"].getBotContentResponse(d,a.aptrinsicRequestId,null,b)});break;default:u.logger.logInternalError(Error("master script got unsupported bot event from top window, data: "+JSON.stringify(a)))}};var n=b(5),f=b(24),r=b(11),p=(l=b(57))&&l.__esModule?l:{"default":l},u=b(2),k=b(4)},function(l,a,b){Object.defineProperty(a,"__esModule",
{value:!0});var n=b(5),f=b(12),r=b(1),p=b(75),u=b(113);a["default"]=new function(){this.getMapperStateMaster=function(a){(0,u.sendMapperStateResponseToIframes)((0,n.getIframeData)(a.aptrinsicIframeId),a.aptrinsicRequestId)};this.setMapperStateForMaster=function(a){(0,r.isIframe)()||(a=n.IframeRequest.getMasterRequst(p.MAPPER_NAMESPACE,{type:p.MASTER_TO_IFRAME_MESSAGES.SET_MAPPER_STATE,isMapperEnabled:a}),(0,f.propagateDown)(a,(0,n.getRegisteredIframes)()))}}},function(l,a,b){function n(a){a=decodeURIComponent(a);
if(-1<a.indexOf("?redirect\x3d")){var b=document.createElement("a");return b.href=a.substring(10),b.search}return a}function f(){var a=sessionStorage.getItem(y)||m.LocalStorageCookie.getCookie(y)||e.NativeCookie.getCookie(y,!0);return!!a&&a.split("\x26")||[]}function r(a){var b=void 0,e={},m=void 0,l=void 0,r=void 0,y={},L=a.location.hash;a=a.location.search;a=n(a);var T=(0,u.isBlank)(a)?-1:a.indexOf(g),H=(0,u.isBlank)(L)?-1:L.indexOf(g),U=-1,K=void 0;if(-1<T?(U=T,K="queryParam"):-1<H&&(U=H,K="hash"),
-1<U){var b=K,L=(T="hash"===b)?L:a,Y=[];a=L.indexOf("?");Y=T&&-1<a?L.substring(a+1).split("\x26"):L.substring(1).split("\x26");Y.forEach(function(a,b){var f=a.split("\x3d"),n=p(f,2),f=n[0],n=n[1];switch(e[f]=n,f){case g:m=n;break;case h:l=n;break;case B:r=n;break;case v:case w:case t:case q:case x:case A:case d:case z:case c:case E:y[f]=n;break;case J:n=Y[b].substring(J.length+1);try{y[f]=atob(n)}catch(u){k.logger.log("The parameter aptOnExitRedirectURL is expected to be in Base64 format, but got "+
n)}break;default:k.logger.log("Unknown query param: "+f)}})}else L=f(),(0,u.isNotEmptyArr)(L)&&1<L.length&&(a=p(L,2),m=a[0],l=a[1],y=JSON.parse(L[2]));return{token:m,type:l,additionalDetails:y,queryParamsHash:e,productKey:r,tokenUrlPosition:b}}Object.defineProperty(a,"__esModule",{value:!0});a.exitUrlParam=a.SELECTED_FEATURE_PARAM=a.isChildSubscription=a.isParentSubscription=a.tokenCookieName=a.productKeyParamName=a.knowledgeCenterParamName=a.previewParamName=a.engagementId=a.contentGroupIdParamName=
a.contentIdParamName=a.guideIdParamName=a.editorTypeParamName=a.languageParamName=a.tokenParamName=void 0;var p=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(k){e=!0,f=k}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");
}}();a.getAptTokenCookieValues=f;a.processUrlOnInit=r;var u=b(15),k=b(2),m=b(71),e=b(72),g=a.tokenParamName="aptToken",d=a.languageParamName="aptLang",h=a.editorTypeParamName="aptEditor",v=a.guideIdParamName="guideId",q=a.contentIdParamName="contentId",w=a.contentGroupIdParamName="groupId",t=a.engagementId="engagementId",x=a.previewParamName="aptPreview",A=a.knowledgeCenterParamName="kcId",B=a.productKeyParamName="aptProductKey",y=a.tokenCookieName="apt.token",c=a.isParentSubscription="isParentSubscription",
E=a.isChildSubscription="isChildSubscription",z=a.SELECTED_FEATURE_PARAM="selectedFeature",J=a.exitUrlParam="aptOnExitRedirectURL";a["default"]=r},,,,,function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a["default"]=function(a,b,l){var q={};Object.assign(q,n.eventTrackData[m.cacheGetAll]());(0,u.addCacheBuster)(q);var w=(0,e.getGlobalContext)();w&&Object.assign(q,{gcx:JSON.stringify(w)});Object.assign(q,(0,g.getWebContext)());q.at=b||"a";b=f.ondemandEndpoint+"/"+n.eventTrackData.data[n.productIdParameter]+
"/"+a+"?"+(0,u.convert2Parameters)((0,u.addParameters)(q,[]));try{p.AjaxUtil.getData(b,function(a){l(a);k.EngagementDrawer.draw([a])})}catch(t){r.logger.logInternalError("Error during getting on demand engagement id "+a)}};var n=b(4),f=b(1),r=b(2),p=b(13),u=b(0),k=b(52),m=b(8),e=b(23),g=b(19)},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(a,"__esModule",{value:!0});var f=b(0),r=b(2),p=b(30),u=b(13),k=b(4),m=b(8);l=b(16);var e=n(l);l=b(38);l=n(l);var g=
b(7),d=b(101),h=n(d),v=b(27),q=b(1),w=b(11),t=b(17),x=b(6),A=b(21),B=b(23),y=b(19),c=b(9),E=b(37);E.defaultOptions.className="vex-theme-os";var z=b(173),J=b(184),G=b(185),C=b(186),O=b(187),D=b(188),F=b(189),Q=b(190),S=b(191),L=b(174),T=b(175),H=b(176),U=b(177),K=b(178),Y=b(179),P=b(180),N=b(181),I=b(182),R=b(183),X=b(192),ea=b(196),ca=b(197),ba=b(198),Z=b(199),la=b(200),V=b(201),fa=b(202),ga=b(203),ka=b(193),pa=b(194),ha=b(195),oa=new l["default"],na=void 0;a["default"]=function(){function a(b,c){if(!e["default"].isEditorMode()){var d=
q.trackMultiStepEndpoint,g=[];if(!0!==h["default"].wasCompletedTracked(b.executionId)){2===c&&h["default"].markCompletedTracked(b.executionId);g=(0,f.addParameters)(k.eventTrackData[m.cacheGetAll](),g);(0,f.addParameters)({ei:b.engagementId||null,ecoi:b.content.id||null,evi:b.matchEventId||null,ent:3,ems:c||null,acci:b.accountId,exi:b.executionId,ext:b.executionTimestamp,at:b.activationType||"a",cl:b.contentLocale},g);Sa&&"kc"===b.activationType&&(0,f.addParameters)(Sa,g);var g=(0,f.addParameters)((0,
y.getWebContext)(),g),l=(0,A.getChannel)(k.eventTrackData[m.cacheGet](k.productIdParameter)),n=(0,B.getGlobalContext)(),p=void 0;n&&(p={gcx:JSON.stringify(n)},l!==x.DESKTOP_CHANNEL&&(0,f.addParameters)(p,g));l==x.DESKTOP_CHANNEL?(0,t.desktopTrackEngagementState)(g,p):(d+="?"+(0,f.convert2Parameters)(g),u.AjaxUtil.getData(d));w.internalEventListener.dispatchEvent("engagementCompleted",(0,t.getExternalEvent)(b,"Completed"))}}}function b(a,c,d){if(!e["default"].isEditorMode()&&!h["default"].wasStepTracked(a.executionId,
c)){h["default"].markStepTracked(a.executionId,c);var g=q.trackStepEndpoint,l=[],l=(0,f.addParameters)(k.eventTrackData[m.cacheGetAll](),l);(0,f.addParameters)({ei:a.engagementId,ecoi:a.content.id,cosi:c,evi:a.matchEventId,cossn:d,ent:3,acci:a.accountId,exi:a.executionId,ext:a.executionTimestamp,at:a.activationType||"a",cl:a.contentLocale},l);Sa&&"kc"===a.activationType&&(0,f.addParameters)(Sa,l);c=(0,B.getGlobalContext)();var n=(0,A.getChannel)(k.eventTrackData[m.cacheGet](k.productIdParameter)),
p=void 0;c&&(p={gcx:JSON.stringify(c)},n!==x.DESKTOP_CHANNEL&&(0,f.addParameters)(p,l));l=(0,f.addParameters)((0,y.getWebContext)(),l);n==x.DESKTOP_CHANNEL?(0,t.desktopTrackStep)(l,p):(g+="?"+(0,f.convert2Parameters)(l),u.AjaxUtil.getData(g));a=(0,t.getExternalEvent)(a,"Viewed Step");a.stepNumber=d+1;w.internalEventListener.dispatchEvent("engagementViewedStep",a)}}function d(){Ua.close()}function l(c,d,e){try{var g,h=d.content;if(c>ua.length&&!h.cyclic)return void Ua.close();h.cyclic&&c>ua.length&&
(aa=1);h.cyclic&&1>c&&(aa=ua.length);(0,t.isSnoozeButtonEnabled)(d.activationType,h.snoozeButton,d.activationTypes)&&(e.querySelector(".aptr-snooze-container").style.display=1===aa?"block":"none");(!h.cyclic&&c==ua.length&&h.carouselNavigation&&h.carouselNavigation.lastSlideSettings&&n(e,h.carouselNavigation.lastSlideSettings),h.cyclic)||(e.querySelector(".aptr-nav-button.aptr-arrow-left").style.display=1==c?"none":"");if(za)for(g=0;g<za.length;g++)za[g].classList.remove("aptr-slideshow-active"),
za[g].style.backgroundColor=h.carouselNavigation.backgroundColor?h.carouselNavigation.backgroundColor:"#ffffff";var k=e.querySelector(".aptr-slides-container"),m=h.carouselSlideList[aa-1],q=parseInt(window.getComputedStyle(za[0].parentNode).height);e.style.backgroundColor="transparent";(0,f.setCrossBrowserTransform)(k,"translateX("+-1*va[aa-1]+"px)");0<m.width&&(e.style.width=m.width+"px");0<m.width&&(e.style.width=m.width+"px");ua[aa-1].setAttribute("aria-hidden","false");if(m.autoHeight){var p=
window.getComputedStyle(k.children[aa-1]).height;eb[aa-1]||(p=parseInt(p)+q+"px",k.children[aa-1].style.height=p,eb[aa-1]=!0);k.parentNode.style.height=p;e.style.height=p}else 0<m.height&&(e.style.height=m.height+"px",k.parentNode.style.height=m.height+"px");0<za.length&&(za[aa-1].style.backgroundColor="transparent",za[aa-1].classList.add("aptr-slideshow-active"),za[aa-1].style.borderColor=h.carouselNavigation.backgroundColor?h.carouselNavigation.backgroundColor:"#ffffff");b(d,m.id,m.sequence);aa==
ua.length&&a(d,2);h.interval&&(h.cyclic||c<ua.length)&&(ab=setTimeout(function(){l(++aa,d,e)},h.interval*f.MILLISEC));(0,A.isDesktop)()&&!Ea[m.id]&&(Ea[m.id]=!0,(0,t.addLinkListenerForDesktop)(k.children[aa-1],d,m.id,m.sequence));(0,t.sendDesktopResize)(e,d,m)}catch(u){r.logger.logInternalError(u)}}function n(a,b){var c=a.querySelector(".aptr-nav-button:not(.aptr-arrow-left)");c.style.backgroundColor=b.backgroundColor;c.removeChild(c.querySelector(".aptr-arrow-icon"));var d=(0,f.createElement)("div",
[]);d.innerHTML=Ra[b.checkmarkType];d=d.firstChild;d.classList.add("aptr-arrow-icon");d.style.stroke=b.color;d.style.fill=b.color;(0,f.appendElements)(c,[d])}function sa(a){if(a){var b=(0,f.createElement)("div",["aptr-slides-container"]),c=Aa(a.carouselSlideList);(0,f.appendElements)(b,c);var c=(0,f.createElement)("div",["aptr-arrows-container"]),d,e=a.carouselNavigation;if(!e)throw Error("No navigation settings provided for carousel");d=[];var g=(0,f.createElement)("span",["aptr-nav-button","aptr-arrow-left"]);
g.setAttribute("role","button");g.setAttribute("aria-label","previous");var h=(0,f.createElement)("div",[]);h.innerHTML=Ta[e.arrowType];var k=h.firstChild;k.classList.add("aptr-arrow-icon");(0,f.appendElements)(g,[k]);k=(0,f.createElement)("span",["aptr-nav-button","aptr-arrow-right"]);k.setAttribute("role","button");k.setAttribute("aria-label","next");h=(0,f.createElement)("div",[]);h.innerHTML=Ta[e.arrowType];e=h.firstChild;d=(e.classList.add("aptr-arrow-icon"),(0,f.appendElements)(k,[e]),d.push(g),
d.push(k),d);(0,f.appendElements)(c,d);d=(0,f.createElement)("div",["aptr-slideshow-dots-container"]);a=a.carouselSlideList.length;g=[];for(e=0;e<a;e++)k=(0,f.createElement)("div",["aptr-slideshow-dot"]),g.push(k);za=g;(0,f.appendElements)(d,za);a=(0,f.createElement)("div",["aptr-carousel-engagement"]);return(0,f.appendElements)(a,[b,c,d]),a}}function ya(a,b){if(a){var c=b.querySelector(".aptr-slides-container");if(c.style.width=Ba+"px",a.borderRadius){var d=b.querySelector(".aptr-carousel-engagement");
d&&(d.style.borderRadius=a.borderRadius+"px");b.style.borderRadius=a.borderRadius+"px"}$a(a.carouselSlideList,c.children)}}function Ka(a,b){for(var c=0;c<b.length;c++)b[c].style.borderColor=a.backgroundColor}function db(a,b,c){Ya(b,a);Ya(c,a)}function Ya(a,b){a.style.backgroundColor=b.backgroundColor;a.style.borderRadius=b.backgroundRadius?b.backgroundRadius+"%":"0px";var c=a.querySelector(".aptr-arrow-icon");c.style.stroke=b.color;c.style.fill=b.color}function Aa(a){var b=[];if(!a.forEach)throw Error("Cannot create slides for carousel because slides array was not sent correctly");
return a.sort(function(a,b){return a.sequence-b.sequence}),a.forEach(function(a,c){va[c]=Ba;Ba+=a.width;var d=(0,f.createElement)("div",["aptr-slide"]);d.setAttribute("id","slide"+a.id);La(d);a.html&&(d.innerHTML=(0,g.addNonceToDomString)(a.html));b.push(d)}),b}function $a(a,b){a.sort(function(a,b){return a.sequence-b.sequence});a.forEach(function(a,c){var d=b[c];a.backgroundType&&"IMAGE"===a.backgroundType?a.backgroundImage?d.style.background=a.backgroundImage:d.style.backgroundColor=(0,f.hexToRgba)("#ffffff",
a.backgroundFill||0===a.backgroundFill?a.backgroundFill/100:1):d.style.backgroundColor=a.backgroundColor?(0,f.hexToRgba)(a.backgroundColor,a.backgroundFill||0===a.backgroundFill?a.backgroundFill/100:1):(0,f.hexToRgba)("#ffffff",a.backgroundFill||0===a.backgroundFill?a.backgroundFill/100:1);d.style.height=a.autoHeight?"auto":a.height+"px";d.style.width=a.width+"px"})}function La(a){a.setAttribute("aria-hidden","true")}function Pa(a,b,d){function e(a,b){for(var c=0;c<a.length;c+=1)b(a[c],c)}function f(){e(a,
function(a){"true"!==a.getAttribute("aria-hidden")&&(a.classList.remove("aptr-slide-hide"),a.classList.add("aptr-slide-show"))})}var h=document.querySelector(".aptr-slides-container");return(0,g.addTransitionEndListener)(h,function(){e(a,function(a,c){"true"!==a.getAttribute("aria-hidden")||(a.classList.remove("aptr-slide-show"),a.classList.add("aptr-slide-hide"),d)||(b.querySelector(".aptr-nav-button.aptr-arrow-left").style.display=0===c?"none":"")})}),(0,g.addTransitionStartListener)(h,f),function(){var a=
(0,c.getBrowserDetails)(),b=a.version;"chrome"===a.name&&74>parseInt(b,10)&&f()}}var Sa=null,Ta={ARROW_1:z,ARROW_2:J,ARROW_3:G,ARROW_4:C,ARROW_5:O,ARROW_6:D,ARROW_7:F,ARROW_8:Q,ARROW_9:S,ARROW_10:L,ARROW_11:T,ARROW_12:H,ARROW_13:U,ARROW_14:K,ARROW_15:Y,ARROW_16:P,ARROW_17:N,ARROW_18:I,ARROW_19:R,EMPTY_ARROW_TYPE:z},Ra={V_1:X,V_2:ea,V_3:ca,V_4:ba,V_5:Z,V_6:la,V_7:V,V_8:fa,V_9:ga,V_10:ka,V_11:pa,V_12:ha,EMPTY_LAST_SLIDE_ICON_TYPE:X},aa=1,ua=[],za=[],Ba=0,va=[],Ua=null,ab=null,Ga=null,eb={},Ea={};this.drawCarousel=
function(b,c,e){Sa=e;aa=1;ua=[];za=[];Ba=0;va=[];Ga=ab=Ua=null;eb={};this.carousel=b;var k=sa(b.content);Ga=Ga||0===Ga?Ga:b.content.zindex||b.content.zIndex||2147483647;Ua=E.open({appendLocation:(0,q.getConfig)("framesetMode")?"html":"body",enableModalBodyScroll:(0,q.getConfig)("enableModalBodyScroll"),closeClassName:"aptr-engagement-close-btn px-close-button",unsafeContent:k.outerHTML,showCloseButton:!0,overlayClosesOnClick:!1,afterOpen:function(){var e=this,h=x.TAB_INDEX_START;(0,q.getConfig)("enableModalBodyScroll")&&
(0,q.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");this.rootEl.setAttribute("aria-live","polite");this.contentEl.classList.add("apt-carousel-popup");this.contentEl.setAttribute("data-apt-disable-selector",!0);this.contentEl.classList.add("px-engagement-wrapper-slider");this.contentEl.classList.add("px-engagement-wrapper");this.contentEl.style.zIndex=b.content.zindex||b.content.zIndex||Ga;this.rootEl.style.zIndex=b.content.zindex||b.content.zIndex||Ga;(0,g.addStyleTag)(this.contentEl,
b.content.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os");(0,g.addStyleTag)(this.contentEl,b.content.engagementCoreStyling,"px-engagement-wrapper-slider",".apt-vex.vex.vex-theme-os");(0,g.addStyleTag)(this.contentEl,b.content.overrideStyling,"px-engagement-wrapper-slider",".apt-vex.vex.vex-theme-os");Array.isArray(b.content.carouselSlideList)&&b.content.carouselSlideList.forEach(function(a){var b=a&&a.style;b&&(0,g.addStyleTag)(e.contentEl,b,"px-engagement-wrapper-slider #slide"+
a.id,".apt-vex.vex.vex-theme-os")});this.rootEl.querySelector(".vex-overlay").style.zIndex=Ga;b.content.overlayColor&&(this.rootEl.querySelector(".vex-overlay").style.background=(0,f.hexToRgba)(b.content.overlayColor,b.content.overlayFill?b.content.overlayFill/100:0));(!b.content.overlayFill||1>b.content.overlayFill)&&this.rootEl.classList.add("apt-popup-disable-overlay");b.borderRadius&&(this.contentEl.style.borderRadius=b.borderRadius+"px");var m=void 0;if((0,t.isSnoozeButtonEnabled)(b.activationType,
b.content.snoozeButton,b.activationTypes)){var n=this.contentEl.querySelector(".aptr-slideshow-dots-container"),p=(0,f.createElement)("div",["aptr-snooze-container"]),m=b.content.carouselSlideList[aa-1],m=(0,t.createSnoozeButton)(b.content.snoozeButton,p,b,m.id,m.sequence,d);n.appendChild(p)}n=this.contentEl.getElementsByClassName("aptr-nav-button");ua=document.getElementsByClassName("aptr-slide");za=document.getElementsByClassName("aptr-slideshow-dot");var r=Pa(ua,k,b.content.cyclic),u=n[0],v=n[1];
ya(b.content,this.contentEl);db(b.content.carouselNavigation,u,v);Ka(b.content.carouselNavigation,za);n=function(){clearTimeout(ab);var a=aa-1;l(--aa,b,e.contentEl);La(ua[a]);if(!b.content.cyclic&&aa==ua.length-1){var a=b.content.carouselNavigation,c=e.contentEl.querySelector(".aptr-nav-button:not(.aptr-arrow-left)");c.style.backgroundColor=a.backgroundColor;c.removeChild(c.querySelector(".aptr-arrow-icon"));var d=(0,f.createElement)("div",[]);d.innerHTML=Ta[a.arrowType];d=d.firstChild;d.classList.add("aptr-arrow-icon");
d.style.stroke=a.color;d.style.fill=a.color;(0,f.appendElements)(c,[d])}};p=function(){clearTimeout(ab);var a=aa-1;l(++aa,b,e.contentEl);r();La(ua[a])};(0,f.addEventListener)(u,"click",n);(0,f.addEventListener)(v,"click",p);(0,g.disableFocusOnClick)(u,this.contentEl);(0,g.disableFocusOnClick)(v,this.contentEl);(0,f.addEnterKeyDownListener)(u,n);(0,f.addEnterKeyDownListener)(v,p);(0,t.removeCicularTabsWrapperListener)(na);(0,t.checkHasOverlay)(b.content.overlayColor,b.content.overlayFill)&&(na=(0,
t.addCircularTabListener)(function(){b.content.cyclic?(0,g.focusElement)(u):1===aa?(0,g.focusElement)(v):(0,g.focusElement)(u)}));u.setAttribute("tabindex",h);h+=1;h=(0,t.setTabIndexes)(this.contentEl,h);(0,t.addTabbableEnterListener)();m&&(m.setAttribute("tabindex",h),h+=1);v.setAttribute("tabindex",h);h+=1;(0,q.getConfig)("clientSideEngagementTracking")&&a(b,1);l(aa,b,this.contentEl);(0,A.isDesktop)()?(this.contentEl.style.position="fixed",this.contentEl.style.top="0px",this.contentEl.style.left=
"0px"):oa.positionElement(this.contentEl,null,"center","center");b.content.carouselSlideList.forEach(function(a){(0,t.listenToLinksClicks)(e.rootEl.querySelector("#slide"+a.id),b,{stepId:a.id,stepName:a.name})});c&&c(b,this.contentEl)},afterClose:function(){(0,q.getBody)().classList.add("apt-vex");var a={engagementId:b.engagementId};h["default"].wasCompletedTracked(b.executionId)?(0,v.internalApt)("engagementCompletedClosed",a):(0,v.internalApt)("engagementDroppedClosed",a);(0,t.removeCicularTabsWrapperListener)(na);
(0,p.sendEngagementClosedEvent)()},beforeClose:function(){try{(0,p.handleEngagementFinish)("IN_APP_CAROUSEL"),(0,t.removeTabbableEnterListener)()}catch(a){r.logger.logInternalError(a,"Error in before closing slider")}}})};this.close=function(){Ua&&Ua.close()};sa=sa.bind(this);l=l.bind(this)}},function(l,a,b){function n(a){var b=a.id,d=a.contentType,e=a.deviceType,f=a.coreStyling,g=a.overrideStyling,h=a.engagementCoreStyling,k=a.defaultLanguage,m=a.deviceContentLanguagesList,l=a.htmlElements;a=a.htmlLangAddition;
return m.sort(),{id:b,contentType:d,deviceType:e,coreStyling:f,overrideStyling:g,engagementCoreStyling:h,defaultLanguage:k,deviceContentLanguagesList:m,htmlElements:l,htmlLangAddition:a}}function f(a){var b=a.id,d=a.contentType,e=a.deviceType,f=a.coreStyling,g=a.overrideStyling,k=a.engagementCoreStyling,l=a.defaultLanguage,n=a.deviceContentLanguagesList,p=a.footer,r=a.buttonType,u=a.url,y=a.targetUrl,H=a.transitionType,U=a.transitionTimeout,K=a.overlayColor,Y=a.overlayFill,P=a.modal,N=a.overlayPadding,
I=a.steps,R=a.widgetEnabled,X=a.widgetTitle,ea=a.widgetDescription,ca=a.category,ba=a.endButtonText,Z=a.restartButtonText,la=a.nextButtonText,V=a.backButtonText,fa=a.getStartedButtonText,ga=a.skipButtonText,ka=a.stepCounterLabelText,pa=a.borderRadius,ha=a.completionClosingAction,oa=a.completionClosingRedirectUrl,na=a.interruptClosingAction,wa=a.interruptClosingRedirectUrl,qa=a.showStepCounter,da=a.skipButton;a=a.startButton;n.sort();I=I.map(function(a){var b=m(a,h);return b.textRule=m(a.textRule,
v),b.textRule&&b.textRule.values&&b.textRule.values.sort(),b.navigation=m(a.navigation,q),b.shadowSettings=m(a.shadowSettings,B),b.overlay=m(a.overlay,w),b.hotspotSettings=m(a.hotspotSettings,t),b});return I.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:d,deviceType:e,coreStyling:f,overrideStyling:g,engagementCoreStyling:k,defaultLanguage:l,deviceContentLanguagesList:n,footer:p,buttonType:r,url:u,targetUrl:y,transitionType:H,transitionTimeout:U,overlayColor:K,overlayFill:Y,
modal:P,overlayPadding:N,steps:I,widgetEnabled:R,widgetTitle:X,widgetDescription:ea,category:m(ca,x),endButtonText:ba,restartButtonText:Z,nextButtonText:la,backButtonText:V,getStartedButtonText:fa,skipButtonText:ga,stepCounterLabelText:ka,borderRadius:pa,completionClosingAction:ha,completionClosingRedirectUrl:oa,interruptClosingAction:na,interruptClosingRedirectUrl:wa,showStepCounter:qa,skipButton:m(da,A),startButton:m(a,A)}}function r(a){var b=a.id,f=a.contentType,h=a.deviceType,k=a.coreStyling,
l=a.overrideStyling,n=a.engagementCoreStyling,q=a.defaultLanguage,p=a.deviceContentLanguagesList,t=a.defaultHeight,r=a.defaultWidth,u=a.transitionType,v=a.interval,w=a.hideNavigation,x=a.cyclic,y=a.overlayColor,A=a.overlayFill,B=a.carouselNavigation,N=a.carouselSlideList,I=a.borderRadius,R=a.completionClosingAction,X=a.completionClosingRedirectUrl,ea=a.interruptClosingAction,ca=a.interruptClosingRedirectUrl;a=a.zIndex;p.sort();var ba=m(B,e),B=m(B.lastSlideSettings,g);ba.lastSlideSettings=B;N=N.map(function(a){return m(a,
d)});return N.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:f,deviceType:h,coreStyling:k,overrideStyling:l,engagementCoreStyling:n,defaultLanguage:q,deviceContentLanguagesList:p,defaultHeight:t,defaultWidth:r,transitionType:u,interval:v,hideNavigation:w,cyclic:x,overlayColor:y,overlayFill:A,carouselNavigation:ba,carouselSlideList:N,borderRadius:I,completionClosingAction:R,completionClosingRedirectUrl:X,interruptClosingAction:ea,interruptClosingRedirectUrl:ca,zIndex:a}}function p(a){var b=
a.id,d=a.type,e=a.sequenceNumber,f=a.height,g=a.width,h=a.overlayColor,k=a.overlayFill,l=a.verticalPosition,n=a.horizontalPosition,q=a.style,p=a.question,t=a.submitButtonTextColor,r=a.submitButtonBackgroundColor,u=a.submitButtonBorderColor,v=a.submitButtonBorderRadius,w=a.submitButtonBorderWidth,x=a.maxSelectionNumber,A=a.minSelectionNumber,B=a.numberColor,R=a.numberSize,X=a.numberFontFamily,ea=a.showQuestionNumber,ca=a.buttonText;a=a.answers.map(function(a){return m(a,y)});return a.sort(function(a,
b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,type:d,sequenceNumber:e,height:f,width:g,overlayColor:h,overlayFill:k,verticalPosition:l,horizontalPosition:n,style:q,question:p,submitButtonTextColor:t,submitButtonBackgroundColor:r,submitButtonBorderColor:u,submitButtonBorderRadius:v,submitButtonBorderWidth:w,answers:a,maxSelectionNumber:x,minSelectionNumber:A,numberColor:B,numberSize:R,numberFontFamily:X,showQuestionNumber:ea,buttonText:ca}}function u(a){switch(a.type){case "CONTENT":return{id:a.id,
type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,html:a.html,closeButtonTextColor:a.closeButtonTextColor,closeButtonBackgroundColor:a.closeButtonBackgroundColor,closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,closeButtonBorderText:a.closeButtonBorderText,
buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,titleHtml:a.titleHtml,textHtml:a.textHtml,buttonsTextColor:a.buttonsTextColor,buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,
selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,selectedButtonsTextColor:a.selectedButtonsTextColor,selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,satisfiedHtml:a.satisfiedHtml,detractorsComment:a.detractorsComment,passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,
submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,
negativeButtonBorderColor:a.negativeButtonBorderColor,negativeButtonBorderWidth:a.negativeButtonBorderWidth,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth};
case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,question:a.question,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,
numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};case "MULTIPLE_CHOICE_QUESTION":return p(a);default:return a}}function k(a){var b=a.id,d=a.contentType,e=a.deviceType,f=a.coreStyling,g=a.overrideStyling,h=a.engagementCoreStyling,k=a.defaultLanguage,l=a.deviceContentLanguagesList,
n=a.borderRadius,q=a.overlayColor,p=a.overlayFill,t=a.viewType,r=a.verticalPosition,v=a.horizontalPosition,w=a.positionTopDelta,x=a.positionLeftDelta,y=a.backgroundColor,A=a.backgroundFill,I=a.height,R=a.width,X=a.showContactMeMessage,ea=a.autoHeight,ca=a.showShadow,ba=a.showFooter,Z=a.mergeFirstSteps,la=a.shadowSettings,V=a.barPosition,fa=a.barOffset,ga=a.contactMeMessage,ka=a.footer,pa=a.minCharsValidationText,ha=a.maxCharsValidationText,oa=a.mandatoryValidationText,na=a.maxAnswersValidationText,
wa=a.minAnswersValidationText,qa=a.zIndex;a=a.steps;l.sort();la=m(la,B);a=a.map(function(a){return u(a)});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:d,deviceType:e,coreStyling:f,overrideStyling:g,engagementCoreStyling:h,defaultLanguage:k,deviceContentLanguagesList:l,borderRadius:n,overlayColor:q,overlayFill:p,viewType:t,verticalPosition:r,horizontalPosition:v,positionTopDelta:w,positionLeftDelta:x,backgroundColor:y,backgroundFill:A,height:I,width:R,showContactMeMessage:X,
autoHeight:ea,showShadow:ca,showFooter:ba,mergeFirstSteps:Z,shadowSettings:la,barPosition:V,barOffset:fa,contactMeMessage:ga,footer:ka,minCharsValidationText:pa,maxCharsValidationText:ha,mandatoryValidationText:oa,maxAnswersValidationText:na,minAnswersValidationText:wa,zIndex:qa,steps:a}}Object.defineProperty(a,"__esModule",{value:!0});var m=b(25).filterProperties,e="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),g=["checkmarkType",
"color","backgroundColor"],d="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),h="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),
v=["operator","values"],q="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),w=["color","fill","modal","padding","blockElement"],t="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),x=["name"],A="enabled backgroundColor backgroundFill showBorder borderColor text textColor cornerRadius hoverBackgroundColor hoverBackgroundFill hoverTextColor hoverBorderColor".split(" "),
B="color fill offsetX offsetY blur spread".split(" "),y=["id","text","sequenceNumber"];a.filterAndSortEngagementFieldsV1=function(a,b){if(b)switch(a.contentType){case "IN_APP_DIALOG":return n(a);case "IN_APP_GUIDE":return f(a);case "IN_APP_CAROUSEL":return r(a);case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return k(a);default:return a}else switch(a.contentType){case "IN_APP_GUIDE":return a.steps.sort(function(a,
b){return a.sequenceNumber-b.sequenceNumber}),a;case "IN_APP_CAROUSEL":return a.carouselSlideList.sort(function(a,b){return a.sequence-b.sequence}),a;case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return a.steps.sort(function(a,b){return a.sequenceNumber-b.sequenceNumber}),a;default:return a}}},function(l,a,b){function n(a){var b=a.id,d=a.contentType,e=a.deviceType,f=a.coreStyling,g=a.overrideStyling,
k=a.engagementCoreStyling,l=a.defaultLanguage,n=a.deviceContentLanguagesList,p=a.footer,r=a.buttonType,u=a.url,y=a.targetUrl,H=a.transitionType,U=a.transitionTimeout,K=a.overlayColor,Y=a.overlayFill,P=a.modal,N=a.overlayPadding,I=a.steps,R=a.widgetEnabled,X=a.widgetTitle,ea=a.widgetDescription,ca=a.category,ba=a.endButtonText,Z=a.restartButtonText,la=a.nextButtonText,V=a.backButtonText,fa=a.getStartedButtonText,ga=a.skipButtonText,ka=a.stepCounterLabelText,pa=a.borderRadius,ha=a.completionClosingAction,
oa=a.completionClosingRedirectUrl,na=a.interruptClosingAction,wa=a.interruptClosingRedirectUrl,qa=a.showStepCounter,da=a.skipButton;a=a.startButton;n.sort();I=I.map(function(a){var b=m(a,h);return b.textRule=m(a.textRule,v),b.textRule&&b.textRule.values&&b.textRule.values.sort(),b.navigation=m(a.navigation,q),b.shadowSettings=m(a.shadowSettings,B),b.overlay=m(a.overlay,w),b.hotspotSettings=m(a.hotspotSettings,t),b});return I.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:d,
deviceType:e,coreStyling:f,overrideStyling:g,engagementCoreStyling:k,defaultLanguage:l,deviceContentLanguagesList:n,footer:p,buttonType:r,url:u,targetUrl:y,transitionType:H,transitionTimeout:U,overlayColor:K,overlayFill:Y,modal:P,overlayPadding:N,steps:I,widgetEnabled:R,widgetTitle:X,widgetDescription:ea,category:m(ca,x),endButtonText:ba,restartButtonText:Z,nextButtonText:la,backButtonText:V,getStartedButtonText:fa,skipButtonText:ga,stepCounterLabelText:ka,borderRadius:pa,completionClosingAction:ha,
completionClosingRedirectUrl:oa,interruptClosingAction:na,interruptClosingRedirectUrl:wa,showStepCounter:qa,skipButton:m(da,A),startButton:m(a,A)}}function f(a){var b=a.id,f=a.contentType,h=a.deviceType,k=a.coreStyling,l=a.overrideStyling,n=a.engagementCoreStyling,q=a.defaultLanguage,p=a.deviceContentLanguagesList,t=a.defaultHeight,r=a.defaultWidth,u=a.transitionType,v=a.interval,w=a.hideNavigation,x=a.cyclic,y=a.overlayColor,A=a.overlayFill,B=a.carouselNavigation,N=a.carouselSlideList,I=a.borderRadius,
R=a.completionClosingAction,X=a.completionClosingRedirectUrl,ea=a.interruptClosingAction,ca=a.interruptClosingRedirectUrl;a=a.zIndex;p.sort();var ba=m(B,e),B=m(B.lastSlideSettings,g);ba.lastSlideSettings=B;N=N.map(function(a){return m(a,d)});return N.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:f,deviceType:h,coreStyling:k,overrideStyling:l,engagementCoreStyling:n,defaultLanguage:q,deviceContentLanguagesList:p,defaultHeight:t,defaultWidth:r,transitionType:u,interval:v,
hideNavigation:w,cyclic:x,overlayColor:y,overlayFill:A,carouselNavigation:ba,carouselSlideList:N,borderRadius:I,completionClosingAction:R,completionClosingRedirectUrl:X,interruptClosingAction:ea,interruptClosingRedirectUrl:ca,zIndex:a}}function r(a){var b=a.id,d=a.type,e=a.sequenceNumber,f=a.height,g=a.width,h=a.overlayColor,k=a.overlayFill,l=a.verticalPosition,n=a.horizontalPosition,q=a.style,p=a.surveyPageId,t=a.question,r=a.submitButtonTextColor,u=a.submitButtonBackgroundColor,v=a.submitButtonBorderColor,
w=a.submitButtonBorderRadius,x=a.submitButtonBorderWidth,A=a.maxSelectionNumber,B=a.minSelectionNumber,R=a.numberColor,X=a.numberSize,ea=a.numberFontFamily,ca=a.showQuestionNumber,ba=a.buttonText;a=a.answers.map(function(a){return m(a,y)});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,type:d,sequenceNumber:e,height:f,width:g,overlayColor:h,overlayFill:k,verticalPosition:l,horizontalPosition:n,style:q,surveyPageId:p,question:t,submitButtonTextColor:r,submitButtonBackgroundColor:u,
submitButtonBorderColor:v,submitButtonBorderRadius:w,submitButtonBorderWidth:x,answers:a,maxSelectionNumber:A,minSelectionNumber:B,numberColor:R,numberSize:X,numberFontFamily:ea,showQuestionNumber:ca,buttonText:ba}}function p(a){return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,titleHtml:a.titleHtml,textHtml:a.textHtml,
buttonsTextColor:a.buttonsTextColor,buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,selectedButtonsTextColor:a.selectedButtonsTextColor,selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,satisfiedHtml:a.satisfiedHtml,detractorsComment:a.detractorsComment,
passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,
positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,negativeButtonBorderColor:a.negativeButtonBorderColor,negativeButtonBorderWidth:a.negativeButtonBorderWidth,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,
neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth}}function u(a){switch(a.type){case "CONTENT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,
html:a.html,closeButtonTextColor:a.closeButtonTextColor,closeButtonBackgroundColor:a.closeButtonBackgroundColor,closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,closeButtonBorderText:a.closeButtonBorderText,buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return p(a);case "DYNAMIC_RATING_STEP":var b=p(a);return Object.assign({},b,{surveyPageId:a.surveyPageId,minAnswer:a.minAnswer,maxAnswer:a.maxAnswer,
showQuestionNumber:a.showQuestionNumber,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily});case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,question:a.question,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,
submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};case "MULTIPLE_CHOICE_QUESTION":return r(a);default:return a}}
function k(a){var b=a.id,d=a.contentType,e=a.contentSubType,f=a.deviceType,g=a.coreStyling,h=a.overrideStyling,k=a.engagementCoreStyling,l=a.defaultLanguage,n=a.deviceContentLanguagesList,q=a.borderRadius,p=a.overlayColor,t=a.overlayFill,r=a.viewType,v=a.verticalPosition,w=a.horizontalPosition,x=a.positionTopDelta,y=a.positionLeftDelta,A=a.backgroundColor,I=a.backgroundFill,R=a.height,X=a.width,ea=a.showContactMeMessage,ca=a.autoHeight,ba=a.showShadow,Z=a.showFooter,la=a.mergeFirstSteps,V=a.shadowSettings,
fa=a.barPosition,ga=a.barOffset,ka=a.contactMeMessage,pa=a.footer,ha=a.minCharsValidationText,oa=a.maxCharsValidationText,na=a.mandatoryValidationText,wa=a.maxAnswersValidationText,qa=a.minAnswersValidationText,da=a.zIndex,W=a.steps,ta=a.surveyPages;a=a.orientation;n.sort();V=m(V,B);W=W.map(function(a){return u(a)});W.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0});ta=ta.map(function(a){var b=a.buttonSetting;return{id:a.id,title:a.title,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,
verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,buttonSetting:{enabled:b.enabled,backgroundColor:b.backgroundColor,backgroundFill:b.backgroundFill,borderColor:b.borderColor,hoverBackgroundColor:b.hoverBackgroundColor,hoverBackgroundFill:b.hoverBackgroundFill,hoverBorderColor:b.hoverBorderColor,showBorder:b.showBorder,text:b.text,textColor:b.textColor,hoverTextColor:b.hoverTextColor,cornerRadius:b.cornerRadius},style:a.style}});return ta.sort(function(a,b){return a.id<b.id?
-1:a.id>b.id?1:0}),{id:b,contentType:d,deviceType:f,coreStyling:g,overrideStyling:h,engagementCoreStyling:k,defaultLanguage:l,deviceContentLanguagesList:n,contentSubType:e,borderRadius:q,overlayColor:p,overlayFill:t,viewType:r,verticalPosition:v,horizontalPosition:w,positionTopDelta:x,positionLeftDelta:y,backgroundColor:A,backgroundFill:I,height:R,width:X,showContactMeMessage:ea,autoHeight:ca,showShadow:ba,showFooter:Z,mergeFirstSteps:la,shadowSettings:V,barPosition:fa,barOffset:ga,contactMeMessage:ka,
footer:pa,minCharsValidationText:ha,maxCharsValidationText:oa,mandatoryValidationText:na,maxAnswersValidationText:wa,minAnswersValidationText:qa,zIndex:da,steps:W,surveyPages:ta,orientation:a}}Object.defineProperty(a,"__esModule",{value:!0});var m=b(25).filterProperties,e="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),g=["checkmarkType","color","backgroundColor"],d="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),
h="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),v=["operator","values"],q="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),
w=["color","fill","modal","padding","blockElement"],t="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),x=["name"],A="enabled backgroundColor backgroundFill showBorder borderColor text textColor cornerRadius hoverBackgroundColor hoverBackgroundFill hoverTextColor hoverBorderColor".split(" "),B="color fill offsetX offsetY blur spread".split(" "),y=["id","text","sequenceNumber"];a.filterAndSortEngagementFieldsV3=function(a){switch(a.contentType){case "IN_APP_DIALOG":var b=
a.id,d=a.contentType,e=a.deviceType,g=a.coreStyling,h=a.overrideStyling,m=a.engagementCoreStyling,l=a.defaultLanguage,q=a.deviceContentLanguagesList,p=a.htmlElements;a=a.htmlLangAddition;return q.sort(),{id:b,contentType:d,deviceType:e,coreStyling:g,overrideStyling:h,engagementCoreStyling:m,defaultLanguage:l,deviceContentLanguagesList:q,htmlElements:p,htmlLangAddition:a};case "IN_APP_GUIDE":return n(a);case "IN_APP_CAROUSEL":return f(a);case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return k(a);
default:return a}}},function(l,a,b){function n(a){var b=a.id,d=a.contentType,e=a.deviceType,f=a.coreStyling,g=a.overrideStyling,k=a.engagementCoreStyling,l=a.defaultLanguage,n=a.deviceContentLanguagesList,p=a.footer,r=a.buttonType,u=a.url,y=a.targetUrl,H=a.transitionType,U=a.transitionTimeout,K=a.overlayColor,Y=a.overlayFill,P=a.modal,N=a.overlayPadding,I=a.steps,R=a.widgetEnabled,X=a.widgetTitle,ea=a.widgetDescription,ca=a.category,ba=a.endButtonText,Z=a.restartButtonText,la=a.nextButtonText,V=a.backButtonText,
fa=a.getStartedButtonText,ga=a.skipButtonText,ka=a.stepCounterLabelText,pa=a.borderRadius,ha=a.completionClosingAction,oa=a.completionClosingRedirectUrl,na=a.interruptClosingAction,wa=a.interruptClosingRedirectUrl,qa=a.showStepCounter,da=a.skipButton,W=a.startButton,ta=a.timeout;a=a.delay;n.sort();I=I.map(function(a){var b=m(a,h);return b.textRule=m(a.textRule,v),b.textRule&&b.textRule.values&&b.textRule.values.sort(),b.navigation=m(a.navigation,q),b.shadowSettings=m(a.shadowSettings,B),b.overlay=
m(a.overlay,w),b.hotspotSettings=m(a.hotspotSettings,t),b});return I.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:d,deviceType:e,coreStyling:f,overrideStyling:g,engagementCoreStyling:k,defaultLanguage:l,deviceContentLanguagesList:n,footer:p,buttonType:r,url:u,targetUrl:y,transitionType:H,transitionTimeout:U,overlayColor:K,overlayFill:Y,modal:P,overlayPadding:N,steps:I,widgetEnabled:R,widgetTitle:X,widgetDescription:ea,category:m(ca,x),endButtonText:ba,restartButtonText:Z,
nextButtonText:la,backButtonText:V,getStartedButtonText:fa,skipButtonText:ga,stepCounterLabelText:ka,borderRadius:pa,completionClosingAction:ha,completionClosingRedirectUrl:oa,interruptClosingAction:na,interruptClosingRedirectUrl:wa,showStepCounter:qa,skipButton:m(da,A),startButton:m(W,A),timeout:ta,delay:a}}function f(a){var b=a.id,f=a.contentType,h=a.deviceType,k=a.coreStyling,l=a.overrideStyling,n=a.engagementCoreStyling,q=a.defaultLanguage,p=a.deviceContentLanguagesList,t=a.defaultHeight,r=a.defaultWidth,
u=a.transitionType,v=a.interval,w=a.hideNavigation,x=a.cyclic,y=a.overlayColor,A=a.overlayFill,B=a.carouselNavigation,N=a.carouselSlideList,I=a.borderRadius,R=a.completionClosingAction,X=a.completionClosingRedirectUrl,ea=a.interruptClosingAction,ca=a.interruptClosingRedirectUrl,ba=a.zIndex,Z=a.timeout;a=a.delay;p.sort();var la=m(B,e),B=m(B.lastSlideSettings,g);la.lastSlideSettings=B;N=N.map(function(a){return m(a,d)});return N.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:f,
deviceType:h,coreStyling:k,overrideStyling:l,engagementCoreStyling:n,defaultLanguage:q,deviceContentLanguagesList:p,defaultHeight:t,defaultWidth:r,transitionType:u,interval:v,hideNavigation:w,cyclic:x,overlayColor:y,overlayFill:A,carouselNavigation:la,carouselSlideList:N,borderRadius:I,completionClosingAction:R,completionClosingRedirectUrl:X,interruptClosingAction:ea,interruptClosingRedirectUrl:ca,zIndex:ba,timeout:Z,delay:a}}function r(a){var b=a.id,d=a.type,e=a.sequenceNumber,f=a.height,g=a.width,
h=a.overlayColor,k=a.overlayFill,l=a.verticalPosition,n=a.horizontalPosition,q=a.style,p=a.surveyPageId,t=a.question,r=a.submitButtonTextColor,u=a.submitButtonBackgroundColor,v=a.submitButtonBorderColor,w=a.submitButtonBorderRadius,x=a.submitButtonBorderWidth,A=a.maxSelectionNumber,B=a.minSelectionNumber,R=a.numberColor,X=a.numberSize,ea=a.numberFontFamily,ca=a.showQuestionNumber,ba=a.buttonText;a=a.answers.map(function(a){return m(a,y)});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?
1:0}),{id:b,type:d,sequenceNumber:e,height:f,width:g,overlayColor:h,overlayFill:k,verticalPosition:l,horizontalPosition:n,style:q,surveyPageId:p,question:t,submitButtonTextColor:r,submitButtonBackgroundColor:u,submitButtonBorderColor:v,submitButtonBorderRadius:w,submitButtonBorderWidth:x,answers:a,maxSelectionNumber:A,minSelectionNumber:B,numberColor:R,numberSize:X,numberFontFamily:ea,showQuestionNumber:ca,buttonText:ba}}function p(a){return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,
width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,titleHtml:a.titleHtml,textHtml:a.textHtml,buttonsTextColor:a.buttonsTextColor,buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,selectedButtonsTextColor:a.selectedButtonsTextColor,
selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,satisfiedHtml:a.satisfiedHtml,detractorsComment:a.detractorsComment,passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,
showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,negativeButtonBorderColor:a.negativeButtonBorderColor,negativeButtonBorderWidth:a.negativeButtonBorderWidth,
buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth}}function u(a){switch(a.type){case "CONTENT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,
height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,html:a.html,closeButtonTextColor:a.closeButtonTextColor,closeButtonBackgroundColor:a.closeButtonBackgroundColor,closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,closeButtonBorderText:a.closeButtonBorderText,
buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return p(a);case "DYNAMIC_RATING_STEP":var b=p(a);return Object.assign({},b,{surveyPageId:a.surveyPageId,minAnswer:a.minAnswer,maxAnswer:a.maxAnswer,showQuestionNumber:a.showQuestionNumber,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily});case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,
horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,question:a.question,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,
placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};case "MULTIPLE_CHOICE_QUESTION":return r(a);default:return a}}function k(a){var b=a.id,d=a.contentType,e=a.contentSubType,f=a.deviceType,g=a.coreStyling,h=a.overrideStyling,k=a.engagementCoreStyling,l=a.defaultLanguage,n=a.deviceContentLanguagesList,q=a.borderRadius,p=a.overlayColor,t=a.overlayFill,r=a.viewType,v=a.verticalPosition,w=a.horizontalPosition,
x=a.positionTopDelta,y=a.positionLeftDelta,A=a.backgroundColor,I=a.backgroundFill,R=a.height,X=a.width,ea=a.showContactMeMessage,ca=a.autoHeight,ba=a.showShadow,Z=a.showFooter,la=a.mergeFirstSteps,V=a.shadowSettings,fa=a.barPosition,ga=a.barOffset,ka=a.contactMeMessage,pa=a.footer,ha=a.minCharsValidationText,oa=a.maxCharsValidationText,na=a.mandatoryValidationText,wa=a.maxAnswersValidationText,qa=a.minAnswersValidationText,da=a.zIndex,W=a.steps,ta=a.surveyPages,sa=a.orientation,ya=a.timeout;a=a.delay;
n.sort();V=m(V,B);W=W.map(function(a){return u(a)});W.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0});ta=ta.map(function(a){var b=a.buttonSetting;return{id:a.id,title:a.title,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,buttonSetting:{enabled:b.enabled,backgroundColor:b.backgroundColor,backgroundFill:b.backgroundFill,borderColor:b.borderColor,hoverBackgroundColor:b.hoverBackgroundColor,hoverBackgroundFill:b.hoverBackgroundFill,
hoverBorderColor:b.hoverBorderColor,showBorder:b.showBorder,text:b.text,textColor:b.textColor,hoverTextColor:b.hoverTextColor,cornerRadius:b.cornerRadius},style:a.style}});return ta.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:d,deviceType:f,coreStyling:g,overrideStyling:h,engagementCoreStyling:k,defaultLanguage:l,deviceContentLanguagesList:n,contentSubType:e,borderRadius:q,overlayColor:p,overlayFill:t,viewType:r,verticalPosition:v,horizontalPosition:w,positionTopDelta:x,
positionLeftDelta:y,backgroundColor:A,backgroundFill:I,height:R,width:X,showContactMeMessage:ea,autoHeight:ca,showShadow:ba,showFooter:Z,mergeFirstSteps:la,shadowSettings:V,barPosition:fa,barOffset:ga,contactMeMessage:ka,footer:pa,minCharsValidationText:ha,maxCharsValidationText:oa,mandatoryValidationText:na,maxAnswersValidationText:wa,minAnswersValidationText:qa,zIndex:da,steps:W,surveyPages:ta,orientation:sa,timeout:ya,delay:a}}Object.defineProperty(a,"__esModule",{value:!0});a.filterAndSortEngagementFieldsV4=
function(a){switch(a.contentType){case "IN_APP_DIALOG":var b=a.id,d=a.contentType,e=a.deviceType,g=a.coreStyling,h=a.overrideStyling,m=a.engagementCoreStyling,l=a.defaultLanguage,q=a.deviceContentLanguagesList,p=a.htmlElements,t=a.htmlLangAddition,r=a.timeout;a=a.delay;return q.sort(),{id:b,contentType:d,deviceType:e,coreStyling:g,overrideStyling:h,engagementCoreStyling:m,defaultLanguage:l,deviceContentLanguagesList:q,htmlElements:p,htmlLangAddition:t,timeout:r,delay:a};case "IN_APP_GUIDE":return n(a);
case "IN_APP_CAROUSEL":return f(a);case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return k(a);default:return a}};var m=b(25).filterProperties,e="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),g=["checkmarkType","color","backgroundColor"],d="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),
h="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),v=["operator","values"],q="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),
w=["color","fill","modal","padding","blockElement"],t="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),x=["name"],A="enabled backgroundColor backgroundFill showBorder borderColor text textColor cornerRadius hoverBackgroundColor hoverBackgroundFill hoverTextColor hoverBorderColor".split(" "),B="color fill offsetX offsetY blur spread".split(" "),y=["id","text","sequenceNumber"]},function(l,a,b){function n(a){return{enabled:a.enabled,backgroundColor:a.backgroundColor,
backgroundFill:a.backgroundFill,borderColor:a.borderColor,hoverBackgroundColor:a.hoverBackgroundColor,hoverBackgroundFill:a.hoverBackgroundFill,hoverBorderColor:a.hoverBorderColor,showBorder:a.showBorder,text:a.text,textColor:a.textColor,hoverTextColor:a.hoverTextColor,cornerRadius:a.cornerRadius,brandKitClassName:a.className}}function f(a){var b=a.id,d=a.contentType,f=a.deviceType,g=a.coreStyling,h=a.overrideStyling,k=a.engagementCoreStyling,m=a.defaultLanguage,l=a.deviceContentLanguagesList,p=a.footer,
r=a.buttonType,u=a.url,y=a.targetUrl,H=a.transitionType,U=a.transitionTimeout,K=a.overlayColor,Y=a.overlayFill,P=a.modal,N=a.overlayPadding,I=a.steps,R=a.widgetEnabled,X=a.widgetTitle,ea=a.widgetDescription,ca=a.category,ba=a.endButtonText,Z=a.restartButtonText,la=a.nextButtonText,V=a.backButtonText,fa=a.getStartedButtonText,ga=a.skipButtonText,ka=a.stepCounterLabelText,pa=a.borderRadius,ha=a.completionClosingAction,oa=a.completionClosingRedirectUrl,na=a.interruptClosingAction,wa=a.interruptClosingRedirectUrl,
qa=a.showStepCounter,da=a.skipButton,W=a.startButton,ta=a.timeout,sa=a.delay,ya=a.lightThemeStyle,Ka=a.darkThemeStyle;a=a.cssLibraryStyle;l.sort();I=I.map(function(a){var b=e(a,v);return b.textRule=e(a.textRule,q),b.textRule&&b.textRule.values&&b.textRule.values.sort(),b.navigation=e(a.navigation,w),b.shadowSettings=e(a.shadowSettings,B),b.overlay=e(a.overlay,t),b.hotspotSettings=e(a.hotspotSettings,x),b});return I.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:d,deviceType:f,
coreStyling:g,overrideStyling:h,engagementCoreStyling:k,defaultLanguage:m,deviceContentLanguagesList:l,footer:p,buttonType:r,url:u,targetUrl:y,transitionType:H,transitionTimeout:U,overlayColor:K,overlayFill:Y,modal:P,overlayPadding:N,steps:I,widgetEnabled:R,widgetTitle:X,widgetDescription:ea,category:e(ca,A),endButtonText:ba,restartButtonText:Z,nextButtonText:la,backButtonText:V,getStartedButtonText:fa,skipButtonText:ga,stepCounterLabelText:ka,borderRadius:pa,completionClosingAction:ha,completionClosingRedirectUrl:oa,
interruptClosingAction:na,interruptClosingRedirectUrl:wa,showStepCounter:qa,skipButton:n(da),startButton:n(W),timeout:ta,delay:sa,lightThemeStyle:ya,darkThemeStyle:Ka,cssLibraryStyle:a}}function r(a){var b=a.id,f=a.contentType,k=a.deviceType,m=a.coreStyling,l=a.overrideStyling,n=a.engagementCoreStyling,q=a.defaultLanguage,p=a.deviceContentLanguagesList,t=a.defaultHeight,r=a.defaultWidth,u=a.transitionType,v=a.interval,w=a.hideNavigation,x=a.cyclic,y=a.overlayColor,A=a.overlayFill,B=a.carouselNavigation,
N=a.carouselSlideList,I=a.borderRadius,R=a.completionClosingAction,X=a.completionClosingRedirectUrl,ea=a.interruptClosingAction,ca=a.interruptClosingRedirectUrl,ba=a.zIndex,Z=a.timeout,la=a.delay,V=a.lightThemeStyle,fa=a.darkThemeStyle;a=a.cssLibraryStyle;p.sort();var ga=e(B,g),B=e(B.lastSlideSettings,d);ga.lastSlideSettings=B;N=N.map(function(a){return e(a,h)});return N.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:f,deviceType:k,coreStyling:m,overrideStyling:l,engagementCoreStyling:n,
defaultLanguage:q,deviceContentLanguagesList:p,defaultHeight:t,defaultWidth:r,transitionType:u,interval:v,hideNavigation:w,cyclic:x,overlayColor:y,overlayFill:A,carouselNavigation:ga,carouselSlideList:N,borderRadius:I,completionClosingAction:R,completionClosingRedirectUrl:X,interruptClosingAction:ea,interruptClosingRedirectUrl:ca,zIndex:ba,timeout:Z,delay:la,lightThemeStyle:V,darkThemeStyle:fa,cssLibraryStyle:a}}function p(a){var b=a.id,d=a.type,f=a.sequenceNumber,g=a.height,h=a.width,k=a.overlayColor,
m=a.overlayFill,l=a.verticalPosition,n=a.horizontalPosition,q=a.style,p=a.surveyPageId,t=a.question,r=a.submitButtonTextColor,u=a.submitButtonBackgroundColor,v=a.submitButtonBorderColor,w=a.submitButtonBorderRadius,x=a.submitButtonBorderWidth,A=a.maxSelectionNumber,B=a.minSelectionNumber,R=a.numberColor,X=a.numberSize,ea=a.numberFontFamily,ca=a.showQuestionNumber,ba=a.buttonText;a=a.answers.map(function(a){return e(a,y)});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,type:d,
sequenceNumber:f,height:g,width:h,overlayColor:k,overlayFill:m,verticalPosition:l,horizontalPosition:n,style:q,surveyPageId:p,question:t,submitButtonTextColor:r,submitButtonBackgroundColor:u,submitButtonBorderColor:v,submitButtonBorderRadius:w,submitButtonBorderWidth:x,answers:a,maxSelectionNumber:A,minSelectionNumber:B,numberColor:R,numberSize:X,numberFontFamily:ea,showQuestionNumber:ca,buttonText:ba}}function u(a){return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,
overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,titleHtml:a.titleHtml,textHtml:a.textHtml,buttonsTextColor:a.buttonsTextColor,buttonsBackgroundColor:a.buttonsBackgroundColor,buttonsBorderWidth:a.buttonsBorderWidth,buttonsBorderColor:a.buttonsBorderColor,buttonsBorderRadius:a.buttonsBorderRadius,selectedButtonsBackgroundColor:a.selectedButtonsBackgroundColor,selectedButtonsTextColor:a.selectedButtonsTextColor,
selectedButtonsBorderWidth:a.selectedButtonsBorderWidth,selectedButtonsBorderColor:a.selectedButtonsBorderColor,notSatisfiedHtml:a.notSatisfiedHtml,satisfiedHtml:a.satisfiedHtml,detractorsComment:a.detractorsComment,passivesComment:a.passivesComment,promotersComment:a.promotersComment,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,
showDynamicComment:a.showDynamicComment,defaultComment:a.defaultComment,positiveButtonTextColor:a.positiveButtonTextColor,positiveButtonBackgroundColor:a.positiveButtonBackgroundColor,positiveButtonBorderColor:a.positiveButtonBorderColor,positiveButtonBorderWidth:a.positiveButtonBorderWidth,negativeButtonTextColor:a.negativeButtonTextColor,negativeButtonBackgroundColor:a.negativeButtonBackgroundColor,negativeButtonBorderColor:a.negativeButtonBorderColor,negativeButtonBorderWidth:a.negativeButtonBorderWidth,
buttonText:a.buttonText,placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength,surveyScoreType:a.surveyScoreType,neutralButtonTextColor:a.neutralButtonTextColor,neutralButtonBackgroundColor:a.neutralButtonBackgroundColor,neutralButtonBorderColor:a.neutralButtonBorderColor,neutralButtonBorderWidth:a.neutralButtonBorderWidth}}function k(a){switch(a.type){case "CONTENT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,
height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,html:a.html,closeButtonTextColor:a.closeButtonTextColor,closeButtonBackgroundColor:a.closeButtonBackgroundColor,closeButtonBorderRadius:a.closeButtonBorderRadius,closeButtonBorderWidth:a.closeButtonBorderWidth,closeButtonBorderColor:a.closeButtonBorderColor,closeButtonBorderText:a.closeButtonBorderText,
buttonText:a.buttonText};case "SCORE":case "BOOLEAN":return u(a);case "DYNAMIC_RATING_STEP":var b=u(a);return Object.assign({},b,{surveyPageId:a.surveyPageId,minAnswer:a.minAnswer,maxAnswer:a.maxAnswer,showQuestionNumber:a.showQuestionNumber,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily});case "OPEN_TEXT":return{id:a.id,type:a.type,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,overlayColor:a.overlayColor,overlayFill:a.overlayFill,verticalPosition:a.verticalPosition,
horizontalPosition:a.horizontalPosition,style:a.style,surveyPageId:a.surveyPageId,question:a.question,submitButtonTextColor:a.submitButtonTextColor,submitButtonBackgroundColor:a.submitButtonBackgroundColor,submitButtonBorderColor:a.submitButtonBorderColor,submitButtonBorderRadius:a.submitButtonBorderRadius,submitButtonBorderWidth:a.submitButtonBorderWidth,numberColor:a.numberColor,numberSize:a.numberSize,numberFontFamily:a.numberFontFamily,showQuestionNumber:a.showQuestionNumber,buttonText:a.buttonText,
placeholderText:a.placeholderText,isCommentMandatory:a.isCommentMandatory,minCommentLength:a.minCommentLength,maxCommentLength:a.maxCommentLength};case "MULTIPLE_CHOICE_QUESTION":return p(a);default:return a}}function m(a){var b=a.id,d=a.contentType,f=a.contentSubType,g=a.deviceType,h=a.coreStyling,m=a.overrideStyling,l=a.engagementCoreStyling,q=a.defaultLanguage,p=a.deviceContentLanguagesList,t=a.borderRadius,r=a.overlayColor,u=a.overlayFill,v=a.viewType,w=a.verticalPosition,x=a.horizontalPosition,
y=a.positionTopDelta,A=a.positionLeftDelta,N=a.backgroundColor,I=a.backgroundFill,R=a.height,X=a.width,ea=a.showContactMeMessage,ca=a.autoHeight,ba=a.showShadow,Z=a.showFooter,la=a.mergeFirstSteps,V=a.shadowSettings,fa=a.barPosition,ga=a.barOffset,ka=a.contactMeMessage,pa=a.footer,ha=a.minCharsValidationText,oa=a.maxCharsValidationText,na=a.mandatoryValidationText,wa=a.maxAnswersValidationText,qa=a.minAnswersValidationText,da=a.zIndex,W=a.steps,ta=a.surveyPages,sa=a.orientation,ya=a.timeout,Ka=a.delay,
db=a.lightThemeStyle,Ya=a.darkThemeStyle;a=a.cssLibraryStyle;p.sort();V=e(V,B);W=W.map(function(a){return k(a)});W.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0});ta=ta.map(function(a){var b=a.style;return{id:a.id,title:a.title,sequenceNumber:a.sequenceNumber,height:a.height,width:a.width,verticalPosition:a.verticalPosition,horizontalPosition:a.horizontalPosition,buttonSetting:n(a.buttonSetting),style:b}});return ta.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{id:b,contentType:d,
deviceType:g,coreStyling:h,overrideStyling:m,engagementCoreStyling:l,defaultLanguage:q,deviceContentLanguagesList:p,contentSubType:f,borderRadius:t,overlayColor:r,overlayFill:u,viewType:v,verticalPosition:w,horizontalPosition:x,positionTopDelta:y,positionLeftDelta:A,backgroundColor:N,backgroundFill:I,height:R,width:X,showContactMeMessage:ea,autoHeight:ca,showShadow:ba,showFooter:Z,mergeFirstSteps:la,shadowSettings:V,barPosition:fa,barOffset:ga,contactMeMessage:ka,footer:pa,minCharsValidationText:ha,
maxCharsValidationText:oa,mandatoryValidationText:na,maxAnswersValidationText:wa,minAnswersValidationText:qa,zIndex:da,steps:W,surveyPages:ta,orientation:sa,timeout:ya,delay:Ka,lightThemeStyle:db,darkThemeStyle:Ya,cssLibraryStyle:a}}Object.defineProperty(a,"__esModule",{value:!0});a.filterAndSortEngagementFieldsV5=function(a){switch(a.contentType){case "IN_APP_DIALOG":var b=a.id,d=a.contentType,e=a.deviceType,g=a.coreStyling,h=a.overrideStyling,k=a.engagementCoreStyling,l=a.defaultLanguage,n=a.deviceContentLanguagesList,
q=a.htmlElements,p=a.htmlLangAddition,t=a.timeout,u=a.delay,v=a.lightThemeStyle,w=a.darkThemeStyle;a=a.cssLibraryStyle;return n.sort(),{id:b,contentType:d,deviceType:e,coreStyling:g,overrideStyling:h,engagementCoreStyling:k,defaultLanguage:l,deviceContentLanguagesList:n,htmlElements:q,htmlLangAddition:p,timeout:t,delay:u,lightThemeStyle:v,darkThemeStyle:w,cssLibraryStyle:a};case "IN_APP_GUIDE":return f(a);case "IN_APP_CAROUSEL":return r(a);case "IN_APP_BOOLEAN_SURVEY":case "IN_APP_SURVEY_NPS":case "IN_APP_CES_SURVEY":case "IN_APP_MULTIPLE_QUESTION_SURVEY":case "IN_APP_RATING_SURVEY":return m(a);
default:return a}};var e=b(25).filterProperties,g="arrowType color backgroundColor backgroundRadius horizontalOffset verticalOffset hidden lastSlideSettings".split(" "),d=["checkmarkType","color","backgroundColor"],h="id name state sequence backgroundType backgroundColor backgroundImage backgroundFill html height width autoHeight style".split(" "),v="id content matchCssSelector cssSelector matchTextRule textRule backgroundType backgroundColor backgroundFill height width positionHorizontal positionVertical positionTopDelta positionLeftDelta sequenceNumber type navigation autoHeight shadow shadowSettings overlay hotspotSettings showPreviousButton autoScroll showTitle titleHtml dialogViewType barPosition barOffset stickToBadge style zIndex repositionInterval".split(" "),
q=["operator","values"],w="labelColor backgroundFill backgroundColor backgroundRadius nextStepUrl nextStepNewTab nextStepTrigger useElementListener nextButtonAction previousButtonAction".split(" "),t=["color","fill","modal","padding","blockElement"],x="spotColor spotSize animationColor animationDelay animationDuration animationCount".split(" "),A=["name"],B="color fill offsetX offsetY blur spread".split(" "),y=["id","text","sequenceNumber"]},function(l,a,b){function n(a,b){var d=(0,y.getChannel)(k.eventTrackData[q.cacheGet](k.productIdParameter));
!a.isAutoHeight&&a.height?(b.style.height=a.height+"px",b.querySelector(".apt-dialog-content-wrapper").style.height=a.height+"px"):a.isAutoHeight&&d!==c.DESKTOP_CHANNEL&&b.classList.add("apt-auto-height-scroll")}Object.defineProperty(a,"__esModule",{value:!0});var f=b(0);l=(l=b(38))&&l.__esModule?l:{"default":l};var r=b(9),p=b(30),u=b(13),k=b(4),m=b(17),e=b(7),g=b(10),d=b(32),h=b(2),v=b(27),q=b(8),w=b(16),t=w&&w.__esModule?w:{"default":w},x=b(1),A=b(11),B=b(67),y=b(21),c=b(6),E=b(18),z=b(23),J=b(19),
G=b(26),C=b(37);C.defaultOptions.className="vex-theme-os";var O=new l["default"],D=null,F=void 0;a["default"]=function(){function a(b,d,e){if(!t["default"].isEditorMode()){var g=x.trackMultiStepEndpoint,h=[],l=G.UserData.getSessionId();!0!==K[l]&&(2===d&&(K[l]=!0),h=(0,f.addParameters)(k.eventTrackData[q.cacheGetAll](),h),(0,f.addParameters)({ei:b.engagementId||null,ecoi:b.content.id||null,evi:b.matchEventId||null,ent:1,ems:d||null,acci:b.accountId,exi:b.executionId,ext:b.executionTimestamp,at:b.activationType||
"a",cl:b.contentLocale},h),e&&"kc"===b.activationType&&(0,f.addParameters)(e,h),d=(0,z.getGlobalContext)(),e=(0,y.getChannel)(k.eventTrackData[q.cacheGet](k.productIdParameter)),l=void 0,d&&(l={gcx:JSON.stringify(d)},e!==c.DESKTOP_CHANNEL&&(0,f.addParameters)(l,h)),h=(0,f.addParameters)((0,J.getWebContext)(),h),e===c.DESKTOP_CHANNEL?(0,m.desktopTrackEngagementState)(h,l):(g+="?"+(0,f.convert2Parameters)(h),u.AjaxUtil.getData(g)),A.internalEventListener.dispatchEvent("engagementCompleted",(0,m.getExternalEvent)(b,
"Completed")))}}function b(a,c){(0,y.isDesktop)()&&(0,m.addLinkListenerForDesktop)(a,c,null,0)}function l(a,b,c){var d=a&&a.contentBackground;d&&(b.style.backgroundColor=a.contentBackground);d&&a.backgroundFill&&(b.style.backgroundColor=(0,f.hexToRgba)(a.contentBackground,a.backgroundFill/100),(0,f.checkDarkColor)(a.contentBackground)&&c&&b.querySelector(".aptr-engagement-close-btn").classList.add("apt-engagement-close-btn-bright"))}function w(a,b){return function(){try{if(a.closingAction&&"REDIRECT"===
a.closingAction&&a.closeUrl)if((0,y.isDesktop)())A.internalEventListener.dispatchEvent("engagementLinkClick",{engagementType:b.content.contentType,engagementId:b.engagementId,link:a.closeUrl,close:!0});else{var c=(0,d.resolveUrlWithPlaceholders)(document.location.href,a.closeUrl);c!==document.location.href&&(document.location.href=c)}}catch(e){h.logger.logInternalError(e,"Error in dialog close handler")}}}function H(c,d,k,q,z,A){var G=(0,f.getEscHandlerCallback)(w(c,k)),E=void 0,J=void 0,H={appendLocation:(0,
x.getConfig)("framesetMode")?"html":"body",enableModalBodyScroll:(0,x.getConfig)("enableModalBodyScroll"),closeClassName:"aptr-engagement-close-btn px-close-button",unsafeContent:d.outerHTML,overlayClosesOnClick:!1,showCloseButton:!0,afterClose:function(){(0,x.getBody)().classList.remove("apt-vex");clearTimeout(J);E&&clearTimeout(E);var a={engagementId:k.engagementId};(0,v.internalApt)("engagementCompletedClosed",a);(0,m.removeCicularTabsWrapperListener)(F);(0,p.sendEngagementClosedEvent)()},beforeClose:function(){try{(0,
f.removeEventListener)(document,"keydown",G),(0,p.handleEngagementFinish)("IN_APP_DIALOG")}catch(a){h.logger.logInternalError(a,"Error before close dialog")}},afterOpen:function(){var d=this;if((0,x.getConfig)("enableModalBodyScroll")&&(0,x.getBody)().classList.add("apt-vex"),this.rootEl.classList.add("apt-vex"),this.contentEl.classList.add("apt-dialog-popup"),this.contentEl.classList.add("px-engagement-wrapper-dialog"),this.contentEl.classList.add("px-engagement-wrapper"),(0,e.addStyleTag)(this.contentEl,
k.content.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os"),(0,e.addStyleTag)(this.contentEl,k.content.engagementCoreStyling,"px-engagement-wrapper-dialog",".apt-vex.vex.vex-theme-os"),(0,e.addStyleTag)(this.contentEl,k.content.overrideStyling,"px-engagement-wrapper-dialog",".apt-vex.vex.vex-theme-os"),this.contentEl.setAttribute("data-apt-disable-selector",!0),n(c,this.contentEl),0<c.zIndex&&(this.rootEl.style.zIndex=c.zIndex,this.overlayEl.style.zIndex=c.zIndex,this.contentEl.style.zIndex=
c.zIndex),"BAR"===c.viewType){this.contentEl.style.position="fixed";this.contentEl.classList.add("apt-dialog-bar");this.contentEl.style.width=(0,y.isDesktop)()?"100%":(0,r.getPageWidth)()+"px";var h=(c.barOffset||0)+"px";"TOP"===c.barPosition?this.contentEl.style.top=h:this.contentEl.style.bottom=h}else{c.width&&(this.contentEl.style.width=c.width+"px");c.isFitToWidth&&(this.contentEl.style.height=(0,r.getPageHeight)(),this.contentEl.style.width=(0,r.getPageWidth)());var h=c.hPosition,p=c.vPosition;
h||(h="center");p&&"middle"!==p||(p="center");this.contentEl.style.position="absolute";!0===(0,x.getConfig)("disableEngagementReposition")?(this.contentEl.style.position="fixed",this.contentEl.style.top=0,this.contentEl.style.left=0):O.positionElement(this.contentEl,null,h,p);/^\d+$/.test(h)&&(this.contentEl.style.left=h+"px");/^\d+$/.test(p)&&(this.contentEl.style.top=p+"px")}c.overlayColor&&(this.overlayEl.style.background=(0,f.hexToRgba)(c.overlayColor,c.overlayFill?c.overlayFill/100:0));(!c.overlayFill||
1>c.overlayFill)&&this.rootEl.classList.add("apt-popup-disable-overlay");l(c,this.contentEl,!0);h=(0,g.arrayFrom)(this.contentEl.querySelectorAll("a"));if((0,f.isNotEmptyArr)(h))for(p=0;p<h.length;p++)"_blank"!==h[p].target&&(0,f.addEventListener)(h[p],"click",function(){D.close()});var h=(0,g.arrayFrom)(this.contentEl.querySelectorAll("button")),t=A&&A.recId?A.recId:null;(0,f.isNotEmptyArr)(h)&&h.forEach(function(a){(0,f.addEventListener)(a,"click",function(){var a=(0,m.getEngagementTrackPayload)(k,
"ENGAGEMENT_CLICK"),a=(0,f.addParameters)({recId:t||null},a),a=x.engagementTrackEndpoint+"?"+(0,f.convert2Parameters)(a);u.AjaxUtil.getData(a,null,null,null,!0)})});(0,m.removeCicularTabsWrapperListener)(F);(0,m.checkHasOverlay)(c.overlayColor,c.overlayFill)&&(F=(0,m.addCircularTabListener)(function(){return(0,e.focusElement)(d.contentEl)}));(0,f.addEventListener)(document,"keydown",G);(0,f.addEventListener)(this.closeEl,"click",w(c,k));c.borderRadius&&"DIALOG"===c.viewType&&(this.contentEl.style.borderRadius=
c.borderRadius+"px");a(k,2);(0,m.listenToLinksClicks)(this.rootEl,k);h=this.contentEl.getBoundingClientRect();(0,m.sendDesktopEngagementSizeEvent)("engagementPostRender",h,k,c);q&&q(k,this.contentEl);(0,m.sendDesktopResize)(this.contentEl,k,{height:c.height,width:c.width,autoHeight:c.isAutoHeight});b(this.contentEl,k)}},K=c.timeout?c.timeout*f.MILLISEC:0,J=setTimeout(function(){var a={url:(0,f.getPageUrl)()};if(!1===z&&!t["default"].isPreview()&&!(0,f.isBlank)(k.rules)&&!(0,B.matchMultiTypeRules)(JSON.parse(k.rules),
a))return h.logger.log("did not have client side match for engagement rules "+k.rules+", current URL: "+a),void(0,p.handleEngagementFinish)("IN_APP_DIALOG");D=C.open(H);0<K&&(E=setTimeout(function(){C.close(D)},K))},c.delay?c.delay*f.MILLISEC:0)}function U(b,c,d){var g=b.embeddedSelector,k=(0,E.findElementsInShadowDom)(g,document);if(1!==k.length)return void h.logger.log("Could not embed Dialog "+d.engagementId+". There were "+k.length+" elements with selector "+g+". Should have only 1.");var q=k[0];
(k=q.querySelector(".apt-dialog-content-wrapper"))&&q.removeChild(k);q.appendChild(c);c.classList.add("px-engagement-wrapper");c.classList.add("px-engagement-wrapper-dialog");(0,e.addStyleTag)(c,d.content.coreStyling,g,void 0,!0);(0,e.addStyleTag)(c,d.content.engagementCoreStyling,g,void 0,!0);(0,e.addStyleTag)(c,d.content.overrideStyling,g,void 0,!0);n(b,q);q.style.width="BAR"===b.viewType?"100%":b.width+"px";q.style.position="relative";c.style.position="relative";l(b,c,!1);b=(0,f.createElement)("div",
"apt-embedded-close");(0,f.addEventListener)(b,"click",function(){q.removeChild(c);q.removeAttribute("style");(0,p.handleEngagementFinish)("IN_APP_DIALOG")});c.appendChild(b);a(d,2);(0,m.listenToLinksClicks)(c,d)}var K={};this.drawDialog=function(a,b,d,g){var h=a.content.htmlElements,k=a.content.settings,l=(0,f.createElement)("div","apt-dialog-content-wrapper");(0,e.isElement)(h)?(l.appendChild(h),h=l):(l.innerHTML=(0,e.addNonceToDomString)(h),h=l);(0,m.setTabIndexes)(h,c.TAB_INDEX_START);(0,m.addTabbableEnterListener)();
k.embedded?U(k,h,a):H(k,h,a,b,d,g)};this.close=function(){D&&D.close();(0,m.removeTabbableEnterListener)()}}},function(l,a,b){function n(a){var b=a.actionType;a=a.onNavigationNextAction;return b===q.URL_REDIRECTION||b===q.NAVIGATION&&a===q.URL_REDIRECTION}function f(a){switch(a.actionType){case q.URL_REDIRECTION:return(0,h.resolveUrlWithPlaceholders)(window.location.href,a.url);case t:return a.articleId?a.articleId:A;case q.NAVIGATION:return a.navigationType;case x:return a.attributeValue;default:throw Error("Action type not found");
}}function r(a,b,c,e){var g=e.steps.find(function(a){return a.id===c});e=(0,d.getEngagementTrackPayload)(e,"ENGAGEMENT_CLICK",c,g.sequenceNumber);g={actionIndex:b.sequenceNumber,actionValue:f(b)};a={cei:a,caet:(0,w.jsonStringify)([g])};return n(b)&&(a.ru=(0,h.resolveUrlWithPlaceholders)(window.location.href,b.url)),(0,u.addParameters)(a,e),k.engagementTrackEndpoint+"?"+(0,u.convert2Parameters)(e)}function p(a,b,c,d){var e=b.url;d.preview||(e=r(a,b,c,d));(0,v.redirect)(e,void 0,(0,v.canUseHistoryReplaceState)(),
b.openNewTab)}Object.defineProperty(a,"__esModule",{value:!0});a.setCustomButtonEventListener=void 0;var u=b(0),k=b(1),m=b(13),e=b(98),g=b(6),d=b(17),h=b(32),v=b(41),q=b(62),w=b(10),t="KC_BOT",x="USER_ATTRIBUTE",A="OPEN_BOT";a.setCustomButtonEventListener=function(a,b,c,d,f){b&&a.querySelectorAll('button[id^\x3d"pxCustomButton"]').forEach(function(a){var h=a.id.slice(q.CUSTOM_BUTTON_PREFIX_END_INDEX),k=b.find(function(a){return a.elementId===h});k&&k.actionConfigs&&k.actionConfigs.length&&(0,u.addEventListener)(a,
"click",function(){var a=n(k.actionConfigs[0]);d.preview||a||(a=r(k.elementId,k.actionConfigs[0],f,d),m.AjaxUtil.postData(a,null,null,null,null,!0));if(a=k.actionConfigs[0])switch(a.actionType){case q.URL_REDIRECTION:a.closeEngagement&&c.closeCallback();p(k.elementId,a,f,d,a.openNewTab);break;case t:a.articleId?(0,u.dispatchCustomEvent)(e.GAINSIGHT_PX_OPEN_ARTICLE,{articleId:a.articleId}):(0,u.dispatchCustomEvent)(e.GAINSIGHT_PX_OPEN_BOT);a.closeEngagement&&c.closeCallback();break;case q.NAVIGATION:var b=
k.elementId,l=c.customButtonNextCallback,v=c.closeCallback,w=c.showPreviousStepCallback,y=c.startOverGuideCallback,A=c.customButtonGoToStepCallback;switch(a.navigationType){case q.NEXT:l(a,h);break;case q.GO_TO_STEP:A(h);break;case "SKIP":v();break;case q.END:a.onNavigationNextAction===q.URL_REDIRECTION?p(b,a,f,d):v();break;case "PREVIOUS":w(a.useBrowsingHistory);break;case "START_OVER":y(a.useBrowsingHistory);break;default:throw Error("Navigation type not found");}break;case x:b=(0,u.dispatchCustomEvent);
l=g.SET_USER_ATTRIBUTE_EVENT_NAME;v={};w=a.attributeName;y=a.attributeValue;v=(w in v?Object.defineProperty(v,w,{value:y,enumerable:!0,configurable:!0,writable:!0}):v[w]=y,v);b(l,{userAttr:v});a.closeEngagement&&c.closeCallback();break;default:throw Error("Action type not found");}})})}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.updateTooltipAndHotspotStyle=function(a){var b=a.guideDrawerLocalVariables,l=a.elementData,p=a.guideSettings,u=a.stepSettings,k=a.engStyle,m=a.callback,
e=a.skipReposition;a=a.dontReposition;var g=b.dialog,d=b.currentStepSettings,h=b.setTooltipArrowPosition,b=b.setHotspotStyle;"TOOLTIP"===u.type?(this.updateDialogStyle({guideSettings:p,stepSettings:u,engStyle:k,elementData:l,dontReposition:a}),e&&h([u.position.positionHorizontal,u.position.positionVertical],g[0].contentEl,u.backgroundColor),d.backgroundColor=u.backgroundColor):"HOTSPOT"===u.type&&u.hotspotSettings&&b(u);e||this.changePositionWithFallback({elementData:l,stepSettings:u,callback:m})};
a.getDummyElementCenter=function(a){a=a.getBoundingClientRect();return{isDom:!1,isVisible:!0,elementRect:{left:a.width/2,top:a.height/2,width:1,height:1}}}},function(l,a,b){function n(a,b){var e={"apt-step-footer-buttons":"px-step-navigation-buttons","apt-step-footer-next":"px-step-navigation-next","apt-step-footer-button":"px-step-navigation-button","apt-step-footer":"px-step-navigation","apt-step-new-index":"px-step-new-index"};return a.querySelector(".px-step-navigation")?"."+e[b]:"."+b}Object.defineProperty(a,
"__esModule",{value:!0});a.getSelectorByVersion=void 0;var f=b(0),r=b(9),p=b(10),u=["DIALOG","TOOLTIP"];l=new function(){function a(b,e,g){var k=e.backgroundColor,m=e.backgroundFill,l=e.textColor,n=e.cornerRadius,p=e.hoverBackgroundColor,r=e.hoverBackgroundFill;e=e.hoverTextColor;var u=".px-step-navigation-"+g+":hover {",k=".px-step-navigation-"+g+" {"+("background-color: "+(-1<m?(0,f.hexToRgba)(k,m/100):k)+";"),u=u+("background-color: "+(-1<r?(0,f.hexToRgba)(p,r/100):p)+";"),k=k+("color: "+l+";"),
k=k+("border-radius: "+n+"px;"),k=k+"}",u=u+("color: "+e+";")+"}";(0,f.addStyle)(k+u,"px-step-navigation-"+g,b)}function b(a,e){var f=[];Array.from(a.classList).forEach(function(a){a.startsWith("px-brand-kit-button")&&f.push(a)});f.forEach(function(b){return a.classList.remove(b)});e&&(a.classList.add(e),Object.assign(a.style,{backgroundColor:"",color:"",borderRadius:"",padding:"",border:"",fontFamily:"",fontSize:"",lineHeight:"",fontStyle:"",fontWeight:"",textDecoration:""}))}function e(a){var e=
a.globalSettings,g=a.stepSettings,k=a.button,l=a.parentElement,n=a.id,p=a.isCustomThemed,p=(a=g.shouldOverrideGlobalSettings)||p?"":g.className||e.className;(b(k,p),p)||(a=a?g:e,null===a.backgroundFill||void 0===a.backgroundFill?k.style.backgroundColor=a.backgroundColor?a.backgroundColor:"#ffffff":k.style.backgroundColor=(0,f.hexToRgba)(a.backgroundColor?a.backgroundColor:"#ffffff",a.backgroundFill/100),k.style.color=a.textColor?a.textColor:"#000000",k.style.borderRadius=null===a.cornerRadius||void 0===
a.cornerRadius?"0px":a.cornerRadius+"px",a.buttonPaddingSettings&&(null===a.buttonPaddingSettings.top&&null===a.buttonPaddingSettings.bottom&&null===a.buttonPaddingSettings.left&&null===a.buttonPaddingSettings.right||(k.style.padding=(a.buttonPaddingSettings.top||0)+"px \n                "+(a.buttonPaddingSettings.right||0)+"px \n                "+(a.buttonPaddingSettings.bottom||0)+"px \n                "+(a.buttonPaddingSettings.left||0)+"px")),k.style.border=(a.borderWidth||0)+"px solid "+(a.borderColor||
"#000"),a.fontSettings&&(k.style.fontFamily="inherit"===a.fontSettings.fontFamily?"inherit":a.fontSettings.fontFamily+", Helvetica",k&&(k.style.fontSize=g&&g.shouldOverrideGlobalSettings&&g.fontSettings&&g.fontSettings.fontSize&&"0"!==g.fontSettings.fontSize?g.fontSettings.fontSize+"px":(e&&e.fontSettings&&e.fontSettings.fontSize||14)+"px"),k.style.lineHeight=a.fontSettings.fontSize+"px",k.style.fontStyle=a.fontSettings.itallic?"italic":"unset",k.style.fontWeight=a.fontSettings.bold?700:"unset",k.style.textDecoration=
a.fontSettings.underlined?"underline":"unset"),e=void 0,e=null===a.hoverBackgroundFill||void 0===a.hoverBackgroundFill?"unset"!==a.hoverBackgroundColor?a.hoverBackgroundColor:"":"unset"!==a.hoverBackgroundColor?(0,f.hexToRgba)(a.hoverBackgroundColor,a.hoverBackgroundFill/100):"",e="."+n+":hover {\n            color: "+("unset"!==a.hoverTextColor?a.hoverTextColor:"")+" !important;\n            background-color: "+e+" !important;\n            border: "+(a.borderWidth||0)+"px solid "+a.hoverBorderColor+
" !important;\n        }",(0,f.addStyle)(e,n,l))}var g=this;this.getFooterElement=function(a){return a.querySelector(n(a,"apt-step-footer"))};this.getNavigationButtons=function(a){return a.querySelector(n(a,"apt-step-footer-buttons"))};this.getStepCounter=function(a){return a.querySelector(n(a,"apt-step-new-index"))};this.setNavigationVisibility=function(a,b){var e=b||{},f=e.navigationButtons,e=e.stepIndexWrapper,f=f||g.getNavigationButtons(a),e=e||g.getStepCounter(a),k=g.getFooterElement(a);k&&f&&
("none"!==f.style.display||e&&""!==e.innerHTML?k.style.display="":k.style.display="none")};this.setButtonsVisibility=function(a,b){var e=g.getNavigationButtons(a);e&&(e.style.display=b?"":"none");g.setNavigationVisibility(a,{navigationButtons:e})};this.setCounterVisibility=function(a,b,e){var f=g.getStepCounter(a);f&&(b.show&&e?(f.classList.add("px-step-numbers"),f.innerHTML="\x3cdiv\x3e"+(b.label||" of ")+"\x3c/div\x3e",b.fontColor&&(f.style.color=b.fontColor),b.fontSize&&(f.style.fontSize=b.fontSize+
"px")):f.innerHTML="");g.setNavigationVisibility(a,{stepIndexWrapper:f})};this.addSkipButton=function(b,e,g,m,l,n,p,r){e.enabled&&(g=(0,f.createElement)("div",["px-step-navigation-button","px-step-navigation-skip"],{text:n||e.text||"Skip Tour"}),g.setAttribute("tabindex",r),g.setAttribute("role","button"),a(b,e,"skip"),p(g),(b.querySelector(".apt-step-footer-buttons")||b.querySelector(".px-step-navigation-buttons")).appendChild(g),m&&((0,f.addEventListener)(g,"click",l),(0,f.addEnterKeyDownListener)(g,
l)))};this.addSnoozeButton=function(b,e,g,m,l,n,p,r){e&&e.enabled&&(l=(0,f.createElement)("div",["px-step-navigation-button","px-step-navigation-snooze"],{text:l||e.text||"Show me later"}),r||(l.style.display="flex",l.style.alignItems="center",l.style.padding="5px"),l.setAttribute("tabindex",p),l.setAttribute("role","button"),a(b,e,"snooze"),n(l),b=b.querySelector(".apt-step-footer-buttons")||b.querySelector(".px-step-navigation-buttons"),b.insertBefore(l,b.firstChild),g&&((0,f.addEventListener)(l,
"click",m),(0,f.addEnterKeyDownListener)(l,m)))};this.toggleSnooze=function(b,e,f,m,l,n){var p=b.querySelector(".px-step-navigation-snooze");p?((0,r.applyStyle)(p,"display",e?"block":"none"),a(b,f,"snooze")):g.addSnoozeButton(b,f,!1,void 0,m,l,n)};this.toggle=function(b,e,f,m,l,n){var p=b.querySelector(".px-step-navigation-skip");p?((0,r.applyStyle)(p,"display",e?"block":"none"),a(b,f,"skip")):g.addSkipButton(b,f,void 0,!1,void 0,m,l,n)};this.populateNavigationFlags=function(a,b){var e=!1;return(0,
p.arrayFrom)(a,function(a){return"DIALOG"!==a.type||0!==a.sequenceNumber&&a.sequenceNumber!==b||(a.showStepCounter=a.showStepCounter||!1),!e&&-1<u.indexOf(a.type)?(e=!0,a.isFirstStepNonHotspot=!0):a.isFirstStepNonHotspot=!1,a})};this.setStepNavigationV2Style=function(a){var b=a.guideSettings,g=a.stepSettings,k=a.nextButton,m=a.prevButton,l=a.skipButtonDom,n=a.snoozeButtonDom,p=a.footerElement,r=a.stepPrevButtonStyleSettings,u=a.stepNextButtonStyleSettings,c=a.navigation;a=void 0;var E=!b.lightThemeStyle&&
!b.darkThemeStyle;b.navigationV2?(c=void 0,g.overrideFooterSettings?(c=g.footerPaddingSettings,a=g.buttonSpace):(c=b.footerPaddingSettings,a=b.buttonSpace),e({globalSettings:b.nextButton,stepSettings:u,button:k,parentElement:p,id:"px-step-navigation-next",isCustomThemed:E}),k.style.marginLeft=a+"px",l&&(e({globalSettings:b.skipButton,stepSettings:b.skipButton,button:l,parentElement:p,id:"px-step-navigation-skip",isCustomThemed:E}),l.style.marginLeft=a+"px"),e({globalSettings:b.backButton,stepSettings:r,
button:m,parentElement:p,id:"px-step-navigation-back",isCustomThemed:E}),c&&(null===c.top&&null===c.right&&null===c.bottom&&null===c.left||(p.style.padding=(c.top||0)+"px \n                                "+(c.right||0)+"px \n                                "+(c.bottom||0)+"px \n                                "+(c.left||0)+"px"))):(c.backgroundColor&&(m.style.backgroundColor=c.backgroundColor)&&(k.style.backgroundColor=c.backgroundColor),c.backgroundFill&&(m.style.backgroundColor=(0,f.hexToRgba)(c.backgroundColor,
c.backgroundFill/100))&&(k.style.backgroundColor=(0,f.hexToRgba)(c.backgroundColor,c.backgroundFill/100)),c.backgroundRadius&&(m.style.borderRadius=c.backgroundRadius+"px")&&(k.style.borderRadius=c.backgroundRadius+"px"),c.labelColor&&(m.style.color=c.labelColor)&&(k.style.color=c.labelColor));n&&(e({globalSettings:b.snoozeButton,stepSettings:b.snoozeButton,button:n,parentElement:p,id:"px-step-navigation-snooze",isCustomThemed:E}),void 0!==a&&null!==a&&(m.style.marginLeft=a+"px"),b.navigationV2||
(n.style.padding="5px"))}};a["default"]=l;a.getSelectorByVersion=n},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.hotspotEventHandler=void 0;var n=b(0),f=(l=b(20))&&l.__esModule?l:{"default":l};a.hotspotEventHandler=new function(){var a=this,b=void 0,l=void 0;this.addListener=function(k,m,e){a.removeListener();b=function(b){e(b);a.removeListener()};(l=k)&&(l.isDom&&l.element?((0,n.addEventListener)(l.element,"click",b),(0,n.addEventListener)(l.element,"contextmenu",b)):!l.isDom&&
l.iframeSource&&f["default"].addElementHandler(k.iframeSource,m,"ELEMENT_CLICK",b))};this.removeListener=function(){l&&b&&(l.element&&l.isDom?((0,n.removeEventListener)(l.element,"click",b),(0,n.removeEventListener)(l.element,"contextmenu",b)):!l.isDom&&l.iframeSource&&f["default"].removeElementHandlers(l.iframeSource));b=l=null}}},function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a){return(0,y.disableFocusOnClick)(a,ea)}function r(a,b,c){this.id=a;this.type=b;this.step=
c}Object.defineProperty(a,"__esModule",{value:!0});var p=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(k){e=!0,f=k}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();l=b(93);var u=n(l);l=b(38);l=n(l);var k=b(0),
m=b(88),e=n(m),g=b(13),d=b(4),h=b(8),m=b(16),v=n(m),q=b(30),m=b(87),w=n(m),m=b(92),t=n(m),m=b(90),x=n(m),m=b(91),A=n(m),B=b(10),y=b(7),c=b(2),E=b(27),z=b(1),J=b(103),G=b(11),C=b(17),O=b(19),m=b(94),D=n(m),F=b(21),Q=b(68),S=b(6),m=b(36),L=n(m),T=b(14),H=b(23),m=b(154),U=n(m),m=b(89),K=n(m),Y=b(46),P=b(151),N=b(28),I=b(37);I.defaultOptions.className="vex-theme-os";var R=new l["default"],X=void 0,ea=void 0,ca=null,ba=null,Z=null;a["default"]=function(a,b,m,l,n){function pa(a){var b=this;Qa=I.open(a);
0<za.timeout&&(pb=setTimeout(function(){b.close()},za.timeout*k.MILLISEC))}function ha(a){var c=this;b.activationType===S.ACTIVATION_TYPE_AUTOMATIC?0<za.delay?xb=setTimeout(function(){pa.apply(c,[a])},za.delay*k.MILLISEC):pa.apply(this,[a]):Qa=I.open(a)}function oa(){var a=Qa.contentEl.getBoundingClientRect();Z==a.width&&ba==a.height||("DIALOG"===ia.viewType&&!1===(0,z.getConfig)("disableEngagementReposition")&&R.positionElement(Qa.contentEl,null,ia.horizontalPosition,ia.verticalPosition,ia.positionTopDelta,
ia.positionLeftDelta),ba=a.height,Z=a.width,(0,C.sendDesktopEngagementSizeEvent)("engagementResize",a,b,b.content),gb&&gb(b,Qa.contentEl))}function na(){-1<P.valueStepTypes.indexOf(hb[fb].getSettings().type)&&wb++;fb+=1;wa(hb,fb,fb-1)}function wa(a,c,d){if(a[d].hide(),c>=a.length)return void Qa.close();d=a[c];Qa.contentEl.appendChild(d.render());Qa.contentEl.setAttribute("data-step-id",d.getSettings().id);Qa.contentEl.setAttribute("data-step-index",c+1);(0,C.removeCicularTabsWrapperListener)(X);(0,
C.checkHasOverlay)(ia.overlayColor,ia.overlayFill)&&(X=(0,C.addCircularTabListener)(a[c].focus));(0,y.focusElement)(ea);hb[fb].getSettings().type;setTimeout(function(){if(Qa){var a=Qa.contentEl.getBoundingClientRect();Z===a.width&&ba===a.height||(ba=a.height,Z=a.width,(0,C.sendDesktopEngagementSizeEvent)("engagementResize",a,b,b.content))}})}function qa(a,b){var c=(0,C.getBoxShadowString)(b);a.style.setProperty("filter","drop-shadow("+c+")");a.style.setProperty("-webkit-filter","drop-shadow("+c+")")}
function da(){if(!v["default"].isEditorMode()){var c=!1,e=!1,f=(0,B.arrayFrom)(ob,function(a){var b=a.step.getData();return void 0!==b.contactMeAllowed&&(c=b.contactMeAllowed),e=null!==b.selected,{stepId:a.id,score:b.selected,comment:b.comment,questionType:a.type,labels:b.labels||[]}});if(e){var m=(0,k.addParameters)(d.eventTrackData[h.cacheGetAll](),[]);b.accountId&&(m=(0,k.addParameters)({acci:b.accountId},m));m=(0,k.addParameters)({exi:b.executionId,ext:b.executionTimestamp,at:b.activationType||
"a",cl:b.contentLocale},m);m=(0,k.addParameters)((0,O.getWebContext)(),m);jb&&"kc"===b.activationType&&(0,k.addParameters)(jb,m);var m=(0,k.addParameters)((0,J.addFullStoryInfo)([]),m),l={ei:b.engagementId,ecoi:b.content.id,ent:b.content.contentType,contactMeAllowed:c,questions:f},n=(0,H.getGlobalContext)();(n&&Object.assign(l,{gcx:n}),Ba==S.DESKTOP_CHANNEL)?(m=(0,k.paramToObject)(m,{}),n=Q.eventCache.getKey("trackingPayload"),Object.assign(l,m,n||{}),g.AjaxUtil.postData(z.desktopEngagementTrackEndpoint+
"/survey",l,null,null,null,!0)):g.AjaxUtil.postData(z.surveySubmitUrl+"?"+(0,k.convert2Parameters)(m),l,null,null,null,!0);ib=tb=!0;f.forEach(function(c){return G.internalEventListener.dispatchEvent("surveyResponded",(0,C.toExternalEventSurvey)(b,"Responded",a,c))});G.internalEventListener.dispatchEvent("engagementCompleted",(0,C.toExternalEventSurvey)(b,"Completed"))}}}function W(){na();da();ib=tb=!0}function ta(a,c,d){var e=!1;switch(void 0!==c.contactMeAllowed&&(e=c.contactMeAllowed),a.questionType){case "MULTIPLE_CHOICE_QUESTION":a.selectionIds=
c.choices;break;case "OPEN_TEXT":a.comment=c.comment;break;case "DYNAMIC_RATING_STEP":Object.assign(a,{questionType:"SCORE",score:c.selected,comment:c.comment,labels:c.labels||[]});break;case "CONTENT":break;default:throw Error("Survey type not supported");}c={ei:b.engagementId,ecoi:b.content.id,ent:b.content.contentType,lastStep:d,contactMeAllowed:e};"CONTENT"!==a.questionType&&(c.questions=[a]);a=(0,H.getGlobalContext)();return a&&Object.assign(c,{gcx:a}),c}function sa(){var a=(0,k.addParameters)(d.eventTrackData[h.cacheGetAll](),
[]);b.accountId&&(a=(0,k.addParameters)({acci:b.accountId},a));a=(0,k.addParameters)((0,J.addFullStoryInfo)([]),a);a=(0,k.addParameters)({exi:b.executionId,ext:b.executionTimestamp,at:b.activationType||"a",cl:b.contentLocale},a);(0,k.addParameters)((0,O.getWebContext)(),a);return jb&&"kc"===b.activationType&&(0,k.addParameters)(jb,a),Object.assign(a)}function ya(){var a=ob[wb],c=ob.length===wb+1;if(ib=c,na(),!v["default"].isEditorMode()){var d={stepId:a.id,questionType:a.type},e=a.step.getData(),
a=sa(),d=ta(d,e,c);Ba==S.DESKTOP_CHANNEL?(a=(0,k.paramToObject)(a,{}),e=Q.eventCache.getKey("trackingPayload"),Object.assign(d,a,e||{}),g.AjaxUtil.postData(z.desktopEngagementTrackEndpoint+"/survey/step",d,null,null,null,!0)):g.AjaxUtil.postData(z.trackSingleStepEndpoint+"?"+(0,k.convert2Parameters)(a),d,null,null,null,!0);c&&G.internalEventListener.dispatchEvent("engagementCompleted",(0,C.toExternalEventSurvey)(b,"Completed"))}}function Ka(){for(var a=void 0,b=0;b<va.length;b++)if(a=va.length-1-
b,!va[a].isContentPage())return void(Ua=a)}function db(a){var c=z.trackMultiStepEndpoint;if(!0!==ib){2===a&&(ib=!0);var d=sa();(0,k.addParameters)({ei:b.engagementId||null,ecoi:b.content.id||null,ems:a||null,evi:b.matchEventId||null,ent:P.contentTypeEnumMap[b.content.contentType]||null,cl:b.contentLocale},d);(a=(0,H.getGlobalContext)())&&(0,k.addParameters)({gcx:JSON.stringify(a)},d);d=(0,k.addParameters)((0,O.getWebContext)(),d);c+="?"+(0,k.convert2Parameters)(d);g.AjaxUtil.getData(c)}}function Ya(a){return a.steps.reduce(function(a,
b){var c=b.getSettings(),d=b.getData();return d.choices?a[c.id]=d.choices:d.selected&&(a[c.id]=[d.selected]),a},{})}function Aa(){try{var a=JSON.parse(l[Ea].nextStepCondition),b=va[Ea];0===a.stepConditionSet.length&&a.defaultConditionAction.type===P.CLOSE_ACTION&&"END_SURVEY"===a.defaultConditionAction.value&&ia.showContactMeMessage?b.setShowContactMe(ia.showContactMeMessage):b.setShowContactMe(!1)}catch(d){c.logger.log("setShowContactMeForCurrentPage - error in parsing nextStepCondition "+d)}}function $a(a,
b){var d=void 0;try{var e=JSON.parse(a);if(e){var f=b.isContentPage()?[]:Ya(b.getData()),g=(0,Y.evaluateStepConditionFilterForSurvey)(e,f),h=g.value,k=g.type,e=Ea;if(k===P.GO_TO_STEP_ACTION){Ea=ab[h];Aa();wa(va,Ea,e);var m=va[e].getData().steps,l=m[m.length-1].getStepNumber();va[Ea].updateQuestionsNumbers(l+1)}else k===P.CLOSE_ACTION&&wa(va,va.length+1,e);d=k}}catch(n){c.logger.log("Error in parsing nextStepCondition "+n)}return d}function La(a,b,c){a=a.getSettings();return{step:{stepId:a.id,questionType:a.type},
stepData:Object.assign({},c,{contactMeAllowed:b.contactMeAllowed})}}function Pa(a){var c=b.content.surveyVersion;b.content.viewType===S.VIEW_TYPE_BAR&&(0===c?a.classList.add("apt-container-bar-and-combine-old"):(c=b.content.autoHeight,a.classList.add("apt-container-bar-and-combine"),c||a.classList.add("apt-none-auto-height")))}function Sa(){var a=Ea,c=va[Ea],d=void 0,e=l[a].nextStepCondition;e?d=$a(e,c):(Ea+=1,wa(va,Ea,Ea-1));var f=va.length===Ea+1;if(ib=f,!v["default"].isEditorMode()){var e=sa(),
h=[],m=c.getData(),c=c.isContentPage();c&&d!==P.CLOSE_ACTION||(a=c&&d===P.CLOSE_ACTION||Ua===a,(e=(0,k.addParameters)({lqsp:a},e),c&&d===P.CLOSE_ACTION)?(d=La(m.steps[0],m,{}),d=ta(d.step,d.stepData,f),g.AjaxUtil.postData(z.trackSurveyCompleteEndpoint+"?"+(0,k.convert2Parameters)(e),d,null,null,null,!0)):(m.steps.forEach(function(a){a=La(a,m,a.getData());a=ta(a.step,a.stepData,f);h.push(a)}),g.AjaxUtil.postData(z.trackSinglePageEndpoint+"?"+(0,k.convert2Parameters)(e),h,null,null,null,!0)),f&&G.internalEventListener.dispatchEvent("engagementCompleted",
(0,C.toExternalEventSurvey)(b,"Completed")))}}function Ta(){Qa.close()}function Ra(a,b){return a.sequenceNumber-b.sequenceNumber}function aa(a,b,c,d,e){e=e||b.type;var f=D["default"].SanitizeHtml(a.getHtml());if(f.isValid){if(ob.push(new r(b.id,e,a)),hb.push(a),d)return++c}else Ga.push(f.errors);return c}var ua=this;l=l||[];var za=b.content,Ba=(0,F.getChannel)(d.eventTrackData[h.cacheGet](d.productIdParameter)),va=[],Ua=void 0,ab={},Ga=void 0,eb=void 0,Ea=0,fb=0,wb=0,ia={},ob=[],hb=[],tb=!1,ib=!1,
Qa=null,gb=null,jb=n,xb=null,pb=null;!function(a){Object.entries(a).forEach(function(a){var b=p(a,2);a=b[0];b=b[1];-1<P.knownSettings.indexOf(a)&&(ia[a]=b)});ia.horizontalPosition||(ia.horizontalPosition="center");ia.verticalPosition||(ia.verticalPosition="center")}(b.content);this.render=function(g){gb=g;m.sort(Ra);l.sort(Ra).forEach(function(c,d){ab[c.id]=c.sequenceNumber;c.isLast=d===l.length-1;c.showContactMeMessage=c.isLast&&ia.showContactMeMessage;c.contactMeMessage=ia.contactMeMessage;c.orientation=
za.orientation;c.mergeFirstSteps=ia.mergeFirstSteps;c.snoozeButton=za.snoozeButton;c.surveyType=a;c.activationType=b.activationType;c.activationTypes=b.activationTypes;c.survey=b;va.push(new U["default"](c,Sa,y.disableFocusOnClick))});g=1;Ga=[];eb=[];for(var h=void 0,n=0;n<m.length;n++)switch(h=Object.assign({},m[n]),h.isLast=n===m.length-1||n===m.length-2&&"CONTENT"===m[n+1].type&&"IN_APP_MULTIPLE_QUESTION_SURVEY"!==a,h.showContactMeMessage=(h.isLast||n===m.length-2&&"CONTENT"===m[n+1].type&&"IN_APP_MULTIPLE_QUESTION_SURVEY"===
a)&&ia.showContactMeMessage,h.contactMeMessage=ia.contactMeMessage,h.minCharsValidationText=ia.minCharsValidationText,h.maxCharsValidationText=ia.maxCharsValidationText,h.mandatoryValidationText=ia.mandatoryValidationText,h.minAnswersValidationText=ia.minAnswersValidationText,h.maxAnswersValidationText=ia.maxAnswersValidationText,h.viewType=ia.viewType,h.showFooter=ia.showFooter,h.footer=ia.footer,h.mergeFirstSteps=ia.mergeFirstSteps,h.orientation=za.orientation,h.snoozeButton=za.snoozeButton,h.surveyType=
a,h.activationType=b.activationType,h.activationTypes=b.activationTypes,h.survey=b,m[n].type){case "CONTENT":(0,N.replaceContentStepImagesDomain)(m[n]);var p=new e["default"](m[n].html,h,n<m.length-1?na:Ta,f),h=D["default"].SanitizeHtml(p.getHtml());h.isValid?hb.push(p):(Ga.push(h.errors),eb.push(h.errorTypes));break;case "SCORE":p=void 0;switch((0,N.replaceScoreSurveyImagesDomain)(h),a){case "IN_APP_SURVEY_NPS":h.numberOfButtons=11;h.initialButtonIndex=0;p=new u["default"](h,W,f);break;case "IN_APP_CES_SURVEY":h.numberOfButtons=
7;h.initialButtonIndex=1;p=new u["default"](h,W,f);break;case "IN_APP_RATING_SURVEY":"SMILEY"===h.surveyScoreType?h.numberOfButtons=3:h.numberOfButtons=5,h.initialButtonIndex=1,p=new t["default"](h,W,f)}aa(p,h,g);break;case "BOOLEAN":(0,N.replaceBooleanImagesDomain)(h);aa(new w["default"](h,W,f),h,g,!1,"SCORE");break;case "MULTIPLE_CHOICE_QUESTION":(0,N.replaceMultiChoiceImagesDomain)(h);g=aa(new x["default"](h,ya,g,f),h,g,!0);break;case "OPEN_TEXT":(0,N.replaceOpenTextImagesDomain)(h);g=aa(new A["default"](h,
ya,g,f),h,g,!0);break;case "DYNAMIC_RATING_STEP":(0,N.replaceDynamicRangeImagesDomain)(h),g=aa(new K["default"](h,g),h,g,!0)}if(0<Ga.length)return{isValid:!1,errors:Ga};if(0<va.length){hb.forEach(function(a){var b=a.getSettings();va[ab[b.surveyPageId]].addStep(a)});Ka();va[Ua].setShowContactMe(ia.showContactMeMessage);for(g=Ua+1;g<va.length;g++)va[g].setShowContactMe(!1);Aa()}g={appendLocation:(0,z.getConfig)("framesetMode")?"html":"body",enableModalBodyScroll:(0,z.getConfig)("enableModalBodyScroll"),
closeClassName:"aptr-engagement-close-btn px-close-button",overlayClosesOnClick:!1,showCloseButton:!0,afterOpen:function(){var c=this;(0,z.getConfig)("enableModalBodyScroll")&&(0,z.getBody)().classList.add("apt-vex");this.rootEl.classList.add("apt-vex");this.contentEl.classList.add("apt-survey-popup");this.closeEl.setAttribute("aria-label","exit survey");ea=this.contentEl;this.rootEl.setAttribute("data-apt-ignore-visible",!0);this.contentEl.setAttribute("data-apt-disable-selector",!0);this.rootEl.classList.add("apt-popup-disable-overlay");
this.contentEl.classList.add("apt-popup-content-disable-overlay");this.contentEl.classList.add("apt-engagement-wrapper-survey");this.contentEl.classList.add("apt-engagement-wrapper");this.contentEl.classList.add("px-engagement-wrapper-survey");this.contentEl.classList.add("px-engagement-wrapper");(ia.zIndex||ia.zindex)&&(this.rootEl.style.zIndex=ia.zindex||ia.zIndex,this.contentEl.style.zIndex=ia.zindex||ia.zIndex,this.overlayEl.style.zIndex=ia.zindex||ia.zIndex);(0,y.addStyleTag)(this.contentEl,
ia.coreStyling,"px-engagement-wrapper",".apt-vex.vex.vex-theme-os");(0,y.addStyleTag)(this.contentEl,ia.engagementCoreStyling,"px-engagement-wrapper-survey",".apt-vex.vex.vex-theme-os");(0,y.addStyleTag)(this.contentEl,ia.overrideStyling,"px-engagement-wrapper-survey",".apt-vex.vex.vex-theme-os");Array.isArray(b.content.steps)&&b.content.steps.forEach(function(a){a.style&&(0,y.addStyleTag)(c.contentEl,a.style,"px-engagement-wrapper-survey #step-"+a.id,".apt-vex.vex.vex-theme-os")});Array.isArray(l)&&
l.forEach(function(a){a.style&&(0,y.addStyleTag)(c.contentEl,a.style,"px-engagement-wrapper-survey #page-"+a.id,".apt-vex.vex.vex-theme-os")});var d="MULTIPLE_QUESTION_PER_PAGE"===za.contentSubType?va:hb,e=d[0].render(Ta);(this.contentEl.appendChild(e),this.contentEl.setAttribute("data-step-id",d[0].getSettings().id),this.contentEl.setAttribute("data-step-index",1),ia.autoHeight||(this.contentEl.style.height=ia.height+"px"),"DIALOG"===ia.viewType)?(this.contentEl.style.width=ia.width+"px",Ba===S.DESKTOP_CHANNEL||
!0===(0,z.getConfig)("disableEngagementReposition")?(this.contentEl.style.position="fixed",this.contentEl.style.top=0,this.contentEl.style.left=0):R.positionElement(this.contentEl,null,ia.horizontalPosition,ia.verticalPosition,ia.positionTopDelta,ia.positionLeftDelta)):(this.contentEl.classList.add("apt-survey-bar"),this.contentEl.style.width="100%",this.contentEl.style.left="0px",e=(ia.barOffset||0)+"px","TOP"===ia.barPosition?this.contentEl.style.top=e:this.contentEl.style.bottom=e);-1<S.SCORE_SURVEY_TYPES.indexOf(a)&&
b.content.mergeFirstSteps&&Pa(this.contentEl);this.contentEl.style.background=(0,k.hexToRgba)(ia.backgroundColor,ia.backgroundFill?ia.backgroundFill/100:1);"DIALOG"===ia.viewType&&(this.contentEl.style.borderRadius=ia.borderRadius+"px");e=this.rootEl.querySelector(".vex-overlay");ia.overlayFill&&0<ia.overlayFill&&(e.style.background=(0,k.hexToRgba)(ia.overlayColor,ia.overlayFill?ia.overlayFill/100:0),e.style.display="block");ia.showShadow&&qa(this.contentEl,ia.shadowSettings);(e=this.contentEl.querySelector(".aptr-engagement-close-btn"))&&
(0,k.addEventListener)(e,"click",function(){-1==P.onXSubmitSurveys.indexOf(a)||tb||null!==d[fb].getData().selected&&da()});e&&e.setAttribute("role","button");(0,C.removeCicularTabsWrapperListener)(X);(0,C.checkHasOverlay)(ia.overlayColor,ia.overlayFill)&&(X=(0,C.addCircularTabListener)(d[0].focus));(0,y.focusElement)(ea);L["default"].removeElementListener(ca);ca=T.UUIDGenerator.generateV4Id();L["default"].addPXElementObserver(ca,this.contentEl,oa);(0,z.getConfig)("clientSideEngagementTracking")&&
db(1);setTimeout(function(){var a=Qa.contentEl.getBoundingClientRect();(0,C.sendDesktopEngagementSizeEvent)("engagementPostRender",a,b,ia);gb&&gb(b,Qa.contentEl)},500)}};return g.beforeClose=function(){try{(0,z.getBody)().classList.remove("apt-vex"),(0,q.handleEngagementFinish)(b.content.contentType),Ba==S.DESKTOP_CHANNEL&&L["default"].removeElementListener(ca),(0,C.removeTabbableEnterListener)()}catch(a){c.logger.logInternalError(a,"Error in before close survey")}},g.afterClose=function(){try{setTimeout(function(){var a=
{engagementId:b.engagementId};ib?(0,E.internalApt)("engagementCompletedClosed",a):(0,E.internalApt)("engagementDroppedClosed",a)},500),clearTimeout(xb),clearTimeout(pb),pb=xb=null}catch(e){c.logger.logInternalError(e,"Error in after close survey")}["SURVEY_CLOSED","surveyClosed"].forEach(function(e){if(d.externalEventListeners[e])try{d.externalEventListeners[e]()}catch(f){c.logger.logInternalError(f,"Error calling "+e+" event listener")}G.internalEventListener.dispatchEvent(e,(0,C.toExternalEventSurvey)(b,
"Closed",a))});(0,C.removeCicularTabsWrapperListener)()},ha.apply(ua,[g]),{isValid:!0,errors:[]}};this.close=function(){Qa&&Qa.close()}}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.knownSettings="borderRadius overlayColor overlayFill viewType verticalPosition horizontalPosition positionTopDelta positionLeftDelta backgroundColor backgroundFill height width autoHeight showShadow shadowSettings barPosition showContactMeMessage coreStyling overrideStyling engagementCoreStyling contactMeMessage minCharsValidationText maxCharsValidationText mandatoryValidationText minAnswersValidationText maxAnswersValidationText footer showFooter mergeFirstSteps zIndex barOffset zindex".split(" ");
a.valueStepTypes=["SCORE","BOOLEAN","MULTIPLE_CHOICE_QUESTION","OPEN_TEXT"];a.contentTypeEnumMap={IN_APP_SURVEY_NPS:4,IN_APP_CES_SURVEY:5,IN_APP_BOOLEAN_SURVEY:6,IN_APP_RATING_SURVEY:7,IN_APP_MULTIPLE_QUESTION_SURVEY:8};a.CLOSE_ACTION="CLOSE";a.GO_TO_STEP_ACTION="GO_TO_STEP";a.onXSubmitSurveys=["IN_APP_SURVEY_NPS","IN_APP_CES_SURVEY","IN_APP_RATING_SURVEY","IN_APP_BOOLEAN_SURVEY"]},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a["default"]=function(){var a=null;this.draw=function(b,
l,u){var k=b.content;return a=new n["default"](k.contentType,b,k.steps,k.surveyPages,u),a.render(l)};this.close=function(){a&&a.close()}};var n=(l=b(150))&&l.__esModule?l:{"default":l}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=b(0),f=b(17);a["default"]=function(a){function b(a){l.style.color=a.textColor;l.style.borderColor=a.borderColor;l.style.backgroundColor=a.fillColor}var l=(0,n.createElement)("div",["px-survey-label"],{text:a.text});l.style.borderRadius=a.cornerRadius+
"px";l.setAttribute("role","button");l.setAttribute("aria-label",a.text);l.setAttribute(f.PX_TABBABLE_ATTR,"true");var k=!1,m={textColor:a.textColor,borderColor:a.borderColor,fillColor:a.fillColor},e={};e.borderColor=a.selectedBorderColor;e.textColor=a.selectedTextColor;e.fillColor=a.selectedFillColor;b(m);(0,n.addEventListener)(l,"click",function(){k=!k;b(k?e:m)});this.render=function(){return l};this.setTabIndex=function(a){l.setAttribute("tabindex",a)};this.isSelected=function(){return k};this.getText=
function(){return a.text};this.getId=function(){return a.id}}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=b(28),f=b(0),r=b(6),p=b(17),u=b(7);a["default"]=function(a,b,e){var g=this,d=void 0,h=void 0,l=r.TAB_INDEX_START,q=[];return this.addStep=function(a){q.push(a)},this.isValid=function(){var a=!0;return q.forEach(function(b){b.isValid()||(a=!1)}),a},this.submitSurvey=function(){g.isValid()&&b()},this.render=function(b){var m=(0,n.renderSurveyTitle)(a,a.title,["apt-survey-page-title-wrapper"],
["apt-survey-page-title"],a.sequenceNumber+1);l=(0,p.setTabIndexes)(m,l);var r=[m];q.forEach(function(a){"function"==typeof g.setTabIndex&&a.setTabIndex(l);var d=a.render(b);d.classList.add("apt-survey-step");r.push(d);l=a.getNextTabIndex()});h=(0,n.renderContactMeCheckBox)(a,l);l+=1;var m=(0,n.renderContactMe)(a,h),u=[],B=(0,n.showSnooze)(a,b,u);B&&(B.classList.add("page-snooze"),B.setAttribute("tabindex",l),l+=1);var y=a.buttonSetting;y.borderRadius=y.cornerRadius;y=(0,n.renderSubmitButton)(a.buttonSetting,
0,l);y.classList.add("page-submit");B&&(y.style.margin="unset");u.push(y);u=(0,f.createElement)("div","px-survey-page-footer",null,u);B=["apt-survey-page"];return"PORTRAIT"===a.orientation&&B.push("apt-orientation-portrait"),d=(0,f.createElement)("div",B,null,r.concat([m,u])),d.setAttribute("id","page-"+a.id),(0,f.addEnterKeyDownListener)(y,g.submitSurvey.bind(g)),(0,f.addEventListener)(y,"click",g.submitSurvey.bind(g)),e(y),d},this.focus=function(){var a=d.querySelector("[tabindex]");a?(0,u.focusElement)(a):
0<q.length&&q[0].focus()},this.hide=function(){d.style.display="none"},this.getData=function(){return{steps:q,contactMeAllowed:a.showContactMeMessage?h.checked:null}},this.isContentPage=function(){return 1===q.length&&q.some(function(a){return"CONTENT"===a.getSettings().type})},this.updateQuestionsNumbers=function(a){g.isContentPage()||q.forEach(function(b,d){b.updateStepNumber(a+d)})},this.setShowContactMe=function(b){a.showContactMeMessage=b},this.getSettings=function(){return a},this}},function(l,
a,b){Object.defineProperty(a,"__esModule",{value:!0});a.normalizeSelector=function(a){function b(){p&&(0<m.length&&/^[~+>]$/.test(m[m.length-1])&&m.push(" "),m.push(p))}var l,p,u,k,m=[],e=[0],g=0,d=/(?:[^\\]|(?:^|[^\\])(?:\\\\)+)$/,h=/^\s+$/,v=[/\s+|\/\*|["'>~+[(]/g,/\s+|\/\*|["'[\]()]/g,/\s+|\/\*|["'[\]()]/g,null,/\*\//g];for(a=a.trim();;){if(p="",u=v[e[e.length-1]],u.lastIndex=g,!(l=u.exec(a))){p=a.substr(g);b();break}if(k=g,g=u.lastIndex,k<g-l[0].length&&(p=a.substring(k,g-l[0].length)),3>e[e.length-
1]){if(b(),"["===l[0])e.push(1);else if("("===l[0])e.push(2);else if(/^["']$/.test(l[0]))e.push(3),v[3]=new RegExp(l[0],"g");else if("/*"===l[0])e.push(4);else if(/^[\])]$/.test(l[0])&&0<e.length)e.pop();else if(/^(?:\s+|[~+>])$/.test(l[0])&&(0<m.length&&!h.test(m[m.length-1])&&0===e[e.length-1]&&m.push(" "),1===e[e.length-1]&&5===m.length&&"\x3d"===m[2].charAt(m[2].length-1)&&(m[4]=" "+m[4]),h.test(l[0])))continue;m.push(l[0])}else m[m.length-1]+=p,d.test(m[m.length-1])&&(4===e[e.length-1]&&(2>m.length||
h.test(m[m.length-2])?m.pop():m[m.length-1]=" ",l[0]=""),e.pop()),m[m.length-1]+=l[0]}return m.join("").trim()}},function(l,a,b){function n(a,b,g){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;a=(0,k.normalizeSelector)(a);var h=g.querySelector(a);return document.head.createShadowRoot||document.head.attachShadow?!b&&h?h:r(a,",").reduce(function(a,h){if(!b&&a)return a;var k=r(h.replace(/^\s+/g,"").replace(/\s*([>+~]+)\s*/g,"$1")," ").filter(function(a){return!!a}).map(function(a){return r(a,
"\x3e")}),l=k.length-1,m=u(k[l][k[l].length-1],g,d),k=f(k,l,g);return b?a=a.concat(m.filter(k)):(a=m.find(k))||null},b?[]:null):b?g.querySelectorAll(a):h}function f(a,b,f){return function(d){for(var h=b,k=!1;d&&d.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&d.nodeType!==Node.DOCUMENT_NODE;){var l=!0;if(1===a[h].length)l=d.matches(a[h]);else{var n=[].concat(a[h]).reverse(),t=d,r=!0,u=!1,B=void 0;try{for(var y,c=n[Symbol.iterator]();!(r=(y=c.next()).done);r=!0){var E=y.value;if(!t||!t.matches(E)){l=!1;break}t=
p(t,f)}}catch(z){u=!0,B=z}finally{try{!r&&c["return"]&&c["return"]()}finally{if(u)throw B;}}}if(l&&0===h){k=!0;break}l&&h--;d=p(d,f)}return k}}function r(a,b){return a.match(/\\?.|^$/g).reduce(function(a,d){return'"'!==d||a.sQuote?"'"!==d||a.quote?a.quote||a.sQuote||d!==b?a.a[a.a.length-1]+=d:a.a.push(""):(a.sQuote^=1,a.a[a.a.length-1]+=d):(a.quote^=1,a.a[a.a.length-1]+=d),a},{a:[""]}).a}function p(a,b){var f=a.parentNode;return f&&f.host&&11===f.nodeType?f.host:f===b?null:f}function u(){var a=0<
arguments.length&&void 0!==arguments[0]?arguments[0]:null,b=arguments[1],f=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,d=[];f?d=f:(f=function v(a){for(var b=0;b<a.length;b++){var e=a[b];d.push(e);e.shadowRoot&&v(e.shadowRoot.querySelectorAll("*"))}},b.shadowRoot&&f(b.shadowRoot.querySelectorAll("*")),f(b.querySelectorAll("*")));return a?d.filter(function(b){return b.matches(a)}):d}Object.defineProperty(a,"__esModule",{value:!0});a.querySelectorAllDeep=function(a){return n(a,!0,1<arguments.length&&
void 0!==arguments[1]?arguments[1]:document,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};a.querySelectorDeep=function(a){return n(a,!1,1<arguments.length&&void 0!==arguments[1]?arguments[1]:document,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)};a.collectAllElementsDeep=u;var k=b(155)},function(l,a,b){l.exports=window},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.IntegrationMapper=void 0;var n=function(){function a(b,e){for(var f=0;f<e.length;f++){var d=
e[f];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}return function(b,e,f){return e&&a(b.prototype,e),f&&a(b,f),b}}(),f=b(2),r=b(0),p=b(122).assign,u=b(123);a.IntegrationMapper=function(){function a(b,e,f){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.initialUserObj=b;this.initialAccountObj=e;this.integrationContext=f;this.mappedAccountObj=this.mappedUserObj=null}return n(a,[{key:"mapData",value:function(){var a=
!1;switch(this.integrationContext.name){case "aptrinsic-segment":this._mapSegment();a=!0;break;default:f.logger.log("Ignoring unknown integration "+this.integrationContext.name)}return a}},{key:"getUserObj",value:function(){return this.mappedUserObj}},{key:"getAccountObj",value:function(){return this.mappedAccountObj}},{key:"isSegmentGroupCall",value:function(){return"aptrinsic-segment"===this.integrationContext.name&&this.initialAccountObj&&this.initialAccountObj.anonymousId&&!(0,r.isBlank)(this.initialAccountObj.anonymousId())}},
{key:"_mapSegment",value:function(){0<=u(this.integrationContext.version,"1.0.0")&&this._mapSegmentV1()}},{key:"_mapSegmentV1",value:function(){var a=this.initialUserObj.traits(),b=this.initialUserObj.address(),f=p({},this.initialUserObj.traits());if(p(f,{id:this.initialUserObj.userId(),email:this.initialUserObj.email(),firstName:this.initialUserObj.firstName(),lastName:this.initialUserObj.lastName(),gender:this.initialUserObj.gender()&&this.initialUserObj.gender().toUpperCase(),title:a.title,phone:this.initialUserObj.phone(),
accountId:this.initialAccountObj.groupId()}),b&&p(f,{street:b.street,countryCode:b.country,stateCode:b.state,city:b.city,postalCode:b.postalCode}),a.company)a=a.company,p(f,{organization:a.name,organizationIndustry:a.industry,organizationEmployees:a.employee_count&&a.employee_count.toString()});a=null;this.initialAccountObj.groupId()&&(b=this.initialAccountObj.traits(),a=p({},b),a.id=this.initialAccountObj.groupId(),a.street=this.initialAccountObj.street(),a.city=this.initialAccountObj.city(),a.countryCode=
this.initialAccountObj.country(),a.postalCode=this.initialAccountObj.zip(),a.numberOfEmployees=parseInt(b.employees));this.mappedUserObj=f;this.mappedAccountObj=a}}]),a}()},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.filterKcContentV1=a.filterKcConfigV1=void 0;var n=b(10),f=b(25).filterProperties,r="enabled countArticle barBackgroundColor barFillColor barHeight barWidth textMessage textMessageColor textMessageFontSize progressValueType".split(" "),p="enabled backgroundColor textColor borderColor fontSize position".split(" "),
u="contentBackgroundColor headerColor textColor hoverTextColor selectedTabHighlightColor unselectedTabColor headerText headerTextColor headerIcon headerFont textFont tooltipTextColor tooltipBackgroundColor badgeColor badgeTextColor newEngagementIcon completedEngagementIcon inProgressEngagementIcon categoryHoverStripeColor categoryHoverBackgroundColor categoryHoverBackgroundFill categoryHoverArrowColor submitButtonColor searchResultsTitleColor searchResultsSummeryColor botPosition botPositionOffsetBottom widgetHeight feedbackHeaderText docsSearchHeaderText showSpeechBobble showEngagementsType showCategoryIcon showEngagementsCompletedIndicator showEngagementsInProgressIndicator showEngagementsNotViewedIndicator engagementsTypeColor engagementsNotViewedIndicatorColor engagementsInProgressIndicatorColor engagementsCompletedIndicatorColor categoryColor embedKCSettings showReadMore botPositionHorizontalOffset allowDismiss dismissButtonColor".split(" "),
k=["horizontalAlignment","verticalAlignment","positionSettings","elementSelector"],m=["positionVertical","positionHorizontal","positionTopDelta","positionLeftDelta"],e="cssSelector type unique matchCssSelector matchTextRule textRule".split(" "),g="openStateColor closedStateColor iconCloseColor openStateIcon closedStateIcon rightPadding bottomPadding iconOpenColor useImage draggable imageUrl".split(" "),d=["autoSuggestionType","suggestionText","completionText","backgroundColor","textColor"],h="id kcId propertyGroupId entryType linkUrl engagementId containingListType title description sequence absoluteTargetUrl sdkRule category articleTitleHtml articleBodyHtml articleAuthor articleDate articleProvider articlePropertyGroupId knowledgeBaseReferenceId".split(" "),
v=["id","name","subtitle","showBadge"];a.filterKcConfigV1=function(a){var b=a.kcId,h=a.subscriptionId,l=a.propertyGroupId,n=a.urlPattern,v=a.injectionType,y=a.badgeSettings,c=a.windowSettings,E=a.floatingButtonSettings,z=a.onBoardingSettings,J=a.includePatterns,G=a.excludePatterns,C=a.enableFeedback,O=a.enableOnBoarding,D=a.articleSearchEnabled,F=a.articleProvider,Q=a.articleProviderDomain,S=a.environments,L=a.name,T=a.description,H=a.contextualSearchSetting,U=a.contextualSearchTerm;a=f(a.progressBarSettings,
r);var y=f(y,p),c=f(c,u),K=f(c.embedKCSettings,k),Y=f(K.positionSettings,m),P=f(K.elementSelector,e),E=f(E,g),z=f(z,d);return K.positionSettings=Y,K.elementSelector=P,c.embedKCSettings=K,{kcId:b,subscriptionId:h,propertyGroupId:l,urlPattern:n,injectionType:v,progressBarSettings:a,badgeSettings:y,windowSettings:c,floatingButtonSettings:E,onBoardingSettings:z,includePatterns:J,excludePatterns:G,enableFeedback:C,enableOnBoarding:O,articleSearchEnabled:D,articleProvider:F,articleProviderDomain:Q,environments:S,
name:L,description:T,contextualSearchSetting:H,contextualSearchTerm:U}};a.filterKcContentV1=function(a){a=a.entries;if(!a)return null;a=(0,n.arrayFrom)(a,function(a){a=f(a,h);var b=f(a.category,v);return a.category=b,a});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{entries:a}}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.filterKcContentV2=a.filterKcConfigV2=void 0;var n=b(10),f=b(25).filterProperties,r="enabled countArticle barBackgroundColor barFillColor barHeight barWidth categoriesSectionTitle textMessage textMessageColor textMessageFontSize progressValueType".split(" "),
p="enabled backgroundColor textColor borderColor fontSize position".split(" "),u="id hideSingleTab onboardingIcon feedbackIcon knowledgeBaseIcon onboardingIconColor feedbackIconColor knowledgeBaseIconColor onboardingTabIndex feedbackTabIndex knowledgeBaseTabIndex".split(" "),k="contentBackgroundColor headerColor textColor hoverTextColor selectedTabHighlightColor unselectedTabColor headerText headerTextColor headerIcon headerFont textFont tooltipTextColor tooltipBackgroundColor badgeColor badgeTextColor newEngagementIcon completedEngagementIcon inProgressEngagementIcon categoryHoverStripeColor categoryHoverBackgroundColor categoryHoverBackgroundFill categoryHoverArrowColor submitButtonColor searchResultsTitleColor searchResultsSummeryColor botPosition botPositionOffsetBottom widgetHeight feedbackHeaderText docsSearchHeaderText showSpeechBobble showEngagementsType showCategoryIcon showEngagementsCompletedIndicator showEngagementsInProgressIndicator showEngagementsNotViewedIndicator engagementsTypeColor engagementsNotViewedIndicatorColor engagementsInProgressIndicatorColor engagementsCompletedIndicatorColor categoryColor embedKCSettings showReadMore botPositionHorizontalOffset allowDismiss dismissButtonColor enableOnboardingSearch knowledgeBaseSearchText".split(" "),
m=["horizontalAlignment","verticalAlignment","positionSettings","elementSelector"],e=["positionVertical","positionHorizontal","positionTopDelta","positionLeftDelta"],g="cssSelector type unique matchCssSelector matchTextRule textRule".split(" "),d="openStateColor closedStateColor iconCloseColor openStateIcon closedStateIcon rightPadding bottomPadding iconOpenColor useImage draggable imageUrl".split(" "),h=["autoSuggestionType","suggestionText","completionText","backgroundColor","textColor"],v="id kcId propertyGroupId entryType linkUrl engagementId containingListType title description sequence absoluteTargetUrl sdkRule category articleTitleHtml articleBodyHtml articleAuthor articleDate articleProvider articlePropertyGroupId knowledgeBaseReferenceId".split(" "),
q="guideRedirectMessage guideRedirectConfirmButton guideRedirectCancelButton feedbackDropdownIssue feedbackDropdownFeatureRequest feedbackDropdownGeneralFeedback feedbackDropdownOther feedbackSubjectPlaceholder feedbackDescriptionPlaceholder feedbackSubmitButtonLabel feedbackThankYouMessage feedbackLeaveAnotherMessage knowledgeBaseBlankSearchMessage knowledgeBaseNoResultMessage knowledgeBaseInputPlaceholder knowledgeBaseFailureMessage".split(" "),w=["id","name","subtitle","showBadge"];a.filterKcConfigV2=
function(a){var b=a.kcId,l=a.subscriptionId,n=a.propertyGroupId,v=a.urlPattern,c=a.injectionType,w=a.badgeSettings,z=a.tabsSettings,J=a.windowSettings,G=a.floatingButtonSettings,C=a.onBoardingSettings,O=a.includePatterns,D=a.excludePatterns,F=a.enableFeedback,Q=a.enableOnBoarding,S=a.articleSearchEnabled,L=a.articleProvider,T=a.articleProviderDomain,H=a.environments,U=a.name,K=a.description,Y=a.contextualSearchSetting,P=a.contextualSearchTerm,N=a.staticFields;a=f(a.progressBarSettings,r);var w=f(w,
p),z=f(z,u),N=f(N,q),J=f(J,k),I=f(J.embedKCSettings,m),R=f(I.positionSettings,e),X=f(I.elementSelector,g),G=f(G,d),C=f(C,h);return I.positionSettings=R,I.elementSelector=X,J.embedKCSettings=I,{kcId:b,subscriptionId:l,propertyGroupId:n,urlPattern:v,injectionType:c,progressBarSettings:a,badgeSettings:w,tabsSettings:z,windowSettings:J,floatingButtonSettings:G,onBoardingSettings:C,includePatterns:O,excludePatterns:D,enableFeedback:F,enableOnBoarding:Q,articleSearchEnabled:S,articleProvider:L,articleProviderDomain:T,
environments:H,name:U,description:K,contextualSearchSetting:Y,contextualSearchTerm:P,staticFields:N}};a.filterKcContentV2=function(a){a=a.entries;if(!a)return null;a=(0,n.arrayFrom)(a,function(a){a=f(a,v);var b=f(a.category,w);return a.category=b,a});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{entries:a}}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.filterKcContentV3=a.filterKcConfigV3=void 0;var n=b(10),f=b(25).filterProperties,r="enabled countArticle barBackgroundColor barFillColor barHeight barWidth categoriesSectionTitle textMessage textMessageColor textMessageFontSize progressValueType".split(" "),
p="enabled backgroundColor textColor borderColor fontSize position".split(" "),u="id hideSingleTab onboardingIcon feedbackIcon knowledgeBaseIcon onboardingIconColor feedbackIconColor knowledgeBaseIconColor onboardingTabIndex feedbackTabIndex knowledgeBaseTabIndex".split(" "),k="contentBackgroundColor headerColor textColor hoverTextColor selectedTabHighlightColor unselectedTabColor headerText headerTextColor headerIcon headerFont textFont tooltipTextColor tooltipBackgroundColor badgeColor badgeTextColor newEngagementIcon completedEngagementIcon inProgressEngagementIcon categoryHoverStripeColor categoryHoverBackgroundColor categoryHoverBackgroundFill categoryHoverArrowColor submitButtonColor searchResultsTitleColor searchResultsSummeryColor botPosition botPositionOffsetBottom widgetHeight feedbackHeaderText docsSearchHeaderText showSpeechBobble showEngagementsType showCategoryIcon showEngagementsCompletedIndicator showEngagementsInProgressIndicator showEngagementsNotViewedIndicator engagementsTypeColor engagementsNotViewedIndicatorColor engagementsInProgressIndicatorColor engagementsCompletedIndicatorColor categoryColor embedKCSettings showReadMore botPositionHorizontalOffset allowDismiss dismissButtonColor enableOnboardingSearch knowledgeBaseSearchText".split(" "),
m=["horizontalAlignment","verticalAlignment","positionSettings","elementSelector"],e=["positionVertical","positionHorizontal","positionTopDelta","positionLeftDelta"],g="cssSelector type unique matchCssSelector matchTextRule textRule".split(" "),d="openStateColor closedStateColor iconCloseColor openStateIcon closedStateIcon rightPadding bottomPadding iconOpenColor useImage draggable imageUrl".split(" "),h=["autoSuggestionType","suggestionText","completionText","backgroundColor","textColor"],v="id kcId propertyGroupId entryType linkUrl engagementId containingListType title description sequence absoluteTargetUrl sdkRule category articleTitleHtml articleBodyHtml articleAuthor articleDate articleProvider articlePropertyGroupId knowledgeBaseReferenceId".split(" "),
q="guideRedirectMessage guideRedirectConfirmButton guideRedirectCancelButton feedbackDropdownIssue feedbackDropdownFeatureRequest feedbackDropdownGeneralFeedback feedbackDropdownOther feedbackSubjectPlaceholder feedbackDescriptionPlaceholder feedbackSubmitButtonLabel feedbackThankYouMessage feedbackLeaveAnotherMessage knowledgeBaseBlankSearchMessage knowledgeBaseNoResultMessage knowledgeBaseInputPlaceholder knowledgeBaseFailureMessage".split(" "),w=["id","name","subtitle","showBadge"];a.filterKcConfigV3=
function(a){var b=a.kcId,l=a.subscriptionId,n=a.propertyGroupId,v=a.urlPattern,c=a.injectionType,w=a.badgeSettings,z=a.tabsSettings,J=a.windowSettings,G=a.floatingButtonSettings,C=a.onBoardingSettings,O=a.includePatterns,D=a.excludePatterns,F=a.enableFeedback,Q=a.enableOnBoarding,S=a.articleSearchEnabled,L=a.articleProvider,T=a.articleProviderDomain,H=a.environments,U=a.name,K=a.description,Y=a.contextualSearchSetting,P=a.contextualSearchTerm,N=a.staticFields;a=f(a.progressBarSettings,r);var w=f(w,
p),z=f(z,u),N=f(N,q),J=f(J,k),I=f(J.embedKCSettings,m),R=f(I.positionSettings,e),X=f(I.elementSelector,g),G=f(G,d),C=f(C,h);return I.positionSettings=R,I.elementSelector=X,J.embedKCSettings=I,{kcId:b,subscriptionId:l,propertyGroupId:n,urlPattern:v,injectionType:c,progressBarSettings:a,badgeSettings:w,tabsSettings:z,windowSettings:J,floatingButtonSettings:G,onBoardingSettings:C,includePatterns:O,excludePatterns:D,enableFeedback:F,enableOnBoarding:Q,articleSearchEnabled:S,articleProvider:L,articleProviderDomain:T,
environments:H,name:U,description:K,contextualSearchSetting:Y,contextualSearchTerm:P,staticFields:N}};a.filterKcContentV3=function(a){a=a.entries;if(!a)return null;a=(0,n.arrayFrom)(a,function(a){a=f(a,v);var b=f(a.category,w);return a.category=b,a});return a.sort(function(a,b){return a.id<b.id?-1:a.id>b.id?1:0}),{entries:a}}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.getGlobalContextMessage=function(a){return f.logger.log("SDK Posting global context to KC"),{type:r,globalContext:a}};
a.getUrlMessage=function(){return f.logger.log("SDK Posting current url to KC"),{type:p,url:(0,n.getPageUrl)()}};var n=b(0),f=b(2),r="APT_WIDGET_GLOBAL_CONTEXT",p="APT_WIDGET_URL"},function(l,a,b){function n(){this.getAttribute=function(){return"url"}}Object.defineProperty(a,"__esModule",{value:!0});var f=b(0);n.prototype.matchRules=function(a,b,l){return"all"===b?a.every(function(a){return(0,f.matchUrl)(a.value,l,"is"!==a.operator,"isNot"===a.operator)}):a.some(function(a){return(0,f.matchUrl)(a.value,
l,"is"!==a.operator,"isNot"===a.operator)})};l=new n;a["default"]=l},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a["default"]=function(a){function b(a){a&&(a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),e===a&&(e=a.next),g===a&&(g=a.prev),a.prev=null,a.next=null)}function l(a){a.prev=null;(a.next=e)&&(e.prev=a);e=a;g||(g=a)}var u="number"==typeof a&&0<a?a:n.DEFAULT_LRU_CAPACITY,k=0,m={},e=null,g=null;a={get:function(a){if(a=m[a])return b(a),l(a),a.value},set:function(a,
e){var f=m[a];f?(f.value=e,b(f),l(f)):(f={key:a,value:e,prev:null,next:null},m[a]=f,l(f),k+=1,k>u&&(f=g,b(f),f&&null!=f.key&&delete m[f.key],--k))}};return Object.defineProperty(a,"capacity",{value:u,enumerable:!0}),a};var n=b(6)},function(l,a,b){function n(){return{childEdges:[],values:[]}}Object.defineProperty(a,"__esModule",{value:!0});a["default"]=function(){function a(b,k,l){if(0===k.length)return void b.values.push(l);var e;a:{for(e=0;e<b.childEdges.length;e+=1){var g=b.childEdges[e],d;b:{d=
g.label;for(var h=Math.min(d.length,k.length),p=0;p<h;p+=1)if(d[p]!==k[p]){d=p;break b}d=h}if(0!==d){e={edge:g,prefixLength:d};break a}}e=null}if(e)return b=e.edge,g=e.prefixLength,g===b.label.length?l=void a(b.node,k.substring(g),l):(e=b.label,d=e.substring(0,g),h=e.substring(g),p=b.node,e=n(),b.label=d,b.node=e,e.childEdges.push({label:h,node:p}),k=k.substring(g),0===k.length?e.values.push(l):(b=n(),b.values.push(l),e.childEdges.push({label:k,node:b})),l=void 0),l;e=n();e.values.push(l);b.childEdges.push({label:k,
node:e})}function b(a,f,l){if(a.values.forEach(function(a){return l.push(a)}),0===f.length)return l;for(var e=0;e<a.childEdges.length;e+=1){var g=a.childEdges[e],d=g.label;if(0===f.indexOf(d))return b(g.node,f.substring(d.length),l)}return l}var l=n();return Object.freeze({insert:function(b,k){a(l,b,k)},collectByPrefix:function(a){return b(l,a,[])}})}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a["default"]=function(a,b){var l=new Set;return a.forEach(function(a){var n=!0;if(a.suffix&&
a.suffix.length){var k="/"===a.suffix.charAt(a.suffix.length-1);!(n=b.endsWith(a.suffix))&&k&&(n=a.suffix.substring(0,a.suffix.length-1),n=b.endsWith(n))}k=a.regex.test(b);n&&k&&l.add(a.mappedElementId)}),l}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.findIndex=function(a,b){for(var l=0;l<a.length;l++)if(b(a[l]))return l;return-1}},function(l,a,b){function n(a,b,e){var g=!1;return null===a?g=b:e===f?g=b||a:e===r&&(g=b&&a),g}Object.defineProperty(a,"__esModule",{value:!0});
a["default"]=function(a,b){var e=[],g=[],d=[];a[0]!==p&&(a=""+p+a+u);for(var h=-1,l="",q=0;q<a.length;q++){var w=a[q],t=e[e.length-1],x=w===u;if(w===p)h+=1,l=g,t=d,e.push(h),l.push(null),t.push(null),l="";else if(x){var A=e,x=g,w=d,l=b[l];A.pop();"boolean"==typeof l&&(x[t]=n(x[t],l,w[t]));l=A[A.length-1];void 0!==l&&(x[l]=n(x[l],x[t],w[l]));l=""}else" "===w?d[t]&&"boolean"==typeof b[l]&&(g[t]=n(g[t],b[l],d[t]),l=""):(x=(w+a[q+1]).toUpperCase()===f,A=(w+a[q+1]+a[q+2]).toUpperCase()===r,x||A?(w=d,l=
b[l],x=x?f:r,A=q,q=("boolean"==typeof l&&(g[t]=n(g[t],l,w[t])),w[t]=x,x===f?A+=1:x===r&&(A+=2),A),l=""):l+=w)}return g[0]};var f="OR",r="AND",p="(",u=")"},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.executeFunctionByName=function(a,b){try{for(var l=window,p=a&&a.split("."),u=p&&p.pop(),k=0;k<p.length;k++)l=l[p[k]];if("function"==typeof l[u])return l[u].apply(l,[b])}catch(m){console.error("apt. Failed to execute function. Error is",m)}}},function(l,a,b){Object.defineProperty(a,
"__esModule",{value:!0});a.replaceAllDomains=function(a,b,l,p){if(a.hasAttribute(b)){var u=a.getAttribute(b),k=document.createElement("a");k.href=u;0===u.indexOf(p)&&(k.href=u.replace(p,l),a.setAttribute(b,k.href))}}},function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});a.getImage=a.IMAGE_MAP=void 0;l=b(8);var n=b(13),f=b(1),r=b(7),p=new l.LocalCache;b=function(a){return f.staticContentHost+"/images/"+a+".svg"};var u=a.IMAGE_MAP={unsatisfied:b("unsatisfied"),satisfied:b("satisfied"),neutral:b("neutral")};
a.getImage=function(a,b){var e=p[a];return e?b(e):(n.AjaxUtil.getData(u[a],function(e){e=(0,r.toDom)(e,!0);return p[a]=e,b(e)}),null)}},function(l,a,b){function n(a,b,c,d){a=a+"-"+b;d[a]||(d[a]=c)}function f(a,b){return A[a+"-"+b]||null}function r(a,b){return x[a+"-"+b]||null}function p(a){if(c&&E===a)return Promise.resolve(c);var b=new Uint8Array(a.match(t).map(function(a){return parseInt(a,16)}));return window.crypto.subtle.importKey(g,b,q,!1,v).then(function(b){return c=b,E=a,b})}function u(a){var b=
[];a=a.matchAll(w)||[];return Array.from(a).forEach(function(a){var c=m(a,4),d=c[1],e=c[2],f=c[3];a=a.index;c=a+c[0].length;f&&b.push({attrName:d,quoteStyle:e,originalValue:f,startIndex:a,originalEndIndex:c})}),b}function k(a,b){var c=a;return b.sort(function(a,b){return b.startIndex-a.startIndex}),b.forEach(function(a){var b="["+a.attrName+"\x3d"+a.quoteStyle+a.processedValue+a.quoteStyle+"]";c=c.slice(0,a.startIndex)+b+c.slice(a.originalEndIndex)}),c}Object.defineProperty(a,"__esModule",{value:!0});
var m=function(){return function(a,b){if(Array.isArray(a))return a;if(Symbol.iterator in Object(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(k){e=!0,f=k}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f;}}return c}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();a.getFromDecryptedCache=f;a.addToEncryptedSelectorCache=function(a,b){n(a,b,b,B)};a.getFromEncryptedSelectorCache=
function(a,b){return B[a+"-"+b]||null};a.getFromDecryptedSelectorCache=function(a,b){return y[a+"-"+b]||null};a.addToDecryptedSelectorCache=function(a,b){n(a,b,b,y)};a.getFromEncryptedCache=r;a.encrypt=function(a,b){var c=r(b,a);if(c)return Promise.resolve(c);var e=(new TextEncoder).encode(""+a+d);return p(b).then(function(a){return window.crypto.subtle.encrypt(h,a,e)}).then(function(c){c=new Uint8Array(c);if(65536<c.length){for(var d="",e=0;e<c.length;e+=8192)var f=c.subarray(e,e+8192),d=d+String.fromCharCode.apply(null,
f);c=window.btoa(d)}else c=window.btoa(String.fromCharCode.apply(null,c));n(b,a,c,x);return c})};a.decrypt=function(a,b){var c=f(b,a);return c?Promise.resolve(c):p(b).then(function(b){var c=Uint8Array.from(atob(a),function(a){return a.charCodeAt(0)});return window.crypto.subtle.decrypt(h,b,c)}).then(function(c){c=(new TextDecoder).decode(c).split(d)[0];n(b,a,c,A);return c})};a.decryptOrEncryptSelector=function(a,b){return new Promise(function(c){try{var d=(0,e.getConfig)("decryptionSelectorKey");
if(!d)return void c(a);var f=u(a,d,b).map(function(a){return b(a.originalValue,d).then(function(b){return a.processedValue=String(b),a})["catch"](function(){a.processedValue=a.attrValue})});Promise.all(f).then(function(b){0===b.length?c(a):(b=k(a,b),c(b))})["catch"](function(){c(a)})}catch(g){c(a)}})};var e=b(1),g="raw",d="|||",h={name:"AES-CBC",iv:new Uint8Array(16)},v=["encrypt","decrypt"],q={name:"AES-CBC"},w=/\[([^\]=\s]+)\s*=\s*("|')(.*?)\2\]/g,t=/.{1,2}/g,x={},A={},B={},y={},c=null,E=null},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"2" d\x3d"M9.75 1.5l12 13.125-12 13.125"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-width\x3d"4"\x3e\x3cpath d\x3d"M13.5 5.25l9.375 9.375L13.5 24M23.25 14.5h-18"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cg\x3e\x3cpath d\x3d"m15,3.75l12.75,11.25l-12.75,11.25l-5.25,0l12.75,-11.25l-12.75,-11.25l5.25,0z"\x3e\x3c/path\x3e\x3cpath d\x3d"m3,13l21,0l0,3.75l-21,0l0,-3.75z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"4"\x3e\x3cpath d\x3d"M15.75 7.5l6 7.5-6 7.5M6.75 15h15"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cg\x3e\x3cpath d\x3d"m2.75,13.75l21,0l0,3l-21,0l0,-3z"\x3e\x3c/path\x3e\x3cpath d\x3d"m15.5,23.442l2.09,2.058l10.285,-10.125l-10.284,-10.125l-2.091,2.058l8.194,8.067l-8.194,8.067z" fill-rule\x3d"nonzero"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M19.695 16.125l-4.32 4.253 1.394 1.372L23.625 15l-6.856-6.75-1.394 1.372 4.32 4.253H7.5v2.25h12.195z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m12.06,10.304l1.47,4.386c0.059,0.17 0.059,0.45 0,0.621l-1.47,4.386c-0.174,0.518 0.046,0.707 0.491,0.422l7.475,-4.774c0.3,-0.19 0.298,-0.499 0,-0.689l-7.475,-4.774c-0.444,-0.283 -0.665,-0.096 -0.492,0.422l0.001,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m10.05,6.097a0.664,0.664 0 0 0 -0.3,0.537c1.493,2.912 3.285,5.865 4.731,8.366l-4.64,8.043a0.662,0.662 0 0 0 0.12,0.788c0.21,0.196 0.555,0.225 0.793,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m25.682,16.355c0.762,-0.77 0.756,-2.02 -0.01,-2.792l-9.083,-9.116c-2.12,-2.113 -5.301,1.057 -3.181,3.17l3.963,3.95c0.66,0.658 0.437,1.19 -0.485,1.19l-10.886,0a2.247,2.247 0 0 0 -2.25,2.243a2.246,2.246 0 0 0 2.25,2.241l10.886,0c0.927,0 1.149,0.532 0.485,1.194l-3.963,3.947c-2.12,2.115 1.06,5.285 3.18,3.17l9.094,-9.197z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(l,
a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m27.508,15.032l-13.964,8.693l0,-6.015l-11.081,0l0,-5.45l11.08,0l0,-5.92l13.965,8.692zm1.742,0c0,-0.63 -0.33,-1.228 -0.841,-1.575l-13.964,-8.693a1.653,1.653 0 0 0 -1.742,-0.032c-0.541,0.315 -0.87,0.913 -0.87,1.575l0,4.094l-9.342,0c-0.96,0 -1.742,0.82 -1.742,1.827l0,5.449c0,1.008 0.781,1.827 1.742,1.827l9.34,0l0,4.189c0,0.662 0.331,1.26 0.87,1.575c0.541,0.315 1.202,0.315 1.743,-0.032l13.964,-8.693c0.51,-0.283 0.841,-0.881 0.841,-1.511l0.001,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m16.616,22.44a0.591,0.591 0 0 1 -0.345,-0.533l0,-3.365l-10.331,1.423a0.625,0.625 0 0 1 -0.482,-0.14a0.591,0.591 0 0 1 -0.208,-0.447l0.003,-8.76c0,-0.17 0.077,-0.336 0.208,-0.448a0.615,0.615 0 0 1 0.482,-0.14l10.331,1.423l0,-3.362c0,-0.229 0.134,-0.435 0.345,-0.533a0.62,0.62 0 0 1 0.641,0.072l8.765,6.905a0.587,0.587 0 0 1 0,0.922l-8.77,6.908a0.597,0.597 0 0 1 -0.639,0.075zm8.066,-7.444l-7.199,-5.67l0,3.485l-11.019,-1.511l0,7.4l11.019,-1.512l0,3.488l7.2,-5.679l-0.001,-0.001z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"3" d\x3d"M12.5 3l9.75 11.625L12.5 26.25"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-width\x3d"4" d\x3d"M11.5 5.25l9.375 9.375L11.5 24"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m13,3.75l12.75,11.25l-12.75,11.25l-5.25,0l12.75,-11.25l-12.75,-11.25l5.25,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"4" d\x3d"M12.75 7.5l6 7.5-6 7.5"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath stroke\x3d"none" d\x3d"m10.5,23.442l2.09,2.058l10.285,-10.125l-10.284,-10.125l-2.091,2.058l8.194,8.067l-8.194,8.067z" fill-rule\x3d"nonzero"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M12 20.378l1.394 1.372L20.25 15l-6.856-6.75L12 9.622 17.463 15z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"2"\x3e\x3cpath d\x3d"M15.75 1.5l12 13.125-12 13.125M2.25 14.5h24"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cg stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"3"\x3e\x3cpath d\x3d"M3.75 14.5H24M16.5 3l9.75 11.625L16.5 26.25"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" stroke-width\x3d"4" d\x3d"M6 15l7 6L24 9"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cg fill-rule\x3d"evenodd" fill\x3d"none"\x3e\x3cpath stroke\x3d"none" d\x3d"m0,0l30,0l0,30l-30,0l0,-30z"\x3e\x3c/path\x3e\x3cg stroke-width\x3d"4" stroke-linejoin\x3d"round" stroke-linecap\x3d"round"\x3e\x3cpath d\x3d"m15.75,7.5l6,7.5l-6,7.5m-9,-7.5l15,0"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m5,21.237c0.261,-3.28 1.917,-9.413 10.625,-9.413l0,-3.204c-0.001,-0.234 0.13,-0.45 0.336,-0.555a0.602,0.602 0 0 1 0.64,0.06l8.01,6.082c0.245,0.187 0.389,0.48 0.389,0.79a0.99,0.99 0 0 1 -0.39,0.79l-7.999,6.08a0.601,0.601 0 0 1 -0.647,0.069a0.618,0.618 0 0 1 -0.34,-0.564l0,-3.204s-5.678,-1.057 -9.534,3.526a0.62,0.62 0 0 1 -0.703,0.16a0.636,0.636 0 0 1 -0.386,-0.617l-0.001,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m21.058,12.17l-3.12,-3.242a1.427,1.427 0 0 1 0,-2.012a1.416,1.416 0 0 1 2.005,0l5.647,5.665a1.42,1.42 0 0 1 0,1.997l-5.648,5.665a1.408,1.408 0 0 1 -1.996,0.007a1.42,1.42 0 0 1 -0.008,-2.004l3.12,-3.243l-9.822,0c-0.387,0 -0.758,0.158 -1.025,0.44a1.42,1.42 0 0 0 -0.387,1.047l0,5.594c0,0.782 -0.632,1.416 -1.412,1.416c-0.78,0 -1.411,-0.634 -1.411,-1.416l0,-5.594a4.258,4.258 0 0 1 1.214,-3.05a4.229,4.229 0 0 1 3.02,-1.27l9.823,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m12.986,22l-5.986,-5.621l1.513,-1.63l4.321,4.052l9.502,-10.801l1.664,1.479l-11.014,12.521z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath strok\x3d"none" d\x3d"m10.288,14.997l3.617,2.63l7.593,-9.584a1.352,1.352 0 0 1 1.838,-0.313l0.101,0.071c0.597,0.404 0.743,1.197 0.324,1.773l-8.285,12.307c-0.313,0.43 -0.623,0.58 -1.168,0.615c-0.545,0.035 -0.875,-0.16 -1.202,-0.476l-4.715,-5.197a1.256,1.256 0 0 1 0,-1.823l0.007,-0.003a1.373,1.373 0 0 1 1.89,0z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m8.133,11.868l6.355,4.846l9.237,-10.374a1.021,1.021 0 0 1 1.431,-0.09c0.378,0.33 0.454,0.885 0.179,1.303l-10.847,16.447l-7.798,-10.752a0.997,0.997 0 0 1 0.233,-1.4c0.364,-0.26 0.856,-0.251 1.21,0.02z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M23.206 8.831A2.636 2.636 0 0 0 21.286 8c-.725 0-1.407.295-1.918.831l-6.053 6.322-2.684-2.805a2.635 2.635 0 0 0-1.919-.831c-.724 0-1.407.295-1.92.831-1.056 1.105-1.056 2.904.001 4.01l4.602 4.809a2.618 2.618 0 0 0 3.41.367c.156-.108.3-.23.428-.365l7.97-8.327A2.884 2.884 0 0 0 24 10.837a2.888 2.888 0 0 0-.794-2.006z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M19.695 16.125l-4.32 4.253 1.394 1.372L23.625 15l-6.856-6.75-1.394 1.372 4.32 4.253H7.5v2.25h12.195z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" viewBox\x3d"0 0 30 30"\x3e\x3cg fill\x3d"none" fill-rule\x3d"evenodd"\x3e\x3cpath stroke\x3d"none" d\x3d"M0 0h30v30H0z"\x3e\x3c/path\x3e\x3cpath stroke-linecap\x3d"round" stroke-linejoin\x3d"round" d\x3d"M17.332 8.003c.08.011.156.045.22.098l7.273 6.034c.11.091.175.232.175.38 0 .15-.065.29-.175.381l-7.273 6.034a.432.432 0 0 1-.476.052.487.487 0 0 1-.256-.43v-2.42c-.576-.025-1.863-.06-3.764.287-2.268.413-5.046 1.367-7.302 3.461a.433.433 0 0 1-.55.04.498.498 0 0 1-.182-.552c1.899-6.21 7.676-9.169 11.798-10.347V8.487c0-.14.054-.273.153-.365a.435.435 0 0 1 .359-.118v-.001z"\x3e\x3c/path\x3e\x3c/g\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m10.05,6.097a0.664,0.664 0 0 0 -0.3,0.537c1.493,2.912 3.285,5.865 4.731,8.366l-4.64,8.043a0.662,0.662 0 0 0 0.12,0.788c0.21,0.196 0.555,0.225 0.793,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014z"\x3e\x3c/path\x3e\x3c/svg\x3e'},
function(l,a){l.exports='\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" xmlns:svg\x3d"http://www.w3.org/2000/svg"\x3e\x3cpath d\x3d"m9,6.634c6.353,8.365 0.09,16.41 0.09,16.41a0.662,0.662 0 0 0 0.12,0.787c0.21,0.196 0.556,0.225 0.794,0.067c4.154,-2.896 8.47,-5.765 12.185,-8.346c0.148,-0.11 0.311,-0.225 0.311,-0.553a0.656,0.656 0 0 0 -0.281,-0.533c-4.194,-2.855 -8.465,-5.794 -12.205,-8.355c-0.296,-0.166 -0.435,-0.125 -0.714,-0.014a0.665,0.665 0 0 0 -0.3,0.537z"\x3e\x3c/path\x3e\x3c/svg\x3e'},function(l,
a){(function(a){l.exports=a}).call(a,{})},,,,,,,function(l,a,b){function n(a){if(Array.isArray(a)){for(var b=0,f=Array(a.length);b<a.length;b++)f[b]=a[b];return f}return Array.from(a)}Object.defineProperty(a,"__esModule",{value:!0});var f=b(1),r=b(15),p=b(12),u=b(29),k=b(5);a["default"]={discoverTopWindowPath:function(a,b){if((0,f.isIframe)()){var g=k.IframeRequest.getIframeRequest((0,r.getIframeId)(),u.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH,{iframesPath:[].concat(n(b),[(0,r.getIframeId)()])},a);(0,
p.postRequest)(g,window.parent,!0)}},discoverTopWindowPathResponse:function(a,b,g){(0,f.isIframe)()&&(b=k.IframeRequest.getIframeRequest((0,r.getIframeId)(),u.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH_RESPONSE,{iframesPath:g},b),(0,p.postRequestDown)(b,a))}}},function(l,a,b){function n(a,b){switch(a.aptrinsicEventType){case k.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH:(0,g.setTopWindow)(window);(0,m.setChildIframe)(a.aptrinsicIframeId,b.source,b.origin);u["default"].sendDiscoverTopWindowPathResponse((0,m.getChildIframeData)(a.aptrinsicIframeId),
a.aptrinsicRequestId,a.content.iframesPath);break;default:r.logger.logInternalError(Error("DiscoverTopWindowPath master client got unsupported message, data: "+JSON.stringify(a)))}}Object.defineProperty(a,"__esModule",{value:!0});a["default"]=function(){(0,p.isIframe)()||(0,f.addEventListener)(window,"message",function(a){(0,e.handleIncomingRequest)(a,d,n)},!1)};var f=b(0),r=b(2),p=b(1),u=(l=b(213))&&l.__esModule?l:{"default":l},k=b(29),m=b(58),e=b(114),g=b(22),d=[k.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH]},
function(l,a,b){Object.defineProperty(a,"__esModule",{value:!0});var n=b(1),f=b(29),r=b(5),p=b(12);a["default"]={sendDiscoverTopWindowPathResponse:function(a,b,l){(0,n.isIframe)()||(b=r.IframeRequest.getMasterRequst(f.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH_RESPONSE,{iframesPath:l},b,a.iframeId),(0,p.postRequestDown)(b,a))}}},function(l,a,b){function n(a,b){switch(a.aptrinsicEventType){case e.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH:(0,g.setChildIframe)(a.aptrinsicIframeId,b.source,b.origin);u["default"].discoverTopWindowPath(a.aptrinsicRequestId,
a.content.iframesPath);break;case e.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH_RESPONSE:var d=a.content,f=a.aptrinsicRequestId,h=d.iframesPath;(0,p.getIframeId)()===h[0]?(0,m.decrementState)(f,{iframesPath:h}):(d=d.iframesPath.indexOf((0,p.getIframeId)()),u["default"].discoverTopWindowPathResponse((0,g.getChildIframeData)(h[d-1]),f,h));break;default:r.logger.logInternalError(Error("DiscoverTopWindowPath iframe client got unsupported message, data: "+JSON.stringify(a)))}}Object.defineProperty(a,"__esModule",
{value:!0});a["default"]=function(){(0,k.isIframe)()&&(0,f.addEventListener)(window,"message",function(a){(0,d.handleIncomingRequest)(a,h,n)},!1)};var f=b(0),r=b(2),p=b(12),u=(l=b(211))&&l.__esModule?l:{"default":l},k=b(1),m=b(5),e=b(29),g=b(58),d=b(114),h=[e.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH,e.EVENT_TYPES.DISCOVER_TOP_WINDOW_PATH_RESPONSE]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}function f(a){t["default"].isEditorMode()?t["default"].saveConfig():((new q.EventTracker).initCollector(),(0,C.isWebApp)(a)||x["default"].init(),(0,E.appReady)(),z["default"].init(),J["default"].init(),O["default"].init())}function r(a){t["default"].isEditorMode()&&t["default"].loadEditor(a)&&(0,t["default"])("setConfig",(0,h.getConfigObj)())&&(0,t["default"])("init",a)}function p(a,b){if(!(0,
h.getConfigObj)().hasOwnProperty(a))return void B.logger.logInternalError(Error("Unrecognized config field: "+a+". Cannot set config change handler"));(0,h.updateConfigChangeHandlers)(a,b)}function u(){p("enableTag",function(a,b){!a&&b?k(H,U):a&&0==!b&&G.KnowledgeCenterManager.removeWidget()});p("widgetEnabled",function(a,b){"loading"!==document.readyState&&(!a&&b?G.KnowledgeCenterManager.initWidget({apiKey:d.eventTrackData.data[d.productIdParameter],aptId:d.eventTrackData.data[d.aptrinsicIdParam]}):
a&&!b&&G.KnowledgeCenterManager.removeWidget())})}function k(a,b,e){v.AjaxUtil.loadFile("css",(0,h.getAssetEndpoint)("style")+"?a\x3d"+a,(0,h.getConfig)("crossOriginStyle")||a&&-1!==a.indexOf("AP-7SBC7L5BZ8ML"));d.eventTrackData[g.cacheSet](d.productIdParameter,a);d.eventTrackData[g.cacheSet]("sv",d.applicationVersion);(0,h.isIframe)()||(w.UserData.initializeUser(a),d.eventTrackData[g.cacheSet](d.userIdParameter,w.UserData.getUserId()),d.eventTrackData[g.cacheSet]("vt",w.UserData.getUserType()),d.eventTrackData[g.cacheSet]("ai",
w.UserData.getAptrinisId()),d.eventTrackData[g.cacheSet](d.sessionIdParam,w.UserData.getSessionId()));(b=L.q)&&0<b.length&&Q["default"].call(b);d.windowRef[d.aptrinsicGlobalObjName]=F.aptExternal;r(a);f(a);t["default"].isEditorMode()||(0,h.featureEnabled)("pageView")&&(0,E.internalApt)("pageview");d.windowRef[d.aptrinsicGlobalObjName].init=!0;if(a=(0,c.isOndemandState)())e=(0,G.getKcDataFromSessionStorage)(),b=e.kcId,e=e.categoryId,(0,G.getKcEngagement)(a,!1,b,e);!(0,h.isIframe)()&&c.isStartOverState&&
(0,c.startOverEngagement)(function(a){y.EngagementDrawer.draw([a],!0)})}function m(){setTimeout(function(){return(0,F.initKnowledgeCenterWrapper)(!1,!0,function(a){a||setTimeout(function(){return K(!1,!1)},T)})},T)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},g=b(8),d=b(4),h=b(1),v=b(13),q=b(433),w=b(26);l=b(16);var t=n(l);l=b(116);var x=
n(l),A=b(11),B=b(2),y=b(52),c=b(30),E=b(27);l=b(419);var z=n(l);l=b(109);var J=n(l),G=b(34),C=b(0);l=b(40);var O=n(l),D=b(118),F=b(78);l=b(117);var Q=n(l),S=b(120),L=d.windowRef[d.aptrinsicGlobalObjName],T=750;Object.entries||(Object.entries=function(a){for(var b=Object.keys(a),c=b.length,d=Array(c);c--;)d[c]=[b[c],a[b[c]]];return d});String.prototype.startsWith||(String.prototype.startsWith=function(a,b){return this.substr(!b||0>b?0:+b,a.length)===a});Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,
b=!{toString:null}.propertyIsEnumerable("toString"),c="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),d=c.length;return function(f){if("function"!=typeof f&&("object"!==(void 0===f?"undefined":e(f))||null===f))throw new TypeError("Object.keys called on non-object");var g=[],h=void 0,k=void 0;for(h in f)a.call(f,h)&&g.push(h);if(b)for(k=0;k<d;k++)a.call(f,c[k])&&g.push(c[k]);return g}}());Object.values||(Object.values=function(a){return Object.keys(a).map(function(b){return a[b]})});
window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(a,b){b=b||window;for(var c=0;c<this.length;c++)a.call(b,this[c],c,this)});String.prototype.endsWith||(String.prototype.endsWith=function(a,b){return(void 0===b||b>this.length)&&(b=this.length),this.substring(b-a.length,b)===a});var H=void 0,U=void 0;try{if(!0!==d.windowRef[d.aptrinsicGlobalObjName].init){if(!L)throw Error("cannot initiate without tag");H=L.p;d.eventTrackData[g.cacheSet](d.productIdParameter,H);(0,h.setCachedConfig)(D.tagConfigKeyName,
L.c);H?function(){(0,S.copyLocalStorageToSessionStorageGuideKeys)();u();(0,h.overrideConfig)((0,h.getCachedConfig)(D.tagConfigKeyName),!1);t["default"].saveConfig();setInterval(function(){(0,D.getServerConfiguration)(!1,H,U,(0,h.getCachedConfig)(D.tagConfigKeyName),k)},6E5);(0,D.getServerConfiguration)(!0,H,U,(0,h.getCachedConfig)(D.tagConfigKeyName),k);A.internalEventListener.addListener("identify",m);A.internalEventListener.addListener("set",function(a){return"user"===a&&m()});A.internalEventListener.addListener("sessionInitialized",
m);A.internalEventListener.addListener("sessionExpired",c.hideAnyActiveEngagement)}():B.logger.logInternalError(Error("Tag does not contain proper API key"))}}catch(Y){B.logger.logInternalError(Y)}var K=(0,C.debounce)(F.initKnowledgeCenterWrapper,T)},,,,,function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(a,"__esModule",{value:!0});var f=b(7),r=b(0),p=b(2),u=b(12);l=b(16);var k=n(l);l=b(51);var m=n(l),e=b(1),g=b(109),d=b(29);l=b(214);var h=n(l);l=b(121);var v=
n(l);b=b(48);var q=n(b),w=[d.TRACKING_EVENT_TYPES.GET_ELEMENT_TEXT,d.TRACKING_EVENT_TYPES.REGISTER_FEATURE_RULES,"resolveClickProperties","syncTrackingPropertiesMetaData"];b=new function(){function a(b){if((0,u.isValidCallingDomain)(b.origin))try{var e=(0,u.parseEvent)(b);if(e&&-1<w.indexOf(e.aptrinsicEventType)){var h=e.content;switch(e.aptrinsicEventType){case d.TRACKING_EVENT_TYPES.GET_ELEMENT_TEXT:var k=(0,f.getElementText)(h.cssSelector);m["default"].textElementResponse(k,e.aptrinsicRequestId);
break;case d.TRACKING_EVENT_TYPES.REGISTER_FEATURE_RULES:(0,g.loadIframeRules)(h.rules);break;case "resolveClickProperties":var c=q["default"].resolveClickProperties(h.clickPropertyIds);m["default"].clickPropertiesResponse(c,e.aptrinsicRequestId);break;case "syncTrackingPropertiesMetaData":q["default"].setTrackingPropertiesMetaData(h.trackingPropertiesMetaData);v["default"].setIframeTrackingFeatures(h.clickTrackingFeatures);break;default:p.logger.logInternalError(Error("tracker iframe client got unsupported message, data: "+
JSON.stringify(e)))}}}catch(l){p.logger.logInternalError(l)}}(0,e.isIframe)()&&!k["default"].isEditorMode()&&((0,r.addEventListener)(window,"message",a,!1),(0,h["default"])())};a["default"]=b},,,,,,,,,function(l,a,b){function n(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(a,"__esModule",{value:!0});var f=b(0),r=b(2),p=b(12);l=b(116);var u=n(l),k=b(1),m=b(5);l=b(16);var e=n(l),g=b(50),d=b(109),h=n(d);l=b(43);var v=n(l);b=b(212);var q=n(b),w="register pxUnregister track lead fetchElementTextResponse apt-log textFeatureMatches resolvedClickPropertiesResponse".split(" ");
b=new function(){function a(b){if((0,p.isValidCallingDomain)(b.origin))try{var e=(0,p.parseEvent)(b);if(e&&-1<w.indexOf(e.aptrinsicEventType)){var l=e.content;switch(e.aptrinsicEventType){case "register":(0,m.registerIframe)(b.source,b.origin,e.aptrinsicIframeId,(0,k.getConfig)("framesetMode"));var n=(0,d.getRawFeatureRules)();(0,f.isNotEmptyArr)(n)&&v["default"].syncFeatureRules(n);v["default"].syncTrackingPropertiesMetaData();break;case "pxUnregister":(0,m.unregisterIframe)(e.aptrinsicIframeId);
break;case "track":if((0,k.isIframeDisabled)(l.aptrinsicEventType))return void r.logger.logInternalError(Error("master script got unsupported track event from iframe, data: "+JSON.stringify(l)));g.api.trackEvent(l.aptrinsicEventType,l.properties,"identify"===l.aptrinsicEventType?g.identifyCallback:void 0,l.customEventName,!0,l.passedGlobalContext);break;case "lead":var c=e.content;u["default"].track(c.source,c.email,c.userData,c.formFields);break;case "fetchElementTextResponse":(0,m.decrementState)(e.aptrinsicRequestId,
l.text);break;case "apt-log":r.logger.reportToServer("aptrinsic web sdk error: "+e.content.message+"\n"+e.content.extraMessage+"\n at: "+e.content.stackTrace);break;case "textFeatureMatches":if((0,k.isIframe)())break;h["default"].evaluateIframeMatches(e.content.featureMatchData);break;case "resolvedClickPropertiesResponse":l.iframeId=e.aptrinsicIframeId;(0,m.decrementState)(e.aptrinsicRequestId,l);break;default:r.logger.logInternalError(Error("tracker proxy got unsupported message, data: "+JSON.stringify(e)))}}}catch(q){r.logger.logInternalError(q)}}
this.init=function(){(0,k.isIframe)()||e["default"].isEditorMode()||((0,f.addEventListener)(window,"message",a,!1),(0,q["default"])())}};a["default"]=b},,,,,,,,,,,,,,function(l,a,b){function n(a){if(a.previousElementSibling)return a.previousElementSibling;for(;a=a.previousSibling&&1!==a.nodeType;);return a}function f(a,b){return-1<c.indexOf(b)&&!(0,d.isBlank)(a)&&!a.startsWith("data")&&(a=(0,q.maskFullUrl)(a)),255<a.length?a.substring(0,255):a}function r(a){var b={},c=void 0,g=void 0,c=a[z].toLowerCase(),
h=(0,e.getConfig)("elementAttributeDenyMap")[c],g=v.EXTRA_ATTRIBUTES_BY_ELEMENT_TYPE[c];b.tagName=a[z];b.attributes=0<a.attributes.length?{}:null;for(var k=0;k<a.attributes.length;k++){var c=a.attributes[k],l=c.name.toLowerCase();h&&-1<h.indexOf(l)||(c.specified&&-1<y.indexOf(l)||(0,d.matchEither)((0,e.getConfig)("elementAttributeWhitelist"),c.name)||g&&-1<g.indexOf(l))&&(b.attributes[c.name]="class"===c.name.toLowerCase()?f(c.value.replace(E," "),c.name.toLowerCase()):f(c.value,c.name.toLowerCase()))}"select"===
a[z].toLowerCase()&&(b.attributes.selectedIndex=a.selectedIndex,((0,d.isEmptyArr)(h)||-1===h.value)&&(b.attributes.selectedValue=a.value));c=h=1;for(g=a;g=n(g);)++h,g[z]==a[z]&&c++;return b.child_n=h,b.child_tag_n=c,b}function p(a,b){if(!a||!a[z])return!1;if(!a[z][J])throw Error("element have tag name but it is not a string "+a[z]+", full element"+a);var c=a[z][J]();if(-1<A.indexOf(c)||1!=a.nodeType||"select"===c&&"change"!==b.type||"change"===b.type&&-1==B.indexOf(c)||"submit"===b.type&&"form"!==
c)return!1;for(c=a;c&&!(0,d.isRootTag)(c);){var e=c.classList.contains("apt-guide-popup")||c.classList.contains("apt-badge");if(1===c.nodeType&&e||"true"===c.getAttribute("data-apt-disable-selector"))return!1;c=(0,h.getParentNode)(c)}return!0}Object.defineProperty(a,"__esModule",{value:!0});a.EventTracker=void 0;var u=function(){function a(b,c){for(var d=0;d<c.length;d++){var e=c[d];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}return function(b,
c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),k=b(2),m=b(9),e=b(1),g=b(27),d=b(0),h=b(18),v=b(4),q=b(19),w=(l=b(109))&&l.__esModule?l:{"default":l},t=b(7),x=b(42),A=["html","body","option"],B=["select"],y=["id","class"],c=["href","src"],E=new RegExp(/\s\s+/g),z="tagName",J="toLowerCase";b=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.lastEvent=null;this.pageHight=(0,m.getPageHeight)();this.pageWidth=(0,m.getPageWidth)()}return u(a,
[{key:"initCollector",value:function(){var a=this;if((0,e.getConfig)("enableTag")){k.logger.log("starting collector for all events");var b=(0,e.getConfig)("usePointerEvent");if((0,e.featureEnabled)("click")&&(this.addEventListener(document,b?(0,m.getPointerDownEventName)():"mousedown",function(b){a.lastEvent=b.target}),this.addEventListener(document,b?(0,m.getPointerUpEventName)():"mouseup",function(b){(0,t.checkIfSameElement)(a.lastEvent,b.target)&&(0,e.featureEnabled)("click")&&a.sendWebEvent(b)}),
(0,e.getConfig)("keyboardTriggerClick")&&this.addEventListener(document,"keydown",function(b){(-1<["Space","Enter"].indexOf(b.code)||-1<[13,32].indexOf(b.keyCode))&&(0,e.featureEnabled)("click")&&!(0,d.isEnterAllowedElement)(b.target)&&a.sendWebEvent(b)}),this.addEventListener(document,"change",function(b){(0,e.featureEnabled)("click")&&a.sendWebEvent(b)})),(0,e.featureEnabled)("form")&&!(0,d.isWebApp)(v.eventTrackData.data[v.productIdParameter])&&(this.addEventListener(document,"submit",function(b){(0,
e.featureEnabled)("form")&&a.sendWebEvent(b)}),this.addEventListener(document,"change",function(b){(0,e.featureEnabled)("form")&&a.sendWebEvent(b)})),(0,e.featureEnabled)("pageView"))try{if("onhashchange"in window&&!0===(0,e.getConfig)("autoTrackHash")&&window.addEventListener("hashchange",function(){(0,e.featureEnabled)("pageView")&&(0,g.internalApt)("pageview")}),history&&history.pushState){var c=window.location.href;this.handlePushState=this.handlePushState.bind(this);this.oldPushState=history.pushState;
history.pushState=this.handlePushState;window.addEventListener("popstate",function(a){a.singleSpa||c!==window.location.href&&(c=window.location.href,(0,e.featureEnabled)("pageView")&&(0,g.internalApt)("pageview"))})}history&&history.replaceState&&(this.handleReplaceState=this.handleReplaceState.bind(this),this.oldReplaceState=history.replaceState,history.replaceState=this.handleReplaceState)}catch(f){if(!(f instanceof TypeError&&f.message&&0<=f.message.indexOf("read only property")))throw f;!function(){var a=
window.location.href,b=setInterval(function(){try{(0,e.featureEnabled)("pageView")&&window.location.href!==a&&(a=window.location.href,(0,g.internalApt)("pageview"))}catch(c){k.logger.logInternalError(Error("Alternate pageview tracking failed"+c)),clearInterval(b)}},1E3)}()}}}},{key:"handlePushState",value:function(){this.handleStateChange(arguments,this.oldPushState,!1)}},{key:"handleReplaceState",value:function(){this.handleStateChange(arguments,this.oldReplaceState,!0)}},{key:"handleStateChange",
value:function(a,b,c){var d=window.location.href;if(b.apply(history,a),(0,e.getConfig)("enableTag")){if(c&&3<=a.length&&(b=document.createElement("a"),b.href=a[2],b.href===d))return;(0,e.featureEnabled)("pageView")&&setTimeout(function(){try{(0,g.internalApt)("pageview")}catch(a){k.logger.logInternalError(Error("failed to handle push state "+a))}},0)}}},{key:"sendWebEvent",value:function(a){try{if((0,e.getConfig)("enableTag")){var b=(0,h.getEventTarget)(a),c=b,d=[],f=void 0,l={};if(3==a.which)return void k.logger.log("ignoring right click");
if(p(b,a)){for(;null!==b&&"html"!==b[z][J]();)f=r(b),d.push(f),b=(0,h.getParentNode)(b);l.elementTree=d.reverse();l=this.populateExtraProperties(c,a,l);l.targetElement=c;var m=this.getEventType(c,a);try{w["default"].matchElement(c)}catch(n){k.logger.logInternalError(n,"failed to process feature matches for element click")}(0,x.decryptElementTreeAttributes)(l.elementTree).then(function(a){l.elementTree=a;(0,g.internalApt)(m,l)})["catch"](function(a){k.logger.logInternalError(a,"failed to decrypt element tree for event: "+
m);(0,g.internalApt)(m,l)})}}}catch(n){k.logger.logInternalError(n,"sendWebEvent:"+a+"\nelement:"+a.target)}}},{key:"getEventType",value:function(a,b){return"form"===a[z][J]()?"formSubmit":"a"==a[z][J]()?"linkClick":"click"}},{key:"populateExtraProperties",value:function(a,b,c){if((0,e.getConfig)("enableTag")){if("form"===a[z][J]()&&"submit"===b.type){b={};var d=void 0,f=void 0,g=void 0,h=a.querySelectorAll("input");if(void 0!==h){for(var k=0;k<h.length;k++)d=h[k],"password"!==(g=d.getAttribute("type"))&&
"button"!==g&&"submit"!==g&&2048>=d.value.length&&(f=d.getAttribute("id")||d.getAttribute("name"))&&(b[f]=d.value);c.fof=b}}"button"===a[z][J]()&&((b=(0,e.getConfig)("elementAttributeDenyMap").button)&&-1!==b.indexOf("value")||(c.value=a.textContent));if("select"===a[z][J]()&&(b=(0,e.getConfig)("elementAttributeDenyMap").select,!b||-1===b.indexOf("value")))if(a.multiple){b=[];a=a.options;for(d=0;d<a.length;d++)a[d].selected&&b.push(a[d].value);c.value=b.join(",")}else c.value=a.value;return c}}},
{key:"addEventListener",value:function(a,b,c){var d=(0,e.getConfig)("sfdcTemplate");if(d&&a===document&&(a=d),a.addEventListener)a.addEventListener(b,c,!0);else{if(!a.attachEvent)return k.logger.log("there is no support for adding events"),!1;a.attachEvent("on"+b,c)}return!0}}]),a}();a.EventTracker=b},,,,function(l,a,b){b(405);b(112);b(111);l.exports=b(410)}])}
function setupUserTelemetryAdapter(){function l(a){return function(b){function l(b){b=a(b);return b.startsWith("/")?"https://obfuscated-rm-base.example.com"+b:b}b.url&&(b.url=l(b.url));b.path&&(b.path=a(b.path));b.referrer&&(b.referrer=l(b.referrer));b.title&&(b.title="");return b}}function a(a,b){var l=window.aptrinsic||function(){l.q.push(arguments)};l.c=Object.assign({},b,l.c);l.p=a;l.q=[];window.aptrinsic=l}var b=!1;window.userTelemetry={initialize:function(n){b||(b=!0,a("AP-YFGMCGUNNIFB-2",{espProxyDomain:n.contentHost,
contentProxyDomain:n.contentHost,storageProxyDomain:n.contentHost+"/storage",usePOST:n.usePOST||!1,filterUrls:n.filterUrls||["*"],filterType:n.filterType||"exclude",maskUrlFunction:l(n.sanitizeUrl),trustedOrigin:window.location.origin,stripSafeUrlProtocol:!1,elementAttributeDenyMap:{button:["value"],select:["value"]}}),sonatypeStartGainsightPx());var f=n.visitor||{id:"anonymous-"+n.account.id};window.aptrinsic("set","globalContext",{rm_serverVersion:n.account.rm_serverVersion});window.aptrinsic("identify",
f,n.account)}}}(function(){setupUserTelemetryAdapter()})();