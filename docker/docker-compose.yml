services:
  gateway:
    build:
      context: ..
      dockerfile: /modules/gateway/docker/Dockerfile
    restart: unless-stopped
    container_name: "gateway"
    environment:
      - JWT_SECRET_BASE64=d63e784e7490fb6beed24b4cab1c65b2a83da4b88bb6a522b65ab493bb279bf8
      - AUTH_CONTAINER=http://auth:8082
      - FINANCE_CONTAINER=http://finance:8083
    ports:
      - "8080:8080"
    networks:
      - moneyisland-network

  auth:
    build:
      context: ..
      dockerfile: /modules/auth/docker/Dockerfile
    restart: unless-stopped
    container_name: "auth"
    environment:
      - JWT_SECRET_BASE64=d63e784e7490fb6beed24b4cab1c65b2a83da4b88bb6a522b65ab493bb279bf8
    networks:
      - moneyisland-network

networks:
  moneyisland-network:
    driver: bridge
